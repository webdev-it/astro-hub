function zk(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();function Ll(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wM={exports:{}},Lv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO;function Ik(){if(oO)return Lv;oO=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:a}}return Lv.Fragment=t,Lv.jsx=e,Lv.jsxs=e,Lv}var lO;function Bk(){return lO||(lO=1,wM.exports=Ik()),wM.exports}var V=Bk(),AM={exports:{}},Dn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO;function Fk(){if(uO)return Dn;uO=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=v&&Q[v]||Q["@@iterator"],typeof Q=="function"?Q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function T(Q,ut,gt){this.props=Q,this.context=ut,this.refs=A,this.updater=gt||b}T.prototype.isReactComponent={},T.prototype.setState=function(Q,ut){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ut,"setState")},T.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function E(){}E.prototype=T.prototype;function O(Q,ut,gt){this.props=Q,this.context=ut,this.refs=A,this.updater=gt||b}var P=O.prototype=new E;P.constructor=O,M(P,T.prototype),P.isPureReactComponent=!0;var z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function q(Q,ut,gt,Lt,Dt,Zt){return gt=Zt.ref,{$$typeof:n,type:Q,key:ut,ref:gt!==void 0?gt:null,props:Zt}}function Y(Q,ut){return q(Q.type,ut,void 0,void 0,void 0,Q.props)}function G(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function j(Q){var ut={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(gt){return ut[gt]})}var K=/\/+/g;function st(Q,ut){return typeof Q=="object"&&Q!==null&&Q.key!=null?j(""+Q.key):ut.toString(36)}function lt(){}function dt(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(lt,lt):(Q.status="pending",Q.then(function(ut){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ut)},function(ut){Q.status==="pending"&&(Q.status="rejected",Q.reason=ut)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function vt(Q,ut,gt,Lt,Dt){var Zt=typeof Q;(Zt==="undefined"||Zt==="boolean")&&(Q=null);var _t=!1;if(Q===null)_t=!0;else switch(Zt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(Q.$$typeof){case n:case t:_t=!0;break;case g:return _t=Q._init,vt(_t(Q._payload),ut,gt,Lt,Dt)}}if(_t)return Dt=Dt(Q),_t=Lt===""?"."+st(Q,0):Lt,z(Dt)?(gt="",_t!=null&&(gt=_t.replace(K,"$&/")+"/"),vt(Dt,ut,gt,"",function(Xt){return Xt})):Dt!=null&&(G(Dt)&&(Dt=Y(Dt,gt+(Dt.key==null||Q&&Q.key===Dt.key?"":(""+Dt.key).replace(K,"$&/")+"/")+_t)),ut.push(Dt)),1;_t=0;var Qt=Lt===""?".":Lt+":";if(z(Q))for(var ae=0;ae<Q.length;ae++)Lt=Q[ae],Zt=Qt+st(Lt,ae),_t+=vt(Lt,ut,gt,Zt,Dt);else if(ae=_(Q),typeof ae=="function")for(Q=ae.call(Q),ae=0;!(Lt=Q.next()).done;)Lt=Lt.value,Zt=Qt+st(Lt,ae++),_t+=vt(Lt,ut,gt,Zt,Dt);else if(Zt==="object"){if(typeof Q.then=="function")return vt(dt(Q),ut,gt,Lt,Dt);throw ut=String(Q),Error("Objects are not valid as a React child (found: "+(ut==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ut)+"). If you meant to render a collection of children, use an array instead.")}return _t}function X(Q,ut,gt){if(Q==null)return Q;var Lt=[],Dt=0;return vt(Q,Lt,"","",function(Zt){return ut.call(gt,Zt,Dt++)}),Lt}function it(Q){if(Q._status===-1){var ut=Q._result;ut=ut(),ut.then(function(gt){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=gt)},function(gt){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=gt)}),Q._status===-1&&(Q._status=0,Q._result=ut)}if(Q._status===1)return Q._result.default;throw Q._result}var tt=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ut=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ut))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function yt(){}return Dn.Children={map:X,forEach:function(Q,ut,gt){X(Q,function(){ut.apply(this,arguments)},gt)},count:function(Q){var ut=0;return X(Q,function(){ut++}),ut},toArray:function(Q){return X(Q,function(ut){return ut})||[]},only:function(Q){if(!G(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Dn.Component=T,Dn.Fragment=e,Dn.Profiler=r,Dn.PureComponent=O,Dn.StrictMode=i,Dn.Suspense=h,Dn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Dn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return F.H.useMemoCache(Q)}},Dn.cache=function(Q){return function(){return Q.apply(null,arguments)}},Dn.cloneElement=function(Q,ut,gt){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var Lt=M({},Q.props),Dt=Q.key,Zt=void 0;if(ut!=null)for(_t in ut.ref!==void 0&&(Zt=void 0),ut.key!==void 0&&(Dt=""+ut.key),ut)!I.call(ut,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&ut.ref===void 0||(Lt[_t]=ut[_t]);var _t=arguments.length-2;if(_t===1)Lt.children=gt;else if(1<_t){for(var Qt=Array(_t),ae=0;ae<_t;ae++)Qt[ae]=arguments[ae+2];Lt.children=Qt}return q(Q.type,Dt,void 0,void 0,Zt,Lt)},Dn.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Dn.createElement=function(Q,ut,gt){var Lt,Dt={},Zt=null;if(ut!=null)for(Lt in ut.key!==void 0&&(Zt=""+ut.key),ut)I.call(ut,Lt)&&Lt!=="key"&&Lt!=="__self"&&Lt!=="__source"&&(Dt[Lt]=ut[Lt]);var _t=arguments.length-2;if(_t===1)Dt.children=gt;else if(1<_t){for(var Qt=Array(_t),ae=0;ae<_t;ae++)Qt[ae]=arguments[ae+2];Dt.children=Qt}if(Q&&Q.defaultProps)for(Lt in _t=Q.defaultProps,_t)Dt[Lt]===void 0&&(Dt[Lt]=_t[Lt]);return q(Q,Zt,void 0,void 0,null,Dt)},Dn.createRef=function(){return{current:null}},Dn.forwardRef=function(Q){return{$$typeof:l,render:Q}},Dn.isValidElement=G,Dn.lazy=function(Q){return{$$typeof:g,_payload:{_status:-1,_result:Q},_init:it}},Dn.memo=function(Q,ut){return{$$typeof:d,type:Q,compare:ut===void 0?null:ut}},Dn.startTransition=function(Q){var ut=F.T,gt={};F.T=gt;try{var Lt=Q(),Dt=F.S;Dt!==null&&Dt(gt,Lt),typeof Lt=="object"&&Lt!==null&&typeof Lt.then=="function"&&Lt.then(yt,tt)}catch(Zt){tt(Zt)}finally{F.T=ut}},Dn.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Dn.use=function(Q){return F.H.use(Q)},Dn.useActionState=function(Q,ut,gt){return F.H.useActionState(Q,ut,gt)},Dn.useCallback=function(Q,ut){return F.H.useCallback(Q,ut)},Dn.useContext=function(Q){return F.H.useContext(Q)},Dn.useDebugValue=function(){},Dn.useDeferredValue=function(Q,ut){return F.H.useDeferredValue(Q,ut)},Dn.useEffect=function(Q,ut,gt){var Lt=F.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Lt.useEffect(Q,ut)},Dn.useId=function(){return F.H.useId()},Dn.useImperativeHandle=function(Q,ut,gt){return F.H.useImperativeHandle(Q,ut,gt)},Dn.useInsertionEffect=function(Q,ut){return F.H.useInsertionEffect(Q,ut)},Dn.useLayoutEffect=function(Q,ut){return F.H.useLayoutEffect(Q,ut)},Dn.useMemo=function(Q,ut){return F.H.useMemo(Q,ut)},Dn.useOptimistic=function(Q,ut){return F.H.useOptimistic(Q,ut)},Dn.useReducer=function(Q,ut,gt){return F.H.useReducer(Q,ut,gt)},Dn.useRef=function(Q){return F.H.useRef(Q)},Dn.useState=function(Q){return F.H.useState(Q)},Dn.useSyncExternalStore=function(Q,ut,gt){return F.H.useSyncExternalStore(Q,ut,gt)},Dn.useTransition=function(){return F.H.useTransition()},Dn.version="19.1.1",Dn}var cO;function Op(){return cO||(cO=1,AM.exports=Fk()),AM.exports}var H=Op();const mf=Ll(H),Hk=zk({__proto__:null,default:mf},[H]);var CM={exports:{}},Nv={},RM={exports:{}},OM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO;function kk(){return fO||(fO=1,(function(n){function t(X,it){var tt=X.length;X.push(it);t:for(;0<tt;){var yt=tt-1>>>1,Q=X[yt];if(0<r(Q,it))X[yt]=it,X[tt]=Q,tt=yt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var it=X[0],tt=X.pop();if(tt!==it){X[0]=tt;t:for(var yt=0,Q=X.length,ut=Q>>>1;yt<ut;){var gt=2*(yt+1)-1,Lt=X[gt],Dt=gt+1,Zt=X[Dt];if(0>r(Lt,tt))Dt<Q&&0>r(Zt,Lt)?(X[yt]=Zt,X[Dt]=tt,yt=Dt):(X[yt]=Lt,X[gt]=tt,yt=gt);else if(Dt<Q&&0>r(Zt,tt))X[yt]=Zt,X[Dt]=tt,yt=Dt;else break t}}return it}function r(X,it){var tt=X.sortIndex-it.sortIndex;return tt!==0?tt:X.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var h=[],d=[],g=1,v=null,_=3,b=!1,M=!1,A=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function z(X){for(var it=e(d);it!==null;){if(it.callback===null)i(d);else if(it.startTime<=X)i(d),it.sortIndex=it.expirationTime,t(h,it);else break;it=e(d)}}function F(X){if(A=!1,z(X),!M)if(e(h)!==null)M=!0,I||(I=!0,st());else{var it=e(d);it!==null&&vt(F,it.startTime-X)}}var I=!1,q=-1,Y=5,G=-1;function j(){return T?!0:!(n.unstable_now()-G<Y)}function K(){if(T=!1,I){var X=n.unstable_now();G=X;var it=!0;try{t:{M=!1,A&&(A=!1,O(q),q=-1),b=!0;var tt=_;try{e:{for(z(X),v=e(h);v!==null&&!(v.expirationTime>X&&j());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,_=v.priorityLevel;var Q=yt(v.expirationTime<=X);if(X=n.unstable_now(),typeof Q=="function"){v.callback=Q,z(X),it=!0;break e}v===e(h)&&i(h),z(X)}else i(h);v=e(h)}if(v!==null)it=!0;else{var ut=e(d);ut!==null&&vt(F,ut.startTime-X),it=!1}}break t}finally{v=null,_=tt,b=!1}it=void 0}}finally{it?st():I=!1}}}var st;if(typeof P=="function")st=function(){P(K)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,dt=lt.port2;lt.port1.onmessage=K,st=function(){dt.postMessage(null)}}else st=function(){E(K,0)};function vt(X,it){q=E(function(){X(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var it=3;break;default:it=_}var tt=_;_=it;try{return X()}finally{_=tt}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(X,it){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var tt=_;_=X;try{return it()}finally{_=tt}},n.unstable_scheduleCallback=function(X,it,tt){var yt=n.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?yt+tt:yt):tt=yt,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=tt+Q,X={id:g++,callback:it,priorityLevel:X,startTime:tt,expirationTime:Q,sortIndex:-1},tt>yt?(X.sortIndex=tt,t(d,X),e(h)===null&&X===e(d)&&(A?(O(q),q=-1):A=!0,vt(F,tt-yt))):(X.sortIndex=Q,t(h,X),M||b||(M=!0,I||(I=!0,st()))),X},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(X){var it=_;return function(){var tt=_;_=it;try{return X.apply(this,arguments)}finally{_=tt}}}})(OM)),OM}var hO;function jk(){return hO||(hO=1,RM.exports=kk()),RM.exports}var PM={exports:{}},Ka={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO;function Vk(){if(dO)return Ka;dO=1;var n=Op();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:d,implementation:g}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ka.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,g)},Ka.flushSync=function(h){var d=o.T,g=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=d,i.p=g,i.d.f()}},Ka.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Ka.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ka.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,v=l(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ka.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=l(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Ka.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=l(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ka.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=l(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Ka.requestFormReset=function(h){i.d.r(h)},Ka.unstable_batchedUpdates=function(h,d){return h(d)},Ka.useFormState=function(h,d,g){return o.H.useFormState(h,d,g)},Ka.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ka.version="19.1.1",Ka}var pO;function SU(){if(pO)return PM.exports;pO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),PM.exports=Vk(),PM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO;function Gk(){if(mO)return Nv;mO=1;var n=jk(),t=Op(),e=SU();function i(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,m=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(m=u.return),s=u.return;while(s)}return u.tag===3?m:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(a(s)!==s)throw Error(i(188))}function h(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(i(188));return u!==s?null:s}for(var m=s,x=u;;){var C=m.return;if(C===null)break;var D=C.alternate;if(D===null){if(x=C.return,x!==null){m=x;continue}break}if(C.child===D.child){for(D=C.child;D;){if(D===m)return l(C),s;if(D===x)return l(C),u;D=D.sibling}throw Error(i(188))}if(m.return!==x.return)m=C,x=D;else{for(var W=!1,et=C.child;et;){if(et===m){W=!0,m=C,x=D;break}if(et===x){W=!0,x=C,m=D;break}et=et.sibling}if(!W){for(et=D.child;et;){if(et===m){W=!0,m=D,x=C;break}if(et===x){W=!0,x=D,m=C;break}et=et.sibling}if(!W)throw Error(i(189))}}if(m.alternate!==x)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?s:u}function d(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=d(s),u!==null)return u;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function st(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var lt=Symbol.for("react.client.reference");function dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===lt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case I:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case P:return(s.displayName||"Context")+".Provider";case O:return(s._context.displayName||"Context")+".Consumer";case z:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return u=s.displayName||null,u!==null?u:dt(s.type)||"Memo";case Y:u=s._payload,s=s._init;try{return dt(s(u))}catch{}}return null}var vt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},yt=[],Q=-1;function ut(s){return{current:s}}function gt(s){0>Q||(s.current=yt[Q],yt[Q]=null,Q--)}function Lt(s,u){Q++,yt[Q]=s.current,s.current=u}var Dt=ut(null),Zt=ut(null),_t=ut(null),Qt=ut(null);function ae(s,u){switch(Lt(_t,u),Lt(Zt,s),Lt(Dt,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?UR(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=UR(u),s=zR(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}gt(Dt),Lt(Dt,s)}function Xt(){gt(Dt),gt(Zt),gt(_t)}function le(s){s.memoizedState!==null&&Lt(Qt,s);var u=Dt.current,m=zR(u,s.type);u!==m&&(Lt(Zt,s),Lt(Dt,m))}function pe(s){Zt.current===s&&(gt(Dt),gt(Zt)),Qt.current===s&&(gt(Qt),Cv._currentValue=tt)}var jt=Object.prototype.hasOwnProperty,ot=n.unstable_scheduleCallback,Ht=n.unstable_cancelCallback,Gt=n.unstable_shouldYield,Yt=n.unstable_requestPaint,At=n.unstable_now,me=n.unstable_getCurrentPriorityLevel,qt=n.unstable_ImmediatePriority,te=n.unstable_UserBlockingPriority,Le=n.unstable_NormalPriority,He=n.unstable_LowPriority,$=n.unstable_IdlePriority,Z=n.log,Mt=n.unstable_setDisableYieldValue,Nt=null,$t=null;function It(s){if(typeof Z=="function"&&Mt(s),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Nt,s)}catch{}}var Me=Math.clz32?Math.clz32:Pe,ve=Math.log,Oe=Math.LN2;function Pe(s){return s>>>=0,s===0?32:31-(ve(s)/Oe|0)|0}var oe=256,ye=4194304;function De(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ct(s,u,m){var x=s.pendingLanes;if(x===0)return 0;var C=0,D=s.suspendedLanes,W=s.pingedLanes;s=s.warmLanes;var et=x&134217727;return et!==0?(x=et&~D,x!==0?C=De(x):(W&=et,W!==0?C=De(W):m||(m=et&~s,m!==0&&(C=De(m))))):(et=x&~D,et!==0?C=De(et):W!==0?C=De(W):m||(m=x&~s,m!==0&&(C=De(m)))),C===0?0:u!==0&&u!==C&&(u&D)===0&&(D=C&-C,m=u&-u,D>=m||D===32&&(m&4194048)!==0)?u:C}function Et(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function fe(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var s=oe;return oe<<=1,(oe&4194048)===0&&(oe=256),s}function ie(){var s=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),s}function he(s){for(var u=[],m=0;31>m;m++)u.push(s);return u}function _e(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function de(s,u,m,x,C,D){var W=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var et=s.entanglements,ht=s.expirationTimes,Ut=s.hiddenUpdates;for(m=W&~m;0<m;){var ne=31-Me(m),ue=1<<ne;et[ne]=0,ht[ne]=-1;var Ft=Ut[ne];if(Ft!==null)for(Ut[ne]=null,ne=0;ne<Ft.length;ne++){var Vt=Ft[ne];Vt!==null&&(Vt.lane&=-536870913)}m&=~ue}x!==0&&re(s,x,0),D!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=D&~(W&~u))}function re(s,u,m){s.pendingLanes|=u,s.suspendedLanes&=~u;var x=31-Me(u);s.entangledLanes|=u,s.entanglements[x]=s.entanglements[x]|1073741824|m&4194090}function we(s,u){var m=s.entangledLanes|=u;for(s=s.entanglements;m;){var x=31-Me(m),C=1<<x;C&u|s[x]&u&&(s[x]|=u),m&=~C}}function ke(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function gn(){var s=it.p;return s!==0?s:(s=window.event,s===void 0?32:eO(s.type))}function Fi(s,u){var m=it.p;try{return it.p=s,u()}finally{it.p=m}}var ci=Math.random().toString(36).slice(2),Hi="__reactFiber$"+ci,vi="__reactProps$"+ci,Ha="__reactContainer$"+ci,Di="__reactEvents$"+ci,je="__reactListeners$"+ci,Jr="__reactHandles$"+ci,ta="__reactResources$"+ci,ea="__reactMarker$"+ci;function ri(s){delete s[Hi],delete s[vi],delete s[Di],delete s[je],delete s[Jr]}function ba(s){var u=s[Hi];if(u)return u;for(var m=s.parentNode;m;){if(u=m[Ha]||m[Hi]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(s=HR(s);s!==null;){if(m=s[Hi])return m;s=HR(s)}return u}s=m,m=s.parentNode}return null}function us(s){if(s=s[Hi]||s[Ha]){var u=s.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return s}return null}function Sa(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(i(33))}function Ds(s){var u=s[ta];return u||(u=s[ta]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function ki(s){s[ea]=!0}var Tu=new Set,wu={};function nt(s,u){St(s,u),St(s+"Capture",u)}function St(s,u){for(wu[s]=u,s=0;s<u.length;s++)Tu.add(u[s])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bt={},Tt={};function ge(s){return jt.call(Tt,s)?!0:jt.call(Bt,s)?!1:Ot.test(s)?Tt[s]=!0:(Bt[s]=!0,!1)}function Se(s,u,m){if(ge(u))if(m===null)s.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+m)}}function Ne(s,u,m){if(m===null)s.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+m)}}function Te(s,u,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(u,m,""+x)}}var We,Ze;function Be(s){if(We===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);We=u&&u[1]||"",Ze=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+s+Ze}var vn=!1;function Pn(s,u){if(!s||vn)return"";vn=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(Vt){var Ft=Vt}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(Vt){Ft=Vt}s.call(ue.prototype)}}else{try{throw Error()}catch(Vt){Ft=Vt}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(Vt){if(Vt&&Ft&&typeof Vt.stack=="string")return[Vt.stack,Ft.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=x.DetermineComponentFrameRoot(),W=D[0],et=D[1];if(W&&et){var ht=W.split(`
`),Ut=et.split(`
`);for(C=x=0;x<ht.length&&!ht[x].includes("DetermineComponentFrameRoot");)x++;for(;C<Ut.length&&!Ut[C].includes("DetermineComponentFrameRoot");)C++;if(x===ht.length||C===Ut.length)for(x=ht.length-1,C=Ut.length-1;1<=x&&0<=C&&ht[x]!==Ut[C];)C--;for(;1<=x&&0<=C;x--,C--)if(ht[x]!==Ut[C]){if(x!==1||C!==1)do if(x--,C--,0>C||ht[x]!==Ut[C]){var ne=`
`+ht[x].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=x&&0<=C);break}}}finally{vn=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Be(m):""}function Xe(s){switch(s.tag){case 26:case 27:case 5:return Be(s.type);case 16:return Be("Lazy");case 13:return Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return Pn(s.type,!1);case 11:return Pn(s.type.render,!1);case 1:return Pn(s.type,!0);case 31:return Be("Activity");default:return""}}function Je(s){try{var u="";do u+=Xe(s),s=s.return;while(s);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ve(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Wn(s){var u=Ve(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),x=""+s[u];if(!s.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,D=m.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return C.call(this)},set:function(W){x=""+W,D.call(this,W)}}),Object.defineProperty(s,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(W){x=""+W},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Sn(s){s._valueTracker||(s._valueTracker=Wn(s))}function Ye(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return s&&(x=Ve(s)?s.checked?"true":"false":s.value),s=x,s!==m?(u.setValue(s),!0):!1}function Hn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var tr=/[\n"\\]/g;function Li(s){return s.replace(tr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Tn(s,u,m,x,C,D,W,et){s.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.type=W:s.removeAttribute("type"),u!=null?W==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+cn(u)):s.value!==""+cn(u)&&(s.value=""+cn(u)):W!=="submit"&&W!=="reset"||s.removeAttribute("value"),u!=null?ji(s,W,cn(u)):m!=null?ji(s,W,cn(m)):x!=null&&s.removeAttribute("value"),C==null&&D!=null&&(s.defaultChecked=!!D),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"?s.name=""+cn(et):s.removeAttribute("name")}function Nr(s,u,m,x,C,D,W,et){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.type=D),u!=null||m!=null){if(!(D!=="submit"&&D!=="reset"||u!=null))return;m=m!=null?""+cn(m):"",u=u!=null?""+cn(u):m,et||u===s.value||(s.value=u),s.defaultValue=u}x=x??C,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=et?s.checked:!!x,s.defaultChecked=!!x,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(s.name=W)}function ji(s,u,m){u==="number"&&Hn(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Kn(s,u,m,x){if(s=s.options,u){u={};for(var C=0;C<m.length;C++)u["$"+m[C]]=!0;for(m=0;m<s.length;m++)C=u.hasOwnProperty("$"+s[m].value),s[m].selected!==C&&(s[m].selected=C),C&&x&&(s[m].defaultSelected=!0)}else{for(m=""+cn(m),u=null,C=0;C<s.length;C++){if(s[C].value===m){s[C].selected=!0,x&&(s[C].defaultSelected=!0);return}u!==null||s[C].disabled||(u=s[C])}u!==null&&(u.selected=!0)}}function Nn(s,u,m){if(u!=null&&(u=""+cn(u),u!==s.value&&(s.value=u),m==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=m!=null?""+cn(m):""}function Ma(s,u,m,x){if(u==null){if(x!=null){if(m!=null)throw Error(i(92));if(vt(x)){if(1<x.length)throw Error(i(93));x=x[0]}m=x}m==null&&(m=""),u=m}m=cn(u),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x)}function Ci(s,u){if(u){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=u;return}}s.textContent=u}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(s,u,m){var x=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":x?s.setProperty(u,m):typeof m!="number"||m===0||Au.has(u)?u==="float"?s.cssFloat=m:s[u]=(""+m).trim():s[u]=m+"px"}function eo(s,u,m){if(u!=null&&typeof u!="object")throw Error(i(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var C in u)x=u[C],u.hasOwnProperty(C)&&m[C]!==x&&Il(s,C,x)}else for(var D in u)u.hasOwnProperty(D)&&Il(s,D,u[D])}function Cu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ec=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(s){return Ec.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ru=null;function Fl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var no=null,io=null;function Jh(s){var u=us(s);if(u&&(s=u.stateNode)){var m=s[vi]||null;t:switch(s=u.stateNode,u.type){case"input":if(Tn(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Li(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==s&&x.form===s.form){var C=x[vi]||null;if(!C)throw Error(i(90));Tn(x,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<m.length;u++)x=m[u],x.form===s.form&&Ye(x)}break t;case"textarea":Nn(s,m.value,m.defaultValue);break t;case"select":u=m.value,u!=null&&Kn(s,!!m.multiple,u,!1)}}}var sn=!1;function ka(s,u,m){if(sn)return s(u,m);sn=!0;try{var x=s(u);return x}finally{if(sn=!1,(no!==null||io!==null)&&(gl(),no&&(u=no,s=io,io=no=null,Jh(u),s)))for(u=0;u<s.length;u++)Jh(s[u])}}function jn(s,u){var m=s.stateNode;if(m===null)return null;var x=m[vi]||null;if(x===null)return null;m=x[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break t;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(i(231,u,typeof m));return m}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(cs)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{Hl=!1}var fs=null,ro=null,Ou=null;function kl(){if(Ou)return Ou;var s,u=ro,m=u.length,x,C="value"in fs?fs.value:fs.textContent,D=C.length;for(s=0;s<m&&u[s]===C[s];s++);var W=m-s;for(x=1;x<=W&&u[m-x]===C[D-x];x++);return Ou=C.slice(s,1<x?1-x:void 0)}function yi(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function ja(){return!0}function Pu(){return!1}function Ur(s){function u(m,x,C,D,W){this._reactName=m,this._targetInst=C,this.type=x,this.nativeEvent=D,this.target=W,this.currentTarget=null;for(var et in s)s.hasOwnProperty(et)&&(m=s[et],this[et]=m?m(D):D[et]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?ja:Pu,this.isPropagationStopped=Pu,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),u}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Ur(Wo),Xo=g({},Wo,{view:0,detail:0}),Bp=Ur(Xo),Ls,wn,Du,zr=g({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Du&&(Du&&s.type==="mousemove"?(Ls=s.screenX-Du.screenX,wn=s.screenY-Du.screenY):wn=Ls=0,Du=s),Ls)},movementY:function(s){return"movementY"in s?s.movementY:wn}}),Vl=Ur(zr),td=g({},zr,{dataTransfer:0}),Yg=Ur(td),er=g({},Xo,{relatedTarget:0}),Uf=Ur(er),ed=g({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=Ur(ed),Hp=g({},Wo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zf=Ur(Hp),Tc=g({},Wo,{data:0}),Ea=Ur(Tc),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=ao[s])?!!u[s]:!1}function Lu(){return If}var Bf=g({},Xo,{key:function(s){if(s.key){var u=kp[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=yi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(s){return s.type==="keypress"?yi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?yi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),id=Ur(Bf),Ff=g({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=Ur(Ff),jp=g({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),rd=Ur(jp),Hf=g({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),so=Ur(Hf),kf=g({},zr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Vp=Ur(kf),Ac=g({},Wo,{newState:0,oldState:0}),na=Ur(Ac),oo=[9,13,27,32],lo=cs&&"CompositionEvent"in window,dr=null;cs&&"documentMode"in document&&(dr=document.documentMode);var Nu=cs&&"TextEvent"in window&&!dr,Uu=cs&&(!lo||dr&&8<dr&&11>=dr),Yo=" ",nr=!1;function Gl(s,u){switch(s){case"keyup":return oo.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zo=!1;function zu(s,u){switch(s){case"compositionend":return ad(u);case"keypress":return u.which!==32?null:(nr=!0,Yo);case"textInput":return s=u.data,s===Yo&&nr?null:s;default:return null}}function sd(s,u){if(Zo)return s==="compositionend"||!lo&&Gl(s,u)?(s=kl(),Ou=ro=fs=null,Zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Uu&&u.locale!=="ko"?null:u.data;default:return null}}var ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ko(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!ia[s.type]:u==="textarea"}function ra(s,u,m,x){no?io?io.push(x):io=[x]:no=x,u=M_(u,"onChange"),0<u.length&&(m=new jl("onChange","change",null,m,x),s.push({event:m,listeners:u}))}var aa=null,ql=null;function Wl(s){OR(s,0)}function Cc(s){var u=Sa(s);if(Ye(u))return s}function Qo(s,u){if(s==="change")return u}var Rc=!1;if(cs){var Xl;if(cs){var Iu="oninput"in document;if(!Iu){var Ta=document.createElement("div");Ta.setAttribute("oninput","return;"),Iu=typeof Ta.oninput=="function"}Xl=Iu}else Xl=!1;Rc=Xl&&(!document.documentMode||9<document.documentMode)}function ai(){aa&&(aa.detachEvent("onpropertychange",Gp),ql=aa=null)}function Gp(s){if(s.propertyName==="value"&&Cc(ql)){var u=[];ra(u,ql,s,Fl(s)),ka(Wl,u)}}function od(s,u,m){s==="focusin"?(ai(),aa=u,ql=m,aa.attachEvent("onpropertychange",Gp)):s==="focusout"&&ai()}function qp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cc(ql)}function wa(s,u){if(s==="click")return Cc(u)}function $o(s,u){if(s==="input"||s==="change")return Cc(u)}function Yl(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var sa=typeof Object.is=="function"?Object.is:Yl;function ir(s,u){if(sa(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var m=Object.keys(s),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var C=m[x];if(!jt.call(u,C)||!sa(s[C],u[C]))return!1}return!0}function br(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jf(s,u){var m=br(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=u&&x>=u)return{node:m,offset:u-s};s=x}t:{for(;m;){if(m.nextSibling){m=m.nextSibling;break t}m=m.parentNode}m=void 0}m=br(m)}}function Oc(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Oc(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Bu(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=Hn(s.document);u instanceof s.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)s=u.contentWindow;else break;u=Hn(s.document)}return u}function Zl(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var Fu=cs&&"documentMode"in document&&11>=document.documentMode,oa=null,Kl=null,Ql=null,Pc=!1;function ld(s,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Pc||oa==null||oa!==Hn(x)||(x=oa,"selectionStart"in x&&Zl(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ql&&ir(Ql,x)||(Ql=x,x=M_(Kl,"onSelect"),0<x.length&&(u=new jl("onSelect","select",null,u,m),s.push({event:u,listeners:x}),u.target=oa)))}function Vi(s,u){var m={};return m[s.toLowerCase()]=u.toLowerCase(),m["Webkit"+s]="webkit"+u,m["Moz"+s]="moz"+u,m}var Jo={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Dc={},Wp={};cs&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Ns(s){if(Dc[s])return Dc[s];if(!Jo[s])return s;var u=Jo[s],m;for(m in u)if(u.hasOwnProperty(m)&&m in Wp)return Dc[s]=u[m];return s}var Vr=Ns("animationend"),Va=Ns("animationiteration"),Sr=Ns("animationstart"),Xp=Ns("transitionrun"),Ga=Ns("transitionstart"),Hu=Ns("transitioncancel"),Us=Ns("transitionend"),Vf=new Map,uo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uo.push("scrollEnd");function pr(s,u){Vf.set(s,u),nt(u,[s])}var tl=new WeakMap;function mr(s,u){if(typeof s=="object"&&s!==null){var m=tl.get(s);return m!==void 0?m:(u={value:s,source:u,stack:Je(u)},tl.set(s,u),u)}return{value:s,source:u,stack:Je(u)}}var Mr=[],qa=0,Wa=0;function ku(){for(var s=qa,u=Wa=qa=0;u<s;){var m=Mr[u];Mr[u++]=null;var x=Mr[u];Mr[u++]=null;var C=Mr[u];Mr[u++]=null;var D=Mr[u];if(Mr[u++]=null,x!==null&&C!==null){var W=x.pending;W===null?C.next=C:(C.next=W.next,W.next=C),x.pending=C}D!==0&&ju(m,C,D)}}function co(s,u,m,x){Mr[qa++]=s,Mr[qa++]=u,Mr[qa++]=m,Mr[qa++]=x,Wa|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function el(s,u,m,x){return co(s,u,m,x),zs(s)}function fo(s,u){return co(s,null,null,u),zs(s)}function ju(s,u,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var C=!1,D=s.return;D!==null;)D.childLanes|=m,x=D.alternate,x!==null&&(x.childLanes|=m),D.tag===22&&(s=D.stateNode,s===null||s._visibility&1||(C=!0)),s=D,D=D.return;return s.tag===3?(D=s.stateNode,C&&u!==null&&(C=31-Me(m),s=D.hiddenUpdates,x=s[C],x===null?s[C]=[u]:x.push(u),u.lane=m|536870912),D):null}function zs(s){if(50<ml)throw ml=0,$c=null,Error(i(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var ho={};function Gf(s,u,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(s,u,m,x){return new Gf(s,u,m,x)}function Vu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ni(s,u){var m=s.alternate;return m===null?(m=la(s.tag,u,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=u,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,u=s.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function qf(s,u){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,u=m.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function rr(s,u,m,x,C,D){var W=0;if(x=s,typeof s=="function")Vu(s)&&(W=1);else if(typeof s=="string")W=Mk(s,m,Dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case G:return s=la(31,m,u,C),s.elementType=G,s.lanes=D,s;case M:return po(m.children,C,D,u);case A:W=8,C|=24;break;case T:return s=la(12,m,u,C|2),s.elementType=T,s.lanes=D,s;case F:return s=la(13,m,u,C),s.elementType=F,s.lanes=D,s;case I:return s=la(19,m,u,C),s.elementType=I,s.lanes=D,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case P:W=10;break t;case O:W=9;break t;case z:W=11;break t;case q:W=14;break t;case Y:W=16,x=null;break t}W=29,m=Error(i(130,s===null?"null":typeof s,"")),x=null}return u=la(W,m,u,C),u.elementType=s,u.type=x,u.lanes=D,u}function po(s,u,m,x){return s=la(7,s,x,u),s.lanes=m,s}function Lc(s,u,m){return s=la(6,s,null,u),s.lanes=m,s}function Nc(s,u,m){return u=la(4,s.children!==null?s.children:[],s.key,u),u.lanes=m,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var $l=[],ua=0,c=null,y=0,w=[],U=0,k=null,J=1,ft="";function Ct(s,u){$l[ua++]=y,$l[ua++]=c,c=s,y=u}function kt(s,u,m){w[U++]=J,w[U++]=ft,w[U++]=k,k=s;var x=J;s=ft;var C=32-Me(x)-1;x&=~(1<<C),m+=1;var D=32-Me(u)+C;if(30<D){var W=C-C%5;D=(x&(1<<W)-1).toString(32),x>>=W,C-=W,J=1<<32-Me(u)+C|m<<C|x,ft=D+s}else J=1<<D|m<<C|x,ft=s}function ce(s){s.return!==null&&(Ct(s,1),kt(s,1,0))}function Ae(s){for(;s===c;)c=$l[--ua],$l[ua]=null,y=$l[--ua],$l[ua]=null;for(;s===k;)k=w[--U],w[U]=null,ft=w[--U],w[U]=null,J=w[--U],w[U]=null}var Ie=null,Ge=null,on=!1,Qn=null,_i=!1,Er=Error(i(519));function Aa(s){var u=Error(i(418,""));throw nl(mr(u,s)),Er}function Yp(s){var u=s.stateNode,m=s.type,x=s.memoizedProps;switch(u[Hi]=s,u[vi]=x,m){case"dialog":Fn("cancel",u),Fn("close",u);break;case"iframe":case"object":case"embed":Fn("load",u);break;case"video":case"audio":for(m=0;m<Sv.length;m++)Fn(Sv[m],u);break;case"source":Fn("error",u);break;case"img":case"image":case"link":Fn("error",u),Fn("load",u);break;case"details":Fn("toggle",u);break;case"input":Fn("invalid",u),Nr(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Sn(u);break;case"select":Fn("invalid",u);break;case"textarea":Fn("invalid",u),Ma(u,x.value,x.defaultValue,x.children),Sn(u)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||x.suppressHydrationWarning===!0||NR(u.textContent,m)?(x.popover!=null&&(Fn("beforetoggle",u),Fn("toggle",u)),x.onScroll!=null&&Fn("scroll",u),x.onScrollEnd!=null&&Fn("scrollend",u),x.onClick!=null&&(u.onclick=E_),u=!0):u=!1,u||Aa(s)}function ud(s){for(Ie=s.return;Ie;)switch(Ie.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Ie=Ie.return}}function hs(s){if(s!==Ie)return!1;if(!on)return ud(s),on=!0,!1;var u=s.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||hM(s.type,s.memoizedProps)),m=!m),m&&Ge&&Aa(s),ud(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8)if(m=s.data,m==="/$"){if(u===0){Ge=fu(s.nextSibling);break t}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;s=s.nextSibling}Ge=null}}else u===27?(u=Ge,mh(s.type)?(s=gM,gM=null,Ge=s):Ge=u):Ge=Ie?fu(s.stateNode.nextSibling):null;return!0}function Jl(){Ge=Ie=null,on=!1}function Xn(){var s=Qn;return s!==null&&(nn===null?nn=s:nn.push.apply(nn,s),Qn=null),s}function nl(s){Qn===null?Qn=[s]:Qn.push(s)}var Ui=ut(null),ds=null,mo=null;function il(s,u,m){Lt(Ui,u._currentValue),u._currentValue=m}function go(s){s._currentValue=Ui.current,gt(Ui)}function Uc(s,u,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),s===m)break;s=s.return}}function Gu(s,u,m,x){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var D=C.dependencies;if(D!==null){var W=C.child;D=D.firstContext;t:for(;D!==null;){var et=D;D=C;for(var ht=0;ht<u.length;ht++)if(et.context===u[ht]){D.lanes|=m,et=D.alternate,et!==null&&(et.lanes|=m),Uc(D.return,m,s),x||(W=null);break t}D=et.next}}else if(C.tag===18){if(W=C.return,W===null)throw Error(i(341));W.lanes|=m,D=W.alternate,D!==null&&(D.lanes|=m),Uc(W,m,s),W=null}else W=C.child;if(W!==null)W.return=C;else for(W=C;W!==null;){if(W===s){W=null;break}if(C=W.sibling,C!==null){C.return=W.return,W=C;break}W=W.return}C=W}}function Xa(s,u,m,x){s=null;for(var C=u,D=!1;C!==null;){if(!D){if((C.flags&524288)!==0)D=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var W=C.alternate;if(W===null)throw Error(i(387));if(W=W.memoizedProps,W!==null){var et=C.type;sa(C.pendingProps.value,W.value)||(s!==null?s.push(et):s=[et])}}else if(C===Qt.current){if(W=C.alternate,W===null)throw Error(i(387));W.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(Cv):s=[Cv])}C=C.return}s!==null&&Gu(u,s,m,x),u.flags|=262144}function cd(s){for(s=s.firstContext;s!==null;){if(!sa(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function rl(s){ds=s,mo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gi(s){return Zp(ds,s)}function fd(s,u){return ds===null&&rl(s),Zp(s,u)}function Zp(s,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},mo===null){if(s===null)throw Error(i(308));mo=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else mo=mo.next=u;return m}var Zg=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){u.aborted=!0,s.forEach(function(m){return m()})}},XS=n.unstable_scheduleCallback,D0=n.unstable_NormalPriority,gr={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kp(){return{controller:new Zg,data:new Map,refCount:0}}function Wf(s){s.refCount--,s.refCount===0&&XS(D0,function(){s.controller.abort()})}var Xf=null,hd=0,Mn=0,Yf=null;function ps(s,u){if(Xf===null){var m=Xf=[];hd=0,Mn=iM(),Yf={status:"pending",value:void 0,then:function(x){m.push(x)}}}return hd++,u.then(Qp,Qp),u}function Qp(){if(--hd===0&&Xf!==null){Yf!==null&&(Yf.status="fulfilled");var s=Xf;Xf=null,Mn=0,Yf=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function YS(s,u){var m=[],x={status:"pending",value:null,reason:null,then:function(C){m.push(C)}};return s.then(function(){x.status="fulfilled",x.value=u;for(var C=0;C<m.length;C++)(0,m[C])(u)},function(C){for(x.status="rejected",x.reason=C,C=0;C<m.length;C++)(0,m[C])(void 0)}),x}var dd=X.S;X.S=function(s,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&ps(s,u),dd!==null&&dd(s,u)};var Is=ut(null);function qu(){var s=Is.current;return s!==null?s:yn.pooledCache}function pd(s,u){u===null?Lt(Is,Is.current):Lt(Is,u.pool)}function $p(){var s=qu();return s===null?null:{parent:gr._currentValue,pool:s}}var md=Error(i(460)),Kg=Error(i(474)),vo=Error(i(542)),gd={then:function(){}};function Jp(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Zf(){}function tm(s,u,m){switch(m=s[m],m===void 0?s.push(u):m!==u&&(u.then(Zf,Zf),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,L0(s),s;default:if(typeof u.status=="string")u.then(Zf,Zf);else{if(s=yn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=u,s.status="pending",s.then(function(x){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=x}},function(x){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,L0(s),s}throw Bs=u,md}}var Bs=null;function Qg(){if(Bs===null)throw Error(i(459));var s=Bs;return Bs=null,s}function L0(s){if(s===md||s===vo)throw Error(i(483))}var tu=!1;function $g(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function al(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function eu(s,u,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(ti&2)!==0){var C=x.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),x.pending=u,u=zs(s),ju(s,null,m),u}return co(s,x,u,m),zs(s)}function zc(s,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var x=u.lanes;x&=s.pendingLanes,m|=x,u.lanes=m,we(s,m)}}function Kf(s,u){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var C=null,D=null;if(m=m.firstBaseUpdate,m!==null){do{var W={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};D===null?C=D=W:D=D.next=W,m=m.next}while(m!==null);D===null?C=D=u:D=D.next=u}else C=D=u;m={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:D,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=u:s.next=u,m.lastBaseUpdate=u}var Jg=!1;function vd(){if(Jg){var s=Yf;if(s!==null)throw s}}function Qf(s,u,m,x){Jg=!1;var C=s.updateQueue;tu=!1;var D=C.firstBaseUpdate,W=C.lastBaseUpdate,et=C.shared.pending;if(et!==null){C.shared.pending=null;var ht=et,Ut=ht.next;ht.next=null,W===null?D=Ut:W.next=Ut,W=ht;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,et=ne.lastBaseUpdate,et!==W&&(et===null?ne.firstBaseUpdate=Ut:et.next=Ut,ne.lastBaseUpdate=ht))}if(D!==null){var ue=C.baseState;W=0,ne=Ut=ht=null,et=D;do{var Ft=et.lane&-536870913,Vt=Ft!==et.lane;if(Vt?(tn&Ft)===Ft:(x&Ft)===Ft){Ft!==0&&Ft===Mn&&(Jg=!0),ne!==null&&(ne=ne.next={lane:0,tag:et.tag,payload:et.payload,callback:null,next:null});t:{var pn=s,an=et;Ft=u;var Ei=m;switch(an.tag){case 1:if(pn=an.payload,typeof pn=="function"){ue=pn.call(Ei,ue,Ft);break t}ue=pn;break t;case 3:pn.flags=pn.flags&-65537|128;case 0:if(pn=an.payload,Ft=typeof pn=="function"?pn.call(Ei,ue,Ft):pn,Ft==null)break t;ue=g({},ue,Ft);break t;case 2:tu=!0}}Ft=et.callback,Ft!==null&&(s.flags|=64,Vt&&(s.flags|=8192),Vt=C.callbacks,Vt===null?C.callbacks=[Ft]:Vt.push(Ft))}else Vt={lane:Ft,tag:et.tag,payload:et.payload,callback:et.callback,next:null},ne===null?(Ut=ne=Vt,ht=ue):ne=ne.next=Vt,W|=Ft;if(et=et.next,et===null){if(et=C.shared.pending,et===null)break;Vt=et,et=Vt.next,Vt.next=null,C.lastBaseUpdate=Vt,C.shared.pending=null}}while(!0);ne===null&&(ht=ue),C.baseState=ht,C.firstBaseUpdate=Ut,C.lastBaseUpdate=ne,D===null&&(C.shared.lanes=0),To|=W,s.lanes=W,s.memoizedState=ue}}function $f(s,u){if(typeof s!="function")throw Error(i(191,s));s.call(u)}function N0(s,u){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)$f(m[s],u)}var Jf=ut(null),em=ut(0);function U0(s,u){s=Gs,Lt(em,s),Lt(Jf,u),Gs=s|u.baseLanes}function tv(){Lt(em,Gs),Lt(Jf,Jf.current)}function yd(){Gs=em.current,gt(Jf),gt(em)}var nu=0,En=null,si=null,vr=null,nm=!1,Wu=!1,Ca=!1,Tr=0,Fs=0,Gr=null,z0=0;function ar(){throw Error(i(321))}function ca(s,u){if(u===null)return!1;for(var m=0;m<u.length&&m<s.length;m++)if(!sa(s[m],u[m]))return!1;return!0}function iu(s,u,m,x,C,D){return nu=D,En=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,X.H=s===null||s.memoizedState===null?fm:gv,Ca=!1,D=m(x,C),Ca=!1,Wu&&(D=B0(u,m,x,C)),I0(s),D}function I0(s){X.H=bd;var u=si!==null&&si.next!==null;if(nu=0,vr=si=En=null,nm=!1,Fs=0,Gr=null,u)throw Error(i(300));s===null||Ir||(s=s.dependencies,s!==null&&cd(s)&&(Ir=!0))}function B0(s,u,m,x){En=s;var C=0;do{if(Wu&&(Gr=null),Fs=0,Wu=!1,25<=C)throw Error(i(301));if(C+=1,vr=si=null,s.updateQueue!=null){var D=s.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}X.H=c_,D=u(m,x)}while(Wu);return D}function ZS(){var s=X.H,u=s.useState()[0];return u=typeof u.then=="function"?yo(u):u,s=s.useState()[0],(si!==null?si.memoizedState:null)!==s&&(En.flags|=1024),u}function ev(){var s=Tr!==0;return Tr=0,s}function im(s,u,m){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~m}function nv(s){if(nm){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}nm=!1}nu=0,vr=si=En=null,Wu=!1,Fs=Tr=0,Gr=null}function Ra(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?En.memoizedState=vr=s:vr=vr.next=s,vr}function yr(){if(si===null){var s=En.alternate;s=s!==null?s.memoizedState:null}else s=si.next;var u=vr===null?En.memoizedState:vr.next;if(u!==null)vr=u,si=s;else{if(s===null)throw En.alternate===null?Error(i(467)):Error(i(310));si=s,s={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},vr===null?En.memoizedState=vr=s:vr=vr.next=s}return vr}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(s){var u=Fs;return Fs+=1,Gr===null&&(Gr=[]),s=tm(Gr,s,u),u=En,(vr===null?u.memoizedState:vr.next)===null&&(u=u.alternate,X.H=u===null||u.memoizedState===null?fm:gv),s}function rm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yo(s);if(s.$$typeof===P)return Gi(s)}throw Error(i(438,String(s)))}function iv(s){var u=null,m=En.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var x=En.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=Xu(),En.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(s),x=0;x<s;x++)m[x]=j;return u.index++,m}function ru(s,u){return typeof u=="function"?u(s):u}function Yu(s){var u=yr();return rv(u,si,s)}function rv(s,u,m){var x=s.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=m;var C=s.baseQueue,D=x.pending;if(D!==null){if(C!==null){var W=C.next;C.next=D.next,D.next=W}u.baseQueue=C=D,x.pending=null}if(D=s.baseState,C===null)s.memoizedState=D;else{u=C.next;var et=W=null,ht=null,Ut=u,ne=!1;do{var ue=Ut.lane&-536870913;if(ue!==Ut.lane?(tn&ue)===ue:(nu&ue)===ue){var Ft=Ut.revertLane;if(Ft===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null}),ue===Mn&&(ne=!0);else if((nu&Ft)===Ft){Ut=Ut.next,Ft===Mn&&(ne=!0);continue}else ue={lane:0,revertLane:Ut.revertLane,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},ht===null?(et=ht=ue,W=D):ht=ht.next=ue,En.lanes|=Ft,To|=Ft;ue=Ut.action,Ca&&m(D,ue),D=Ut.hasEagerState?Ut.eagerState:m(D,ue)}else Ft={lane:ue,revertLane:Ut.revertLane,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},ht===null?(et=ht=Ft,W=D):ht=ht.next=Ft,En.lanes|=ue,To|=ue;Ut=Ut.next}while(Ut!==null&&Ut!==u);if(ht===null?W=D:ht.next=et,!sa(D,s.memoizedState)&&(Ir=!0,ne&&(m=Yf,m!==null)))throw m;s.memoizedState=D,s.baseState=W,s.baseQueue=ht,x.lastRenderedState=D}return C===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function av(s){var u=yr(),m=u.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=s;var x=m.dispatch,C=m.pending,D=u.memoizedState;if(C!==null){m.pending=null;var W=C=C.next;do D=s(D,W.action),W=W.next;while(W!==C);sa(D,u.memoizedState)||(Ir=!0),u.memoizedState=D,u.baseQueue===null&&(u.baseState=D),m.lastRenderedState=D}return[D,x]}function F0(s,u,m){var x=En,C=yr(),D=on;if(D){if(m===void 0)throw Error(i(407));m=m()}else m=u();var W=!sa((si||C).memoizedState,m);W&&(C.memoizedState=m,Ir=!0),C=C.queue;var et=k0.bind(null,x,C,s);if(nh(2048,8,et,[s]),C.getSnapshot!==u||W||vr!==null&&vr.memoizedState.tag&1){if(x.flags|=2048,eh(9,_d(),H0.bind(null,x,C,m,u),null),yn===null)throw Error(i(349));D||(nu&124)!==0||th(x,u,m)}return m}function th(s,u,m){s.flags|=16384,s={getSnapshot:u,value:m},u=En.updateQueue,u===null?(u=Xu(),En.updateQueue=u,u.stores=[s]):(m=u.stores,m===null?u.stores=[s]:m.push(s))}function H0(s,u,m,x){u.value=m,u.getSnapshot=x,j0(u)&&V0(s)}function k0(s,u,m){return m(function(){j0(u)&&V0(s)})}function j0(s){var u=s.getSnapshot;s=s.value;try{var m=u();return!sa(s,m)}catch{return!0}}function V0(s){var u=fo(s,2);u!==null&&Da(u,s,2)}function sv(s){var u=Ra();if(typeof s=="function"){var m=s;if(s=m(),Ca){It(!0);try{m()}finally{It(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:s},u}function G0(s,u,m,x){return s.baseState=m,rv(s,si,typeof x=="function"?x:ru)}function KS(s,u,m,x,C){if(cm(s))throw Error(i(485));if(s=u.action,s!==null){var D={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){D.listeners.push(W)}};X.T!==null?m(!0):D.isTransition=!1,x(D),m=u.pending,m===null?(D.next=u.pending=D,q0(u,D)):(D.next=m.next,u.pending=m.next=D)}}function q0(s,u){var m=u.action,x=u.payload,C=s.state;if(u.isTransition){var D=X.T,W={};X.T=W;try{var et=m(C,x),ht=X.S;ht!==null&&ht(W,et),W0(s,u,et)}catch(Ut){ov(s,u,Ut)}finally{X.T=D}}else try{D=m(C,x),W0(s,u,D)}catch(Ut){ov(s,u,Ut)}}function W0(s,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){X0(s,u,x)},function(x){return ov(s,u,x)}):X0(s,u,m)}function X0(s,u,m){u.status="fulfilled",u.value=m,Y0(u),s.state=m,u=s.pending,u!==null&&(m=u.next,m===u?s.pending=null:(m=m.next,u.next=m,q0(s,m)))}function ov(s,u,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=m,Y0(u),u=u.next;while(u!==x)}s.action=null}function Y0(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function lv(s,u){return u}function Z0(s,u){if(on){var m=yn.formState;if(m!==null){t:{var x=En;if(on){if(Ge){e:{for(var C=Ge,D=_i;C.nodeType!==8;){if(!D){C=null;break e}if(C=fu(C.nextSibling),C===null){C=null;break e}}D=C.data,C=D==="F!"||D==="F"?C:null}if(C){Ge=fu(C.nextSibling),x=C.data==="F!";break t}}Aa(x)}x=!1}x&&(u=m[0])}}return m=Ra(),m.memoizedState=m.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:u},m.queue=x,m=l_.bind(null,En,x),x.dispatch=m,x=sv(!1),D=um.bind(null,En,!1,x.queue),x=Ra(),C={state:u,dispatch:null,action:s,pending:null},x.queue=C,m=KS.bind(null,En,C,D,m),C.dispatch=m,x.memoizedState=s,[u,m,!1]}function K0(s){var u=yr();return Q0(u,si,s)}function Q0(s,u,m){if(u=rv(s,u,lv)[0],s=Yu(ru)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=yo(u)}catch(W){throw W===md?vo:W}else x=u;u=yr();var C=u.queue,D=C.dispatch;return m!==u.memoizedState&&(En.flags|=2048,eh(9,_d(),QS.bind(null,C,m),null)),[x,D,s]}function QS(s,u){s.action=u}function $0(s){var u=yr(),m=si;if(m!==null)return Q0(u,m,s);yr(),u=u.memoizedState,m=yr();var x=m.queue.dispatch;return m.memoizedState=s,[u,x,!1]}function eh(s,u,m,x){return s={tag:s,create:m,deps:x,inst:u,next:null},u=En.updateQueue,u===null&&(u=Xu(),En.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,u.lastEffect=s),s}function _d(){return{destroy:void 0,resource:void 0}}function uv(){return yr().memoizedState}function am(s,u,m,x){var C=Ra();x=x===void 0?null:x,En.flags|=s,C.memoizedState=eh(1|u,_d(),m,x)}function nh(s,u,m,x){var C=yr();x=x===void 0?null:x;var D=C.memoizedState.inst;si!==null&&x!==null&&ca(x,si.memoizedState.deps)?C.memoizedState=eh(u,D,m,x):(En.flags|=s,C.memoizedState=eh(1|u,D,m,x))}function cv(s,u){am(8390656,8,s,u)}function fv(s,u){nh(2048,8,s,u)}function sm(s,u){return nh(4,2,s,u)}function om(s,u){return nh(4,4,s,u)}function J0(s,u){if(typeof u=="function"){s=s();var m=u(s);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function t_(s,u,m){m=m!=null?m.concat([s]):null,nh(4,4,J0.bind(null,u,s),m)}function hv(){}function e_(s,u){var m=yr();u=u===void 0?null:u;var x=m.memoizedState;return u!==null&&ca(u,x[1])?x[0]:(m.memoizedState=[s,u],s)}function dv(s,u){var m=yr();u=u===void 0?null:u;var x=m.memoizedState;if(u!==null&&ca(u,x[1]))return x[0];if(x=s(),Ca){It(!0);try{s()}finally{It(!1)}}return m.memoizedState=[x,u],x}function lm(s,u,m){return m===void 0||(nu&1073741824)!==0?s.memoizedState=u:(s.memoizedState=m,s=Sm(),En.lanes|=s,To|=s,m)}function n_(s,u,m,x){return sa(m,u)?m:Jf.current!==null?(s=lm(s,m,x),sa(s,u)||(Ir=!0),s):(nu&42)===0?(Ir=!0,s.memoizedState=m):(s=Sm(),En.lanes|=s,To|=s,u)}function i_(s,u,m,x,C){var D=it.p;it.p=D!==0&&8>D?D:8;var W=X.T,et={};X.T=et,um(s,!1,u,m);try{var ht=C(),Ut=X.S;if(Ut!==null&&Ut(et,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var ne=YS(ht,x);xd(s,u,ne,Xi(s))}else xd(s,u,x,Xi(s))}catch(ue){xd(s,u,{then:function(){},status:"rejected",reason:ue},Xi())}finally{it.p=D,X.T=W}}function $S(){}function pv(s,u,m,x){if(s.tag!==5)throw Error(i(476));var C=r_(s).queue;i_(s,C,u,tt,m===null?$S:function(){return a_(s),m(x)})}function r_(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:tt},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:m},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function a_(s){var u=r_(s).next.queue;xd(s,u,{},Xi())}function mv(){return Gi(Cv)}function s_(){return yr().memoizedState}function o_(){return yr().memoizedState}function JS(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var m=Xi();s=al(m);var x=eu(u,s,m);x!==null&&(Da(x,u,m),zc(x,u,m)),u={cache:Kp()},s.payload=u;return}u=u.return}}function tM(s,u,m){var x=Xi();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},cm(s)?u_(u,m):(m=el(s,u,m,x),m!==null&&(Da(m,s,x),ms(m,u,x)))}function l_(s,u,m){var x=Xi();xd(s,u,m,x)}function xd(s,u,m,x){var C={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(cm(s))u_(u,C);else{var D=s.alternate;if(s.lanes===0&&(D===null||D.lanes===0)&&(D=u.lastRenderedReducer,D!==null))try{var W=u.lastRenderedState,et=D(W,m);if(C.hasEagerState=!0,C.eagerState=et,sa(et,W))return co(s,u,C,0),yn===null&&ku(),!1}catch{}finally{}if(m=el(s,u,C,x),m!==null)return Da(m,s,x),ms(m,u,x),!0}return!1}function um(s,u,m,x){if(x={lane:2,revertLane:iM(),action:x,hasEagerState:!1,eagerState:null,next:null},cm(s)){if(u)throw Error(i(479))}else u=el(s,m,x,2),u!==null&&Da(u,s,2)}function cm(s){var u=s.alternate;return s===En||u!==null&&u===En}function u_(s,u){Wu=nm=!0;var m=s.pending;m===null?u.next=u:(u.next=m.next,m.next=u),s.pending=u}function ms(s,u,m){if((m&4194048)!==0){var x=u.lanes;x&=s.pendingLanes,m|=x,u.lanes=m,we(s,m)}}var bd={readContext:Gi,use:rm,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar},fm={readContext:Gi,use:rm,useCallback:function(s,u){return Ra().memoizedState=[s,u===void 0?null:u],s},useContext:Gi,useEffect:cv,useImperativeHandle:function(s,u,m){m=m!=null?m.concat([s]):null,am(4194308,4,J0.bind(null,u,s),m)},useLayoutEffect:function(s,u){return am(4194308,4,s,u)},useInsertionEffect:function(s,u){am(4,2,s,u)},useMemo:function(s,u){var m=Ra();u=u===void 0?null:u;var x=s();if(Ca){It(!0);try{s()}finally{It(!1)}}return m.memoizedState=[x,u],x},useReducer:function(s,u,m){var x=Ra();if(m!==void 0){var C=m(u);if(Ca){It(!0);try{m(u)}finally{It(!1)}}}else C=u;return x.memoizedState=x.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},x.queue=s,s=s.dispatch=tM.bind(null,En,s),[x.memoizedState,s]},useRef:function(s){var u=Ra();return s={current:s},u.memoizedState=s},useState:function(s){s=sv(s);var u=s.queue,m=l_.bind(null,En,u);return u.dispatch=m,[s.memoizedState,m]},useDebugValue:hv,useDeferredValue:function(s,u){var m=Ra();return lm(m,s,u)},useTransition:function(){var s=sv(!1);return s=i_.bind(null,En,s.queue,!0,!1),Ra().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,m){var x=En,C=Ra();if(on){if(m===void 0)throw Error(i(407));m=m()}else{if(m=u(),yn===null)throw Error(i(349));(tn&124)!==0||th(x,u,m)}C.memoizedState=m;var D={value:m,getSnapshot:u};return C.queue=D,cv(k0.bind(null,x,D,s),[s]),x.flags|=2048,eh(9,_d(),H0.bind(null,x,D,m,u),null),m},useId:function(){var s=Ra(),u=yn.identifierPrefix;if(on){var m=ft,x=J;m=(x&~(1<<32-Me(x)-1)).toString(32)+m,u="«"+u+"R"+m,m=Tr++,0<m&&(u+="H"+m.toString(32)),u+="»"}else m=z0++,u="«"+u+"r"+m.toString(32)+"»";return s.memoizedState=u},useHostTransitionStatus:mv,useFormState:Z0,useActionState:Z0,useOptimistic:function(s){var u=Ra();u.memoizedState=u.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=um.bind(null,En,!0,m),m.dispatch=u,[s,u]},useMemoCache:iv,useCacheRefresh:function(){return Ra().memoizedState=JS.bind(null,En)}},gv={readContext:Gi,use:rm,useCallback:e_,useContext:Gi,useEffect:fv,useImperativeHandle:t_,useInsertionEffect:sm,useLayoutEffect:om,useMemo:dv,useReducer:Yu,useRef:uv,useState:function(){return Yu(ru)},useDebugValue:hv,useDeferredValue:function(s,u){var m=yr();return n_(m,si.memoizedState,s,u)},useTransition:function(){var s=Yu(ru)[0],u=yr().memoizedState;return[typeof s=="boolean"?s:yo(s),u]},useSyncExternalStore:F0,useId:s_,useHostTransitionStatus:mv,useFormState:K0,useActionState:K0,useOptimistic:function(s,u){var m=yr();return G0(m,si,s,u)},useMemoCache:iv,useCacheRefresh:o_},c_={readContext:Gi,use:rm,useCallback:e_,useContext:Gi,useEffect:fv,useImperativeHandle:t_,useInsertionEffect:sm,useLayoutEffect:om,useMemo:dv,useReducer:av,useRef:uv,useState:function(){return av(ru)},useDebugValue:hv,useDeferredValue:function(s,u){var m=yr();return si===null?lm(m,s,u):n_(m,si.memoizedState,s,u)},useTransition:function(){var s=av(ru)[0],u=yr().memoizedState;return[typeof s=="boolean"?s:yo(s),u]},useSyncExternalStore:F0,useId:s_,useHostTransitionStatus:mv,useFormState:$0,useActionState:$0,useOptimistic:function(s,u){var m=yr();return si!==null?G0(m,si,s,u):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:iv,useCacheRefresh:o_},Ic=null,Sd=0;function Md(s){var u=Sd;return Sd+=1,Ic===null&&(Ic=[]),tm(Ic,s,u)}function ih(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function hm(s,u){throw u.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(u),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function f_(s){var u=s._init;return u(s._payload)}function h_(s){function u(wt,bt){if(s){var Pt=wt.deletions;Pt===null?(wt.deletions=[bt],wt.flags|=16):Pt.push(bt)}}function m(wt,bt){if(!s)return null;for(;bt!==null;)u(wt,bt),bt=bt.sibling;return null}function x(wt){for(var bt=new Map;wt!==null;)wt.key!==null?bt.set(wt.key,wt):bt.set(wt.index,wt),wt=wt.sibling;return bt}function C(wt,bt){return wt=Ni(wt,bt),wt.index=0,wt.sibling=null,wt}function D(wt,bt,Pt){return wt.index=Pt,s?(Pt=wt.alternate,Pt!==null?(Pt=Pt.index,Pt<bt?(wt.flags|=67108866,bt):Pt):(wt.flags|=67108866,bt)):(wt.flags|=1048576,bt)}function W(wt){return s&&wt.alternate===null&&(wt.flags|=67108866),wt}function et(wt,bt,Pt,se){return bt===null||bt.tag!==6?(bt=Lc(Pt,wt.mode,se),bt.return=wt,bt):(bt=C(bt,Pt),bt.return=wt,bt)}function ht(wt,bt,Pt,se){var qe=Pt.type;return qe===M?ne(wt,bt,Pt.props.children,se,Pt.key):bt!==null&&(bt.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Y&&f_(qe)===bt.type)?(bt=C(bt,Pt.props),ih(bt,Pt),bt.return=wt,bt):(bt=rr(Pt.type,Pt.key,Pt.props,null,wt.mode,se),ih(bt,Pt),bt.return=wt,bt)}function Ut(wt,bt,Pt,se){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==Pt.containerInfo||bt.stateNode.implementation!==Pt.implementation?(bt=Nc(Pt,wt.mode,se),bt.return=wt,bt):(bt=C(bt,Pt.children||[]),bt.return=wt,bt)}function ne(wt,bt,Pt,se,qe){return bt===null||bt.tag!==7?(bt=po(Pt,wt.mode,se,qe),bt.return=wt,bt):(bt=C(bt,Pt),bt.return=wt,bt)}function ue(wt,bt,Pt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=Lc(""+bt,wt.mode,Pt),bt.return=wt,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case _:return Pt=rr(bt.type,bt.key,bt.props,null,wt.mode,Pt),ih(Pt,bt),Pt.return=wt,Pt;case b:return bt=Nc(bt,wt.mode,Pt),bt.return=wt,bt;case Y:var se=bt._init;return bt=se(bt._payload),ue(wt,bt,Pt)}if(vt(bt)||st(bt))return bt=po(bt,wt.mode,Pt,null),bt.return=wt,bt;if(typeof bt.then=="function")return ue(wt,Md(bt),Pt);if(bt.$$typeof===P)return ue(wt,fd(wt,bt),Pt);hm(wt,bt)}return null}function Ft(wt,bt,Pt,se){var qe=bt!==null?bt.key:null;if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return qe!==null?null:et(wt,bt,""+Pt,se);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case _:return Pt.key===qe?ht(wt,bt,Pt,se):null;case b:return Pt.key===qe?Ut(wt,bt,Pt,se):null;case Y:return qe=Pt._init,Pt=qe(Pt._payload),Ft(wt,bt,Pt,se)}if(vt(Pt)||st(Pt))return qe!==null?null:ne(wt,bt,Pt,se,null);if(typeof Pt.then=="function")return Ft(wt,bt,Md(Pt),se);if(Pt.$$typeof===P)return Ft(wt,bt,fd(wt,Pt),se);hm(wt,Pt)}return null}function Vt(wt,bt,Pt,se,qe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return wt=wt.get(Pt)||null,et(bt,wt,""+se,qe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return wt=wt.get(se.key===null?Pt:se.key)||null,ht(bt,wt,se,qe);case b:return wt=wt.get(se.key===null?Pt:se.key)||null,Ut(bt,wt,se,qe);case Y:var Bn=se._init;return se=Bn(se._payload),Vt(wt,bt,Pt,se,qe)}if(vt(se)||st(se))return wt=wt.get(Pt)||null,ne(bt,wt,se,qe,null);if(typeof se.then=="function")return Vt(wt,bt,Pt,Md(se),qe);if(se.$$typeof===P)return Vt(wt,bt,Pt,fd(bt,se),qe);hm(bt,se)}return null}function pn(wt,bt,Pt,se){for(var qe=null,Bn=null,$e=bt,ln=bt=0,da=null;$e!==null&&ln<Pt.length;ln++){$e.index>ln?(da=$e,$e=null):da=$e.sibling;var ni=Ft(wt,$e,Pt[ln],se);if(ni===null){$e===null&&($e=da);break}s&&$e&&ni.alternate===null&&u(wt,$e),bt=D(ni,bt,ln),Bn===null?qe=ni:Bn.sibling=ni,Bn=ni,$e=da}if(ln===Pt.length)return m(wt,$e),on&&Ct(wt,ln),qe;if($e===null){for(;ln<Pt.length;ln++)$e=ue(wt,Pt[ln],se),$e!==null&&(bt=D($e,bt,ln),Bn===null?qe=$e:Bn.sibling=$e,Bn=$e);return on&&Ct(wt,ln),qe}for($e=x($e);ln<Pt.length;ln++)da=Vt($e,wt,ln,Pt[ln],se),da!==null&&(s&&da.alternate!==null&&$e.delete(da.key===null?ln:da.key),bt=D(da,bt,ln),Bn===null?qe=da:Bn.sibling=da,Bn=da);return s&&$e.forEach(function(xh){return u(wt,xh)}),on&&Ct(wt,ln),qe}function an(wt,bt,Pt,se){if(Pt==null)throw Error(i(151));for(var qe=null,Bn=null,$e=bt,ln=bt=0,da=null,ni=Pt.next();$e!==null&&!ni.done;ln++,ni=Pt.next()){$e.index>ln?(da=$e,$e=null):da=$e.sibling;var xh=Ft(wt,$e,ni.value,se);if(xh===null){$e===null&&($e=da);break}s&&$e&&xh.alternate===null&&u(wt,$e),bt=D(xh,bt,ln),Bn===null?qe=xh:Bn.sibling=xh,Bn=xh,$e=da}if(ni.done)return m(wt,$e),on&&Ct(wt,ln),qe;if($e===null){for(;!ni.done;ln++,ni=Pt.next())ni=ue(wt,ni.value,se),ni!==null&&(bt=D(ni,bt,ln),Bn===null?qe=ni:Bn.sibling=ni,Bn=ni);return on&&Ct(wt,ln),qe}for($e=x($e);!ni.done;ln++,ni=Pt.next())ni=Vt($e,wt,ln,ni.value,se),ni!==null&&(s&&ni.alternate!==null&&$e.delete(ni.key===null?ln:ni.key),bt=D(ni,bt,ln),Bn===null?qe=ni:Bn.sibling=ni,Bn=ni);return s&&$e.forEach(function(Uk){return u(wt,Uk)}),on&&Ct(wt,ln),qe}function Ei(wt,bt,Pt,se){if(typeof Pt=="object"&&Pt!==null&&Pt.type===M&&Pt.key===null&&(Pt=Pt.props.children),typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case _:t:{for(var qe=Pt.key;bt!==null;){if(bt.key===qe){if(qe=Pt.type,qe===M){if(bt.tag===7){m(wt,bt.sibling),se=C(bt,Pt.props.children),se.return=wt,wt=se;break t}}else if(bt.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Y&&f_(qe)===bt.type){m(wt,bt.sibling),se=C(bt,Pt.props),ih(se,Pt),se.return=wt,wt=se;break t}m(wt,bt);break}else u(wt,bt);bt=bt.sibling}Pt.type===M?(se=po(Pt.props.children,wt.mode,se,Pt.key),se.return=wt,wt=se):(se=rr(Pt.type,Pt.key,Pt.props,null,wt.mode,se),ih(se,Pt),se.return=wt,wt=se)}return W(wt);case b:t:{for(qe=Pt.key;bt!==null;){if(bt.key===qe)if(bt.tag===4&&bt.stateNode.containerInfo===Pt.containerInfo&&bt.stateNode.implementation===Pt.implementation){m(wt,bt.sibling),se=C(bt,Pt.children||[]),se.return=wt,wt=se;break t}else{m(wt,bt);break}else u(wt,bt);bt=bt.sibling}se=Nc(Pt,wt.mode,se),se.return=wt,wt=se}return W(wt);case Y:return qe=Pt._init,Pt=qe(Pt._payload),Ei(wt,bt,Pt,se)}if(vt(Pt))return pn(wt,bt,Pt,se);if(st(Pt)){if(qe=st(Pt),typeof qe!="function")throw Error(i(150));return Pt=qe.call(Pt),an(wt,bt,Pt,se)}if(typeof Pt.then=="function")return Ei(wt,bt,Md(Pt),se);if(Pt.$$typeof===P)return Ei(wt,bt,fd(wt,Pt),se);hm(wt,Pt)}return typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint"?(Pt=""+Pt,bt!==null&&bt.tag===6?(m(wt,bt.sibling),se=C(bt,Pt),se.return=wt,wt=se):(m(wt,bt),se=Lc(Pt,wt.mode,se),se.return=wt,wt=se),W(wt)):m(wt,bt)}return function(wt,bt,Pt,se){try{Sd=0;var qe=Ei(wt,bt,Pt,se);return Ic=null,qe}catch($e){if($e===md||$e===vo)throw $e;var Bn=la(29,$e,null,wt.mode);return Bn.lanes=se,Bn.return=wt,Bn}finally{}}}var Bc=h_(!0),d_=h_(!1),fi=ut(null),_o=null;function Zu(s){var u=s.alternate;Lt(sr,sr.current&1),Lt(fi,s),_o===null&&(u===null||Jf.current!==null||u.memoizedState!==null)&&(_o=s)}function p_(s){if(s.tag===22){if(Lt(sr,sr.current),Lt(fi,s),_o===null){var u=s.alternate;u!==null&&u.memoizedState!==null&&(_o=s)}}else Ku()}function Ku(){Lt(sr,sr.current),Lt(fi,fi.current)}function sl(s){gt(fi),_o===s&&(_o=null),gt(sr)}var sr=ut(0);function au(s){for(var u=s;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||mM(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Qu(s,u,m,x){u=s.memoizedState,m=m(x,u),m=m==null?u:g({},u,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Oa={enqueueSetState:function(s,u,m){s=s._reactInternals;var x=Xi(),C=al(x);C.payload=u,m!=null&&(C.callback=m),u=eu(s,C,x),u!==null&&(Da(u,s,x),zc(u,s,x))},enqueueReplaceState:function(s,u,m){s=s._reactInternals;var x=Xi(),C=al(x);C.tag=1,C.payload=u,m!=null&&(C.callback=m),u=eu(s,C,x),u!==null&&(Da(u,s,x),zc(u,s,x))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var m=Xi(),x=al(m);x.tag=2,u!=null&&(x.callback=u),u=eu(s,x,m),u!==null&&(Da(u,s,m),zc(u,s,m))}};function m_(s,u,m,x,C,D,W){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,D,W):u.prototype&&u.prototype.isPureReactComponent?!ir(m,x)||!ir(C,D):!0}function g_(s,u,m,x){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==s&&Oa.enqueueReplaceState(u,u.state,null)}function ol(s,u){var m=u;if("ref"in u){m={};for(var x in u)x!=="ref"&&(m[x]=u[x])}if(s=s.defaultProps){m===u&&(m=g({},m));for(var C in s)m[C]===void 0&&(m[C]=s[C])}return m}var Fc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Ed(s){Fc(s)}function dm(s){console.error(s)}function v_(s){Fc(s)}function pm(s,u){try{var m=s.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function Hs(s,u,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function mm(s,u,m){return m=al(m),m.tag=3,m.payload={element:null},m.callback=function(){pm(s,u)},m}function y_(s){return s=al(s),s.tag=3,s}function gm(s,u,m,x){var C=m.type.getDerivedStateFromError;if(typeof C=="function"){var D=x.value;s.payload=function(){return C(D)},s.callback=function(){Hs(u,m,x)}}var W=m.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(s.callback=function(){Hs(u,m,x),typeof C!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var et=x.stack;this.componentDidCatch(x.value,{componentStack:et!==null?et:""})})}function eM(s,u,m,x,C){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=m.alternate,u!==null&&Xa(u,m,C,!0),m=fi.current,m!==null){switch(m.tag){case 13:return _o===null?f():m.alternate===null&&Ri===0&&(Ri=3),m.flags&=-257,m.flags|=65536,m.lanes=C,x===gd?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([x]):u.add(x),Wt(s,x,C)),!1;case 22:return m.flags|=65536,x===gd?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([x]):m.add(x)),Wt(s,x,C)),!1}throw Error(i(435,m.tag))}return Wt(s,x,C),f(),!1}if(on)return u=fi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,x!==Er&&(s=Error(i(422),{cause:x}),nl(mr(s,m)))):(x!==Er&&(u=Error(i(423),{cause:x}),nl(mr(u,m))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,x=mr(x,m),C=mm(s.stateNode,x,C),Kf(s,C),Ri!==4&&(Ri=2)),!1;var D=Error(i(520),{cause:x});if(D=mr(D,m),ei===null?ei=[D]:ei.push(D),Ri!==4&&(Ri=2),u===null)return!0;x=mr(x,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,s=C&-C,m.lanes|=s,s=mm(m.stateNode,x,s),Kf(m,s),!1;case 1:if(u=m.type,D=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Ms===null||!Ms.has(D))))return m.flags|=65536,C&=-C,m.lanes|=C,C=y_(C),gm(C,s,m,x),Kf(m,C),!1}m=m.return}while(m!==null);return!1}var __=Error(i(461)),Ir=!1;function or(s,u,m,x){u.child=s===null?d_(u,null,m,x):Bc(u,s.child,m,x)}function Ya(s,u,m,x,C){m=m.render;var D=u.ref;if("ref"in x){var W={};for(var et in x)et!=="ref"&&(W[et]=x[et])}else W=x;return rl(u),x=iu(s,u,m,W,D,C),et=ev(),s!==null&&!Ir?(im(s,u,C),Br(s,u,C)):(on&&et&&ce(u),u.flags|=1,or(s,u,x,C),u.child)}function Za(s,u,m,x,C){if(s===null){var D=m.type;return typeof D=="function"&&!Vu(D)&&D.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=D,vv(s,u,D,x,C)):(s=rr(m.type,null,x,u,u.mode,C),s.ref=u.ref,s.return=u,u.child=s)}if(D=s.child,!Td(s,C)){var W=D.memoizedProps;if(m=m.compare,m=m!==null?m:ir,m(W,x)&&s.ref===u.ref)return Br(s,u,C)}return u.flags|=1,s=Ni(D,x),s.ref=u.ref,s.return=u,u.child=s}function vv(s,u,m,x,C){if(s!==null){var D=s.memoizedProps;if(ir(D,x)&&s.ref===u.ref)if(Ir=!1,u.pendingProps=x=D,Td(s,C))(s.flags&131072)!==0&&(Ir=!0);else return u.lanes=s.lanes,Br(s,u,C)}return rh(s,u,m,x,C)}function Hc(s,u,m){var x=u.pendingProps,C=x.children,D=s!==null?s.memoizedState:null;if(x.mode==="hidden"){if((u.flags&128)!==0){if(x=D!==null?D.baseLanes|m:m,s!==null){for(C=u.child=s.child,D=0;C!==null;)D=D|C.lanes|C.childLanes,C=C.sibling;u.childLanes=D&~x}else u.childLanes=0,u.child=null;return kc(s,u,x,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&pd(u,D!==null?D.cachePool:null),D!==null?U0(u,D):tv(),p_(u);else return u.lanes=u.childLanes=536870912,kc(s,u,D!==null?D.baseLanes|m:m,m)}else D!==null?(pd(u,D.cachePool),U0(u,D),Ku(),u.memoizedState=null):(s!==null&&pd(u,null),tv(),Ku());return or(s,u,C,m),u.child}function kc(s,u,m,x){var C=qu();return C=C===null?null:{parent:gr._currentValue,pool:C},u.memoizedState={baseLanes:m,cachePool:C},s!==null&&pd(u,null),tv(),p_(u),s!==null&&Xa(s,u,x,!0),null}function jc(s,u){var m=u.ref;if(m===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(s===null||s.ref!==m)&&(u.flags|=4194816)}}function rh(s,u,m,x,C){return rl(u),m=iu(s,u,m,x,void 0,C),x=ev(),s!==null&&!Ir?(im(s,u,C),Br(s,u,C)):(on&&x&&ce(u),u.flags|=1,or(s,u,m,C),u.child)}function gs(s,u,m,x,C,D){return rl(u),u.updateQueue=null,m=B0(u,x,m,C),I0(s),x=ev(),s!==null&&!Ir?(im(s,u,D),Br(s,u,D)):(on&&x&&ce(u),u.flags|=1,or(s,u,m,D),u.child)}function vs(s,u,m,x,C){if(rl(u),u.stateNode===null){var D=ho,W=m.contextType;typeof W=="object"&&W!==null&&(D=Gi(W)),D=new m(x,D),u.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Oa,u.stateNode=D,D._reactInternals=u,D=u.stateNode,D.props=x,D.state=u.memoizedState,D.refs={},$g(u),W=m.contextType,D.context=typeof W=="object"&&W!==null?Gi(W):ho,D.state=u.memoizedState,W=m.getDerivedStateFromProps,typeof W=="function"&&(Qu(u,m,W,x),D.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(W=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),W!==D.state&&Oa.enqueueReplaceState(D,D.state,null),Qf(u,x,D,C),vd(),D.state=u.memoizedState),typeof D.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(s===null){D=u.stateNode;var et=u.memoizedProps,ht=ol(m,et);D.props=ht;var Ut=D.context,ne=m.contextType;W=ho,typeof ne=="object"&&ne!==null&&(W=Gi(ne));var ue=m.getDerivedStateFromProps;ne=typeof ue=="function"||typeof D.getSnapshotBeforeUpdate=="function",et=u.pendingProps!==et,ne||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(et||Ut!==W)&&g_(u,D,x,W),tu=!1;var Ft=u.memoizedState;D.state=Ft,Qf(u,x,D,C),vd(),Ut=u.memoizedState,et||Ft!==Ut||tu?(typeof ue=="function"&&(Qu(u,m,ue,x),Ut=u.memoizedState),(ht=tu||m_(u,m,ht,x,Ft,Ut,W))?(ne||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Ut),D.props=x,D.state=Ut,D.context=W,x=ht):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{D=u.stateNode,fn(s,u),W=u.memoizedProps,ne=ol(m,W),D.props=ne,ue=u.pendingProps,Ft=D.context,Ut=m.contextType,ht=ho,typeof Ut=="object"&&Ut!==null&&(ht=Gi(Ut)),et=m.getDerivedStateFromProps,(Ut=typeof et=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==ue||Ft!==ht)&&g_(u,D,x,ht),tu=!1,Ft=u.memoizedState,D.state=Ft,Qf(u,x,D,C),vd();var Vt=u.memoizedState;W!==ue||Ft!==Vt||tu||s!==null&&s.dependencies!==null&&cd(s.dependencies)?(typeof et=="function"&&(Qu(u,m,et,x),Vt=u.memoizedState),(ne=tu||m_(u,m,ne,x,Ft,Vt,ht)||s!==null&&s.dependencies!==null&&cd(s.dependencies))?(Ut||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(x,Vt,ht),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(x,Vt,ht)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||W===s.memoizedProps&&Ft===s.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Ft===s.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Vt),D.props=x,D.state=Vt,D.context=ht,x=ne):(typeof D.componentDidUpdate!="function"||W===s.memoizedProps&&Ft===s.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Ft===s.memoizedState||(u.flags|=1024),x=!1)}return D=x,jc(s,u),x=(u.flags&128)!==0,D||x?(D=u.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:D.render(),u.flags|=1,s!==null&&x?(u.child=Bc(u,s.child,null,C),u.child=Bc(u,null,m,C)):or(s,u,m,C),u.memoizedState=D.state,s=u.child):s=Br(s,u,C),s}function $u(s,u,m,x){return Jl(),u.flags|=256,or(s,u,m,x),u.child}var xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bo(s){return{baseLanes:s,cachePool:$p()}}function wr(s,u,m){return s=s!==null?s.childLanes&~m:0,u&&(s|=qs),s}function ah(s,u,m){var x=u.pendingProps,C=!1,D=(u.flags&128)!==0,W;if((W=D)||(W=s!==null&&s.memoizedState===null?!1:(sr.current&2)!==0),W&&(C=!0,u.flags&=-129),W=(u.flags&32)!==0,u.flags&=-33,s===null){if(on){if(C?Zu(u):Ku(),on){var et=Ge,ht;if(ht=et){t:{for(ht=et,et=_i;ht.nodeType!==8;){if(!et){et=null;break t}if(ht=fu(ht.nextSibling),ht===null){et=null;break t}}et=ht}et!==null?(u.memoizedState={dehydrated:et,treeContext:k!==null?{id:J,overflow:ft}:null,retryLane:536870912,hydrationErrors:null},ht=la(18,null,null,0),ht.stateNode=et,ht.return=u,u.child=ht,Ie=u,Ge=null,ht=!0):ht=!1}ht||Aa(u)}if(et=u.memoizedState,et!==null&&(et=et.dehydrated,et!==null))return mM(et)?u.lanes=32:u.lanes=536870912,null;sl(u)}return et=x.children,x=x.fallback,C?(Ku(),C=u.mode,et=Vc({mode:"hidden",children:et},C),x=po(x,C,m,null),et.return=u,x.return=u,et.sibling=x,u.child=et,C=u.child,C.memoizedState=bo(m),C.childLanes=wr(s,W,m),u.memoizedState=xo,x):(Zu(u),ll(u,et))}if(ht=s.memoizedState,ht!==null&&(et=ht.dehydrated,et!==null)){if(D)u.flags&256?(Zu(u),u.flags&=-257,u=qr(s,u,m)):u.memoizedState!==null?(Ku(),u.child=s.child,u.flags|=128,u=null):(Ku(),C=x.fallback,et=u.mode,x=Vc({mode:"visible",children:x.children},et),C=po(C,et,m,null),C.flags|=2,x.return=u,C.return=u,x.sibling=C,u.child=x,Bc(u,s.child,null,m),x=u.child,x.memoizedState=bo(m),x.childLanes=wr(s,W,m),u.memoizedState=xo,u=C);else if(Zu(u),mM(et)){if(W=et.nextSibling&&et.nextSibling.dataset,W)var Ut=W.dgst;W=Ut,x=Error(i(419)),x.stack="",x.digest=W,nl({value:x,source:null,stack:null}),u=qr(s,u,m)}else if(Ir||Xa(s,u,m,!1),W=(m&s.childLanes)!==0,Ir||W){if(W=yn,W!==null&&(x=m&-m,x=(x&42)!==0?1:ke(x),x=(x&(W.suspendedLanes|m))!==0?0:x,x!==0&&x!==ht.retryLane))throw ht.retryLane=x,fo(s,x),Da(W,s,x),__;et.data==="$?"||f(),u=qr(s,u,m)}else et.data==="$?"?(u.flags|=192,u.child=s.child,u=null):(s=ht.treeContext,Ge=fu(et.nextSibling),Ie=u,on=!0,Qn=null,_i=!1,s!==null&&(w[U++]=J,w[U++]=ft,w[U++]=k,J=s.id,ft=s.overflow,k=u),u=ll(u,x.children),u.flags|=4096);return u}return C?(Ku(),C=x.fallback,et=u.mode,ht=s.child,Ut=ht.sibling,x=Ni(ht,{mode:"hidden",children:x.children}),x.subtreeFlags=ht.subtreeFlags&65011712,Ut!==null?C=Ni(Ut,C):(C=po(C,et,m,null),C.flags|=2),C.return=u,x.return=u,x.sibling=C,u.child=x,x=C,C=u.child,et=s.child.memoizedState,et===null?et=bo(m):(ht=et.cachePool,ht!==null?(Ut=gr._currentValue,ht=ht.parent!==Ut?{parent:Ut,pool:Ut}:ht):ht=$p(),et={baseLanes:et.baseLanes|m,cachePool:ht}),C.memoizedState=et,C.childLanes=wr(s,W,m),u.memoizedState=xo,x):(Zu(u),m=s.child,s=m.sibling,m=Ni(m,{mode:"visible",children:x.children}),m.return=u,m.sibling=null,s!==null&&(W=u.deletions,W===null?(u.deletions=[s],u.flags|=16):W.push(s)),u.child=m,u.memoizedState=null,m)}function ll(s,u){return u=Vc({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Vc(s,u){return s=la(22,s,null,u),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function qr(s,u,m){return Bc(u,s.child,null,m),s=ll(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function Wr(s,u,m){s.lanes|=u;var x=s.alternate;x!==null&&(x.lanes|=u),Uc(s.return,u,m)}function kn(s,u,m,x,C){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:C}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=x,D.tail=m,D.tailMode=C)}function ks(s,u,m){var x=u.pendingProps,C=x.revealOrder,D=x.tail;if(or(s,u,x.children,m),x=sr.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wr(s,m,u);else if(s.tag===19)Wr(s,m,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break t;for(;s.sibling===null;){if(s.return===null||s.return===u)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}switch(Lt(sr,x),C){case"forwards":for(m=u.child,C=null;m!==null;)s=m.alternate,s!==null&&au(s)===null&&(C=m),m=m.sibling;m=C,m===null?(C=u.child,u.child=null):(C=m.sibling,m.sibling=null),kn(u,!1,C,m,D);break;case"backwards":for(m=null,C=u.child,u.child=null;C!==null;){if(s=C.alternate,s!==null&&au(s)===null){u.child=C;break}s=C.sibling,C.sibling=m,m=C,C=s}kn(u,!0,m,null,D);break;case"together":kn(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Br(s,u,m){if(s!==null&&(u.dependencies=s.dependencies),To|=u.lanes,(m&u.childLanes)===0)if(s!==null){if(Xa(s,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(i(153));if(u.child!==null){for(s=u.child,m=Ni(s,s.pendingProps),u.child=m,m.return=u;s.sibling!==null;)s=s.sibling,m=m.sibling=Ni(s,s.pendingProps),m.return=u;m.sibling=null}return u.child}function Td(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&cd(s)))}function js(s,u,m){switch(u.tag){case 3:ae(u,u.stateNode.containerInfo),il(u,gr,s.memoizedState.cache),Jl();break;case 27:case 5:le(u);break;case 4:ae(u,u.stateNode.containerInfo);break;case 10:il(u,u.type,u.memoizedProps.value);break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(Zu(u),u.flags|=128,null):(m&u.child.childLanes)!==0?ah(s,u,m):(Zu(u),s=Br(s,u,m),s!==null?s.sibling:null);Zu(u);break;case 19:var C=(s.flags&128)!==0;if(x=(m&u.childLanes)!==0,x||(Xa(s,u,m,!1),x=(m&u.childLanes)!==0),C){if(x)return ks(s,u,m);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Lt(sr,sr.current),x)break;return null;case 22:case 23:return u.lanes=0,Hc(s,u,m);case 24:il(u,gr,s.memoizedState.cache)}return Br(s,u,m)}function Gc(s,u,m){if(s!==null)if(s.memoizedProps!==u.pendingProps)Ir=!0;else{if(!Td(s,m)&&(u.flags&128)===0)return Ir=!1,js(s,u,m);Ir=(s.flags&131072)!==0}else Ir=!1,on&&(u.flags&1048576)!==0&&kt(u,y,u.index);switch(u.lanes=0,u.tag){case 16:t:{s=u.pendingProps;var x=u.elementType,C=x._init;if(x=C(x._payload),u.type=x,typeof x=="function")Vu(x)?(s=ol(x,s),u.tag=1,u=vs(null,u,x,s,m)):(u.tag=0,u=rh(null,u,x,s,m));else{if(x!=null){if(C=x.$$typeof,C===z){u.tag=11,u=Ya(null,u,x,s,m);break t}else if(C===q){u.tag=14,u=Za(null,u,x,s,m);break t}}throw u=dt(x)||x,Error(i(306,u,""))}}return u;case 0:return rh(s,u,u.type,u.pendingProps,m);case 1:return x=u.type,C=ol(x,u.pendingProps),vs(s,u,x,C,m);case 3:t:{if(ae(u,u.stateNode.containerInfo),s===null)throw Error(i(387));x=u.pendingProps;var D=u.memoizedState;C=D.element,fn(s,u),Qf(u,x,null,m);var W=u.memoizedState;if(x=W.cache,il(u,gr,x),x!==D.cache&&Gu(u,[gr],m,!0),vd(),x=W.element,D.isDehydrated)if(D={element:x,isDehydrated:!1,cache:W.cache},u.updateQueue.baseState=D,u.memoizedState=D,u.flags&256){u=$u(s,u,x,m);break t}else if(x!==C){C=mr(Error(i(424)),u),nl(C),u=$u(s,u,x,m);break t}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ge=fu(s.firstChild),Ie=u,on=!0,Qn=null,_i=!0,m=d_(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Jl(),x===C){u=Br(s,u,m);break t}or(s,u,x,m)}u=u.child}return u;case 26:return jc(s,u),s===null?(m=GR(u.type,null,u.pendingProps,null))?u.memoizedState=m:on||(m=u.type,s=u.pendingProps,x=T_(_t.current).createElement(m),x[Hi]=u,x[vi]=s,La(x,m,s),ki(x),u.stateNode=x):u.memoizedState=GR(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return le(u),s===null&&on&&(x=u.stateNode=kR(u.type,u.pendingProps,_t.current),Ie=u,_i=!0,C=Ge,mh(u.type)?(gM=C,Ge=fu(x.firstChild)):Ge=C),or(s,u,u.pendingProps.children,m),jc(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&on&&((C=x=Ge)&&(x=ck(x,u.type,u.pendingProps,_i),x!==null?(u.stateNode=x,Ie=u,Ge=fu(x.firstChild),_i=!1,C=!0):C=!1),C||Aa(u)),le(u),C=u.type,D=u.pendingProps,W=s!==null?s.memoizedProps:null,x=D.children,hM(C,D)?x=null:W!==null&&hM(C,W)&&(u.flags|=32),u.memoizedState!==null&&(C=iu(s,u,ZS,null,null,m),Cv._currentValue=C),jc(s,u),or(s,u,x,m),u.child;case 6:return s===null&&on&&((s=m=Ge)&&(m=fk(m,u.pendingProps,_i),m!==null?(u.stateNode=m,Ie=u,Ge=null,s=!0):s=!1),s||Aa(u)),null;case 13:return ah(s,u,m);case 4:return ae(u,u.stateNode.containerInfo),x=u.pendingProps,s===null?u.child=Bc(u,null,x,m):or(s,u,x,m),u.child;case 11:return Ya(s,u,u.type,u.pendingProps,m);case 7:return or(s,u,u.pendingProps,m),u.child;case 8:return or(s,u,u.pendingProps.children,m),u.child;case 12:return or(s,u,u.pendingProps.children,m),u.child;case 10:return x=u.pendingProps,il(u,u.type,x.value),or(s,u,x.children,m),u.child;case 9:return C=u.type._context,x=u.pendingProps.children,rl(u),C=Gi(C),x=x(C),u.flags|=1,or(s,u,x,m),u.child;case 14:return Za(s,u,u.type,u.pendingProps,m);case 15:return vv(s,u,u.type,u.pendingProps,m);case 19:return ks(s,u,m);case 31:return x=u.pendingProps,m=u.mode,x={mode:x.mode,children:x.children},s===null?(m=Vc(x,m),m.ref=u.ref,u.child=m,m.return=u,u=m):(m=Ni(s.child,x),m.ref=u.ref,u.child=m,m.return=u,u=m),u;case 22:return Hc(s,u,m);case 24:return rl(u),x=Gi(gr),s===null?(C=qu(),C===null&&(C=yn,D=Kp(),C.pooledCache=D,D.refCount++,D!==null&&(C.pooledCacheLanes|=m),C=D),u.memoizedState={parent:x,cache:C},$g(u),il(u,gr,C)):((s.lanes&m)!==0&&(fn(s,u),Qf(u,null,null,m),vd()),C=s.memoizedState,D=u.memoizedState,C.parent!==x?(C={parent:x,cache:x},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),il(u,gr,x)):(x=D.cache,il(u,gr,x),x!==C.cache&&Gu(u,[gr],m,!0))),or(s,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function So(s){s.flags|=4}function wd(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ZR(u)){if(u=fi.current,u!==null&&((tn&4194048)===tn?_o!==null:(tn&62914560)!==tn&&(tn&536870912)===0||u!==_o))throw Bs=gd,Kg;s.flags|=8192}}function su(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?ie():536870912,s.lanes|=u,Gn|=u)}function qc(s,u){if(!on)switch(s.tailMode){case"hidden":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function xi(s){var u=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(u)for(var C=s.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags&65011712,x|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=x,s.childLanes=m,u}function yv(s,u,m){var x=u.pendingProps;switch(Ae(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(u),null;case 1:return xi(u),null;case 3:return m=u.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),go(gr),Xt(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(hs(u)?So(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Xn())),xi(u),null;case 26:return m=u.memoizedState,s===null?(So(u),m!==null?(xi(u),wd(u,m)):(xi(u),u.flags&=-16777217)):m?m!==s.memoizedState?(So(u),xi(u),wd(u,m)):(xi(u),u.flags&=-16777217):(s.memoizedProps!==x&&So(u),xi(u),u.flags&=-16777217),null;case 27:pe(u),m=_t.current;var C=u.type;if(s!==null&&u.stateNode!=null)s.memoizedProps!==x&&So(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return xi(u),null}s=Dt.current,hs(u)?Yp(u):(s=kR(C,x,m),u.stateNode=s,So(u))}return xi(u),null;case 5:if(pe(u),m=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==x&&So(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return xi(u),null}if(s=Dt.current,hs(u))Yp(u);else{switch(C=T_(_t.current),s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof x.is=="string"?C.createElement("select",{is:x.is}):C.createElement("select"),x.multiple?s.multiple=!0:x.size&&(s.size=x.size);break;default:s=typeof x.is=="string"?C.createElement(m,{is:x.is}):C.createElement(m)}}s[Hi]=u,s[vi]=x;t:for(C=u.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===u)break t;for(;C.sibling===null;){if(C.return===null||C.return===u)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}u.stateNode=s;t:switch(La(s,m,x),m){case"button":case"input":case"select":case"textarea":s=!!x.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&So(u)}}return xi(u),u.flags&=-16777217,null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==x&&So(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(i(166));if(s=_t.current,hs(u)){if(s=u.stateNode,m=u.memoizedProps,x=null,C=Ie,C!==null)switch(C.tag){case 27:case 5:x=C.memoizedProps}s[Hi]=u,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||NR(s.nodeValue,m)),s||Aa(u)}else s=T_(s).createTextNode(x),s[Hi]=u,u.stateNode=s}return xi(u),null;case 13:if(x=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=hs(u),x!==null&&x.dehydrated!==null){if(s===null){if(!C)throw Error(i(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[Hi]=u}else Jl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;xi(u),C=!1}else C=Xn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?(sl(u),u):(sl(u),null)}if(sl(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=x!==null,s=s!==null&&s.memoizedState!==null,m){x=u.child,C=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(C=x.alternate.memoizedState.cachePool.pool);var D=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(D=x.memoizedState.cachePool.pool),D!==C&&(x.flags|=2048)}return m!==s&&m&&(u.child.flags|=8192),su(u,u.updateQueue),xi(u),null;case 4:return Xt(),s===null&&oM(u.stateNode.containerInfo),xi(u),null;case 10:return go(u.type),xi(u),null;case 19:if(gt(sr),C=u.memoizedState,C===null)return xi(u),null;if(x=(u.flags&128)!==0,D=C.rendering,D===null)if(x)qc(C,!1);else{if(Ri!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(D=au(s),D!==null){for(u.flags|=128,qc(C,!1),s=D.updateQueue,u.updateQueue=s,su(u,s),u.subtreeFlags=0,s=m,m=u.child;m!==null;)qf(m,s),m=m.sibling;return Lt(sr,sr.current&1|2),u.child}s=s.sibling}C.tail!==null&&At()>fa&&(u.flags|=128,x=!0,qc(C,!1),u.lanes=4194304)}else{if(!x)if(s=au(D),s!==null){if(u.flags|=128,x=!0,s=s.updateQueue,u.updateQueue=s,su(u,s),qc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!D.alternate&&!on)return xi(u),null}else 2*At()-C.renderingStartTime>fa&&m!==536870912&&(u.flags|=128,x=!0,qc(C,!1),u.lanes=4194304);C.isBackwards?(D.sibling=u.child,u.child=D):(s=C.last,s!==null?s.sibling=D:u.child=D,C.last=D)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=At(),u.sibling=null,s=sr.current,Lt(sr,x?s&1|2:s&1),u):(xi(u),null);case 22:case 23:return sl(u),yd(),x=u.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(m&536870912)!==0&&(u.flags&128)===0&&(xi(u),u.subtreeFlags&6&&(u.flags|=8192)):xi(u),m=u.updateQueue,m!==null&&su(u,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==m&&(u.flags|=2048),s!==null&&gt(Is),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),go(gr),xi(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function sh(s,u){switch(Ae(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return go(gr),Xt(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return pe(u),null;case 13:if(sl(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(i(340));Jl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return gt(sr),null;case 4:return Xt(),null;case 10:return go(u.type),null;case 22:case 23:return sl(u),yd(),s!==null&&gt(Is),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return go(gr),null;case 25:return null;default:return null}}function oh(s,u){switch(Ae(u),u.tag){case 3:go(gr),Xt();break;case 26:case 27:case 5:pe(u);break;case 4:Xt();break;case 13:sl(u);break;case 19:gt(sr);break;case 10:go(u.type);break;case 22:case 23:sl(u),yd(),s!==null&&gt(Is);break;case 24:go(gr)}}function Wc(s,u){try{var m=u.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var C=x.next;m=C;do{if((m.tag&s)===s){x=void 0;var D=m.create,W=m.inst;x=D(),W.destroy=x}m=m.next}while(m!==C)}}catch(et){xt(u,u.return,et)}}function ys(s,u,m){try{var x=u.updateQueue,C=x!==null?x.lastEffect:null;if(C!==null){var D=C.next;x=D;do{if((x.tag&s)===s){var W=x.inst,et=W.destroy;if(et!==void 0){W.destroy=void 0,C=u;var ht=m,Ut=et;try{Ut()}catch(ne){xt(C,ht,ne)}}}x=x.next}while(x!==D)}}catch(ne){xt(u,u.return,ne)}}function Xc(s){var u=s.updateQueue;if(u!==null){var m=s.stateNode;try{N0(u,m)}catch(x){xt(s,s.return,x)}}}function ou(s,u,m){m.props=ol(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){xt(s,u,x)}}function Yc(s,u){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(C){xt(s,u,C)}}function ul(s,u){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(C){xt(s,u,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(C){xt(s,u,C)}else m.current=null}function lh(s){var u=s.type,m=s.memoizedProps,x=s.stateNode;try{t:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break t;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(C){xt(s,s.return,C)}}function Ad(s,u,m){try{var x=s.stateNode;ak(x,s.type,m,u),x[vi]=u}catch(C){xt(s,s.return,C)}}function Cd(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&mh(s.type)||s.tag===4}function Ju(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Cd(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&mh(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function tc(s,u,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(s),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=E_));else if(x!==4&&(x===27&&mh(s.type)&&(m=s.stateNode,u=null),s=s.child,s!==null))for(tc(s,u,m),s=s.sibling;s!==null;)tc(s,u,m),s=s.sibling}function ec(s,u,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?m.insertBefore(s,u):m.appendChild(s);else if(x!==4&&(x===27&&mh(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(ec(s,u,m),s=s.sibling;s!==null;)ec(s,u,m),s=s.sibling}function nc(s){var u=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);La(u,x,m),u[Hi]=s,u[vi]=m}catch(D){xt(s,s.return,D)}}var cl=!1,bi=!1,uh=!1,_s=typeof WeakSet=="function"?WeakSet:Set,hi=null;function Ar(s,u){if(s=s.containerInfo,cM=P_,s=Bu(s),Zl(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else t:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var C=x.anchorOffset,D=x.focusNode;x=x.focusOffset;try{m.nodeType,D.nodeType}catch{m=null;break t}var W=0,et=-1,ht=-1,Ut=0,ne=0,ue=s,Ft=null;e:for(;;){for(var Vt;ue!==m||C!==0&&ue.nodeType!==3||(et=W+C),ue!==D||x!==0&&ue.nodeType!==3||(ht=W+x),ue.nodeType===3&&(W+=ue.nodeValue.length),(Vt=ue.firstChild)!==null;)Ft=ue,ue=Vt;for(;;){if(ue===s)break e;if(Ft===m&&++Ut===C&&(et=W),Ft===D&&++ne===x&&(ht=W),(Vt=ue.nextSibling)!==null)break;ue=Ft,Ft=ue.parentNode}ue=Vt}m=et===-1||ht===-1?null:{start:et,end:ht}}else m=null}m=m||{start:0,end:0}}else m=null;for(fM={focusedElem:s,selectionRange:m},P_=!1,hi=u;hi!==null;)if(u=hi,s=u.child,(u.subtreeFlags&1024)!==0&&s!==null)s.return=u,hi=s;else for(;hi!==null;){switch(u=hi,D=u.alternate,s=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&D!==null){s=void 0,m=u,C=D.memoizedProps,D=D.memoizedState,x=m.stateNode;try{var pn=ol(m.type,C,m.elementType===m.type);s=x.getSnapshotBeforeUpdate(pn,D),x.__reactInternalSnapshotBeforeUpdate=s}catch(an){xt(m,m.return,an)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,m=s.nodeType,m===9)pM(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":pM(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=u.sibling,s!==null){s.return=u.return,hi=s;break}hi=u.return}}function lu(s,u,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:Pa(s,m),x&4&&Wc(5,m);break;case 1:if(Pa(s,m),x&4)if(s=m.stateNode,u===null)try{s.componentDidMount()}catch(W){xt(m,m.return,W)}else{var C=ol(m.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(C,u,s.__reactInternalSnapshotBeforeUpdate)}catch(W){xt(m,m.return,W)}}x&64&&Xc(m),x&512&&Yc(m,m.return);break;case 3:if(Pa(s,m),x&64&&(s=m.updateQueue,s!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{N0(s,u)}catch(W){xt(m,m.return,W)}}break;case 27:u===null&&x&4&&nc(m);case 26:case 5:Pa(s,m),u===null&&x&4&&lh(m),x&512&&Yc(m,m.return);break;case 12:Pa(s,m);break;case 13:Pa(s,m),x&4&&ic(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=Oi.bind(null,m),hk(s,m))));break;case 22:if(x=m.memoizedState!==null||cl,!x){u=u!==null&&u.memoizedState!==null||bi,C=cl;var D=bi;cl=x,(bi=u)&&!D?fl(s,m,(m.subtreeFlags&8772)!==0):Pa(s,m),cl=C,bi=D}break;case 30:break;default:Pa(s,m)}}function Rn(s){var u=s.alternate;u!==null&&(s.alternate=null,Rn(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&ri(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var en=null,Vn=!1;function Vs(s,u,m){for(m=m.child;m!==null;)Zc(s,u,m),m=m.sibling}function Zc(s,u,m){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Nt,m)}catch{}switch(m.tag){case 26:bi||ul(m,u),Vs(s,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:bi||ul(m,u);var x=en,C=Vn;mh(m.type)&&(en=m.stateNode,Vn=!1),Vs(s,u,m),Ev(m.stateNode),en=x,Vn=C;break;case 5:bi||ul(m,u);case 6:if(x=en,C=Vn,en=null,Vs(s,u,m),en=x,Vn=C,en!==null)if(Vn)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(m.stateNode)}catch(D){xt(m,u,D)}else try{en.removeChild(m.stateNode)}catch(D){xt(m,u,D)}break;case 18:en!==null&&(Vn?(s=en,FR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),Dv(s)):FR(en,m.stateNode));break;case 4:x=en,C=Vn,en=m.stateNode.containerInfo,Vn=!0,Vs(s,u,m),en=x,Vn=C;break;case 0:case 11:case 14:case 15:bi||ys(2,m,u),bi||ys(4,m,u),Vs(s,u,m);break;case 1:bi||(ul(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"&&ou(m,u,x)),Vs(s,u,m);break;case 21:Vs(s,u,m);break;case 22:bi=(x=bi)||m.memoizedState!==null,Vs(s,u,m),bi=x;break;default:Vs(s,u,m)}}function ic(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Dv(s)}catch(m){xt(u,u.return,m)}}function vm(s){switch(s.tag){case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new _s),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new _s),u;default:throw Error(i(435,s.tag))}}function Kc(s,u){var m=vm(s);u.forEach(function(x){var C=hn.bind(null,s,x);m.has(x)||(m.add(x),x.then(C,C))})}function Fr(s,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var C=m[x],D=s,W=u,et=W;t:for(;et!==null;){switch(et.tag){case 27:if(mh(et.type)){en=et.stateNode,Vn=!1;break t}break;case 5:en=et.stateNode,Vn=!1;break t;case 3:case 4:en=et.stateNode.containerInfo,Vn=!0;break t}et=et.return}if(en===null)throw Error(i(160));Zc(D,W,C),en=null,Vn=!1,D=C.alternate,D!==null&&(D.return=null),C.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)ym(u,s),u=u.sibling}var Mo=null;function ym(s,u){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fr(u,s),qi(s),x&4&&(ys(3,s,s.return),Wc(3,s),ys(5,s,s.return));break;case 1:Fr(u,s),qi(s),x&512&&(bi||m===null||ul(m,m.return)),x&64&&cl&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var C=Mo;if(Fr(u,s),qi(s),x&512&&(bi||m===null||ul(m,m.return)),x&4){var D=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){t:{x=s.type,m=s.memoizedProps,C=C.ownerDocument||C;e:switch(x){case"title":D=C.getElementsByTagName("title")[0],(!D||D[ea]||D[Hi]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=C.createElement(x),C.head.insertBefore(D,C.querySelector("head > title"))),La(D,x,m),D[Hi]=s,ki(D),x=D;break t;case"link":var W=XR("link","href",C).get(x+(m.href||""));if(W){for(var et=0;et<W.length;et++)if(D=W[et],D.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&D.getAttribute("rel")===(m.rel==null?null:m.rel)&&D.getAttribute("title")===(m.title==null?null:m.title)&&D.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){W.splice(et,1);break e}}D=C.createElement(x),La(D,x,m),C.head.appendChild(D);break;case"meta":if(W=XR("meta","content",C).get(x+(m.content||""))){for(et=0;et<W.length;et++)if(D=W[et],D.getAttribute("content")===(m.content==null?null:""+m.content)&&D.getAttribute("name")===(m.name==null?null:m.name)&&D.getAttribute("property")===(m.property==null?null:m.property)&&D.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&D.getAttribute("charset")===(m.charSet==null?null:m.charSet)){W.splice(et,1);break e}}D=C.createElement(x),La(D,x,m),C.head.appendChild(D);break;default:throw Error(i(468,x))}D[Hi]=s,ki(D),x=D}s.stateNode=x}else YR(C,s.type,s.stateNode);else s.stateNode=WR(C,x,s.memoizedProps);else D!==x?(D===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):D.count--,x===null?YR(C,s.type,s.stateNode):WR(C,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Ad(s,s.memoizedProps,m.memoizedProps)}break;case 27:Fr(u,s),qi(s),x&512&&(bi||m===null||ul(m,m.return)),m!==null&&x&4&&Ad(s,s.memoizedProps,m.memoizedProps);break;case 5:if(Fr(u,s),qi(s),x&512&&(bi||m===null||ul(m,m.return)),s.flags&32){C=s.stateNode;try{Ci(C,"")}catch(Vt){xt(s,s.return,Vt)}}x&4&&s.stateNode!=null&&(C=s.memoizedProps,Ad(s,C,m!==null?m.memoizedProps:C)),x&1024&&(uh=!0);break;case 6:if(Fr(u,s),qi(s),x&4){if(s.stateNode===null)throw Error(i(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(Vt){xt(s,s.return,Vt)}}break;case 3:if(C_=null,C=Mo,Mo=w_(u.containerInfo),Fr(u,s),Mo=C,qi(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Dv(u.containerInfo)}catch(Vt){xt(s,s.return,Vt)}uh&&(uh=!1,rc(s));break;case 4:x=Mo,Mo=w_(s.stateNode.containerInfo),Fr(u,s),qi(s),Mo=x;break;case 12:Fr(u,s),qi(s);break;case 13:Fr(u,s),qi(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(li=At()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Kc(s,x)));break;case 22:C=s.memoizedState!==null;var ht=m!==null&&m.memoizedState!==null,Ut=cl,ne=bi;if(cl=Ut||C,bi=ne||ht,Fr(u,s),bi=ne,cl=Ut,qi(s),x&8192)t:for(u=s.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(m===null||ht||cl||bi||xs(s)),m=null,u=s;;){if(u.tag===5||u.tag===26){if(m===null){ht=m=u;try{if(D=ht.stateNode,C)W=D.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{et=ht.stateNode;var ue=ht.memoizedProps.style,Ft=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;et.style.display=Ft==null||typeof Ft=="boolean"?"":(""+Ft).trim()}}catch(Vt){xt(ht,ht.return,Vt)}}}else if(u.tag===6){if(m===null){ht=u;try{ht.stateNode.nodeValue=C?"":ht.memoizedProps}catch(Vt){xt(ht,ht.return,Vt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break t;for(;u.sibling===null;){if(u.return===null||u.return===s)break t;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,Kc(s,m))));break;case 19:Fr(u,s),qi(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Kc(s,x)));break;case 30:break;case 21:break;default:Fr(u,s),qi(s)}}function qi(s){var u=s.flags;if(u&2){try{for(var m,x=s.return;x!==null;){if(Cd(x)){m=x;break}x=x.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var C=m.stateNode,D=Ju(s);ec(s,D,C);break;case 5:var W=m.stateNode;m.flags&32&&(Ci(W,""),m.flags&=-33);var et=Ju(s);ec(s,et,W);break;case 3:case 4:var ht=m.stateNode.containerInfo,Ut=Ju(s);tc(s,Ut,ht);break;default:throw Error(i(161))}}catch(ne){xt(s,s.return,ne)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function rc(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;rc(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function Pa(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)lu(s,u.alternate,u),u=u.sibling}function xs(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:ys(4,u,u.return),xs(u);break;case 1:ul(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&ou(u,u.return,m),xs(u);break;case 27:Ev(u.stateNode);case 26:case 5:ul(u,u.return),xs(u);break;case 22:u.memoizedState===null&&xs(u);break;case 30:xs(u);break;default:xs(u)}s=s.sibling}}function fl(s,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,C=s,D=u,W=D.flags;switch(D.tag){case 0:case 11:case 15:fl(C,D,m),Wc(4,D);break;case 1:if(fl(C,D,m),x=D,C=x.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ut){xt(x,x.return,Ut)}if(x=D,C=x.updateQueue,C!==null){var et=x.stateNode;try{var ht=C.shared.hiddenCallbacks;if(ht!==null)for(C.shared.hiddenCallbacks=null,C=0;C<ht.length;C++)$f(ht[C],et)}catch(Ut){xt(x,x.return,Ut)}}m&&W&64&&Xc(D),Yc(D,D.return);break;case 27:nc(D);case 26:case 5:fl(C,D,m),m&&x===null&&W&4&&lh(D),Yc(D,D.return);break;case 12:fl(C,D,m);break;case 13:fl(C,D,m),m&&W&4&&ic(C,D);break;case 22:D.memoizedState===null&&fl(C,D,m),Yc(D,D.return);break;case 30:break;default:fl(C,D,m)}u=u.sibling}}function _m(s,u){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Wf(m))}function xm(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Wf(s))}function di(s,u,m,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)bm(s,u,m,x),u=u.sibling}function bm(s,u,m,x){var C=u.flags;switch(u.tag){case 0:case 11:case 15:di(s,u,m,x),C&2048&&Wc(9,u);break;case 1:di(s,u,m,x);break;case 3:di(s,u,m,x),C&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Wf(s)));break;case 12:if(C&2048){di(s,u,m,x),s=u.stateNode;try{var D=u.memoizedProps,W=D.id,et=D.onPostCommit;typeof et=="function"&&et(W,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ht){xt(u,u.return,ht)}}else di(s,u,m,x);break;case 13:di(s,u,m,x);break;case 23:break;case 22:D=u.stateNode,W=u.alternate,u.memoizedState!==null?D._visibility&2?di(s,u,m,x):Eo(s,u):D._visibility&2?di(s,u,m,x):(D._visibility|=2,uu(s,u,m,x,(u.subtreeFlags&10256)!==0)),C&2048&&_m(W,u);break;case 24:di(s,u,m,x),C&2048&&xm(u.alternate,u);break;default:di(s,u,m,x)}}function uu(s,u,m,x,C){for(C=C&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var D=s,W=u,et=m,ht=x,Ut=W.flags;switch(W.tag){case 0:case 11:case 15:uu(D,W,et,ht,C),Wc(8,W);break;case 23:break;case 22:var ne=W.stateNode;W.memoizedState!==null?ne._visibility&2?uu(D,W,et,ht,C):Eo(D,W):(ne._visibility|=2,uu(D,W,et,ht,C)),C&&Ut&2048&&_m(W.alternate,W);break;case 24:uu(D,W,et,ht,C),C&&Ut&2048&&xm(W.alternate,W);break;default:uu(D,W,et,ht,C)}u=u.sibling}}function Eo(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=s,x=u,C=x.flags;switch(x.tag){case 22:Eo(m,x),C&2048&&_m(x.alternate,x);break;case 24:Eo(m,x),C&2048&&xm(x.alternate,x);break;default:Eo(m,x)}u=u.sibling}}var bs=8192;function ch(s){if(s.subtreeFlags&bs)for(s=s.child;s!==null;)x_(s),s=s.sibling}function x_(s){switch(s.tag){case 26:ch(s),s.flags&bs&&s.memoizedState!==null&&Tk(Mo,s.memoizedState,s.memoizedProps);break;case 5:ch(s);break;case 3:case 4:var u=Mo;Mo=w_(s.stateNode.containerInfo),ch(s),Mo=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=bs,bs=16777216,ch(s),bs=u):ch(s));break;default:ch(s)}}function b_(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function Si(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];hi=x,dl(x,s)}b_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_v(s),s=s.sibling}function _v(s){switch(s.tag){case 0:case 11:case 15:Si(s),s.flags&2048&&ys(9,s,s.return);break;case 3:Si(s);break;case 12:Si(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,hl(s)):Si(s);break;default:Si(s)}}function hl(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];hi=x,dl(x,s)}b_(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:ys(8,u,u.return),hl(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,hl(u));break;default:hl(u)}s=s.sibling}}function dl(s,u){for(;hi!==null;){var m=hi;switch(m.tag){case 0:case 11:case 15:ys(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Wf(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,hi=x;else t:for(m=s;hi!==null;){x=hi;var C=x.sibling,D=x.return;if(Rn(x),x===m){hi=null;break t}if(C!==null){C.return=D,hi=C;break t}hi=D}}}var Wi={getCacheForType:function(s){var u=Gi(gr),m=u.data.get(s);return m===void 0&&(m=s(),u.data.set(s,m)),m}},xv=typeof WeakMap=="function"?WeakMap:Map,ti=0,yn=null,Un=null,tn=0,An=0,Ii=null,Ss=!1,fh=!1,hh=!1,Gs=0,Ri=0,To=0,pl=0,Qc=0,qs=0,Gn=0,ei=null,nn=null,In=!1,li=0,fa=1/0,Ws=null,Ms=null,Cr=0,ha=null,pi=null,Es=0,cu=0,Rd=null,Ts=null,ml=0,$c=null;function Xi(){if((ti&2)!==0&&tn!==0)return tn&-tn;if(X.T!==null){var s=Mn;return s!==0?s:iM()}return gn()}function Sm(){qs===0&&(qs=(tn&536870912)===0||on?pt():536870912);var s=fi.current;return s!==null&&(s.flags|=32),qs}function Da(s,u,m){(s===yn&&(An===2||An===9)||s.cancelPendingCommit!==null)&&(sc(s,0),wo(s,tn,qs,!1)),_e(s,m),((ti&2)===0||s!==yn)&&(s===yn&&((ti&2)===0&&(pl|=m),Ri===4&&wo(s,tn,qs,!1)),uc(s))}function dh(s,u,m){if((ti&6)!==0)throw Error(i(327));var x=!m&&(u&124)===0&&(u&s.expiredLanes)===0||Et(s,u),C=x?R(s,u):p(s,u,!0),D=x;do{if(C===0){fh&&!x&&wo(s,u,0,!1);break}else{if(m=s.current.alternate,D&&!ac(m)){C=p(s,u,!1),D=!1;continue}if(C===2){if(D=u,s.errorRecoveryDisabledLanes&D)var W=0;else W=s.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){u=W;t:{var et=s;C=ei;var ht=et.current.memoizedState.isDehydrated;if(ht&&(sc(et,W).flags|=256),W=p(et,W,!1),W!==2){if(hh&&!ht){et.errorRecoveryDisabledLanes|=D,pl|=D,C=4;break t}D=nn,nn=C,D!==null&&(nn===null?nn=D:nn.push.apply(nn,D))}C=W}if(D=!1,C!==2)continue}}if(C===1){sc(s,0),wo(s,u,0,!0);break}t:{switch(x=s,D=C,D){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:wo(x,u,qs,!Ss);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(C=li+300-At(),10<C)){if(wo(x,u,qs,!Ss),ct(x,0,!0)!==0)break t;x.timeoutHandle=IR(Od.bind(null,x,m,nn,Ws,In,u,qs,pl,Gn,Ss,D,2,-0,0),C);break t}Od(x,m,nn,Ws,In,u,qs,pl,Gn,Ss,D,0,-0,0)}}break}while(!0);uc(s)}function Od(s,u,m,x,C,D,W,et,ht,Ut,ne,ue,Ft,Vt){if(s.timeoutHandle=-1,ue=u.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Av={stylesheets:null,count:0,unsuspend:Ek},x_(u),ue=wk(),ue!==null)){s.cancelPendingCommit=ue(be.bind(null,s,u,D,m,x,C,W,et,ht,ne,1,Ft,Vt)),wo(s,D,W,!Ut);return}be(s,u,D,m,x,C,W,et,ht)}function ac(s){for(var u=s;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var C=m[x],D=C.getSnapshot;C=C.value;try{if(!sa(D(),C))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function wo(s,u,m,x){u&=~Qc,u&=~pl,s.suspendedLanes|=u,s.pingedLanes&=~u,x&&(s.warmLanes|=u),x=s.expirationTimes;for(var C=u;0<C;){var D=31-Me(C),W=1<<D;x[D]=-1,C&=~W}m!==0&&re(s,m,u)}function gl(){return(ti&6)===0?(bv(0),!1):!0}function Jc(){if(Un!==null){if(An===0)var s=Un.return;else s=Un,mo=ds=null,nv(s),Ic=null,Sd=0,s=Un;for(;s!==null;)oh(s.alternate,s),s=s.return;Un=null}}function sc(s,u){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,ok(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),Jc(),yn=s,Un=m=Ni(s.current,null),tn=u,An=0,Ii=null,Ss=!1,fh=Et(s,u),hh=!1,Gn=qs=Qc=pl=To=Ri=0,nn=ei=null,In=!1,(u&8)!==0&&(u|=u&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=u;0<x;){var C=31-Me(x),D=1<<C;u|=s[C],x&=~D}return Gs=u,ku(),m}function Mm(s,u){En=null,X.H=bd,u===md||u===vo?(u=Qg(),An=3):u===Kg?(u=Qg(),An=4):An=u===__?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ii=u,Un===null&&(Ri=1,pm(s,mr(u,s.current)))}function ph(){var s=X.H;return X.H=bd,s===null?bd:s}function Em(){var s=X.A;return X.A=Wi,s}function f(){Ri=4,Ss||(tn&4194048)!==tn&&fi.current!==null||(fh=!0),(To&134217727)===0&&(pl&134217727)===0||yn===null||wo(yn,tn,qs,!1)}function p(s,u,m){var x=ti;ti|=2;var C=ph(),D=Em();(yn!==s||tn!==u)&&(Ws=null,sc(s,u)),u=!1;var W=Ri;t:do try{if(An!==0&&Un!==null){var et=Un,ht=Ii;switch(An){case 8:Jc(),W=6;break t;case 3:case 2:case 9:case 6:fi.current===null&&(u=!0);var Ut=An;if(An=0,Ii=null,mt(s,et,ht,Ut),m&&fh){W=0;break t}break;default:Ut=An,An=0,Ii=null,mt(s,et,ht,Ut)}}S(),W=Ri;break}catch(ne){Mm(s,ne)}while(!0);return u&&s.shellSuspendCounter++,mo=ds=null,ti=x,X.H=C,X.A=D,Un===null&&(yn=null,tn=0,ku()),W}function S(){for(;Un!==null;)B(Un)}function R(s,u){var m=ti;ti|=2;var x=ph(),C=Em();yn!==s||tn!==u?(Ws=null,fa=At()+500,sc(s,u)):fh=Et(s,u);t:do try{if(An!==0&&Un!==null){u=Un;var D=Ii;e:switch(An){case 1:An=0,Ii=null,mt(s,u,D,1);break;case 2:case 9:if(Jp(D)){An=0,Ii=null,rt(u);break}u=function(){An!==2&&An!==9||yn!==s||(An=7),uc(s)},D.then(u,u);break t;case 3:An=7;break t;case 4:An=5;break t;case 7:Jp(D)?(An=0,Ii=null,rt(u)):(An=0,Ii=null,mt(s,u,D,7));break;case 5:var W=null;switch(Un.tag){case 26:W=Un.memoizedState;case 5:case 27:var et=Un;if(!W||ZR(W)){An=0,Ii=null;var ht=et.sibling;if(ht!==null)Un=ht;else{var Ut=et.return;Ut!==null?(Un=Ut,Rt(Ut)):Un=null}break e}}An=0,Ii=null,mt(s,u,D,5);break;case 6:An=0,Ii=null,mt(s,u,D,6);break;case 8:Jc(),Ri=6;break t;default:throw Error(i(462))}}N();break}catch(ne){Mm(s,ne)}while(!0);return mo=ds=null,X.H=x,X.A=C,ti=m,Un!==null?0:(yn=null,tn=0,ku(),Ri)}function N(){for(;Un!==null&&!Gt();)B(Un)}function B(s){var u=Gc(s.alternate,s,Gs);s.memoizedProps=s.pendingProps,u===null?Rt(s):Un=u}function rt(s){var u=s,m=u.alternate;switch(u.tag){case 15:case 0:u=gs(m,u,u.pendingProps,u.type,void 0,tn);break;case 11:u=gs(m,u,u.pendingProps,u.type.render,u.ref,tn);break;case 5:nv(u);default:oh(m,u),u=Un=qf(u,Gs),u=Gc(m,u,Gs)}s.memoizedProps=s.pendingProps,u===null?Rt(s):Un=u}function mt(s,u,m,x){mo=ds=null,nv(u),Ic=null,Sd=0;var C=u.return;try{if(eM(s,C,u,m,tn)){Ri=1,pm(s,mr(m,s.current)),Un=null;return}}catch(D){if(C!==null)throw Un=C,D;Ri=1,pm(s,mr(m,s.current)),Un=null;return}u.flags&32768?(on||x===1?s=!0:fh||(tn&536870912)!==0?s=!1:(Ss=s=!0,(x===2||x===9||x===3||x===6)&&(x=fi.current,x!==null&&x.tag===13&&(x.flags|=16384))),ee(u,s)):Rt(u)}function Rt(s){var u=s;do{if((u.flags&32768)!==0){ee(u,Ss);return}s=u.return;var m=yv(u.alternate,u,Gs);if(m!==null){Un=m;return}if(u=u.sibling,u!==null){Un=u;return}Un=u=s}while(u!==null);Ri===0&&(Ri=5)}function ee(s,u){do{var m=sh(s.alternate,s);if(m!==null){m.flags&=32767,Un=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(s=s.sibling,s!==null)){Un=s;return}Un=s=m}while(s!==null);Ri=6,Un=null}function be(s,u,m,x,C,D,W,et,ht){s.cancelPendingCommit=null;do oc();while(Cr!==0);if((ti&6)!==0)throw Error(i(327));if(u!==null){if(u===s.current)throw Error(i(177));if(D=u.lanes|u.childLanes,D|=Wa,de(s,m,D,W,et,ht),s===yn&&(Un=yn=null,tn=0),pi=u,ha=s,Es=m,cu=D,Rd=C,Ts=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Yn(Le,function(){return lc(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=X.T,X.T=null,C=it.p,it.p=2,W=ti,ti|=4;try{Ar(s,u,m)}finally{ti=W,it.p=C,X.T=x}}Cr=1,Ce(),Ue(),_n()}}function Ce(){if(Cr===1){Cr=0;var s=ha,u=pi,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=X.T,X.T=null;var x=it.p;it.p=2;var C=ti;ti|=4;try{ym(u,s);var D=fM,W=Bu(s.containerInfo),et=D.focusedElem,ht=D.selectionRange;if(W!==et&&et&&et.ownerDocument&&Oc(et.ownerDocument.documentElement,et)){if(ht!==null&&Zl(et)){var Ut=ht.start,ne=ht.end;if(ne===void 0&&(ne=Ut),"selectionStart"in et)et.selectionStart=Ut,et.selectionEnd=Math.min(ne,et.value.length);else{var ue=et.ownerDocument||document,Ft=ue&&ue.defaultView||window;if(Ft.getSelection){var Vt=Ft.getSelection(),pn=et.textContent.length,an=Math.min(ht.start,pn),Ei=ht.end===void 0?an:Math.min(ht.end,pn);!Vt.extend&&an>Ei&&(W=Ei,Ei=an,an=W);var wt=jf(et,an),bt=jf(et,Ei);if(wt&&bt&&(Vt.rangeCount!==1||Vt.anchorNode!==wt.node||Vt.anchorOffset!==wt.offset||Vt.focusNode!==bt.node||Vt.focusOffset!==bt.offset)){var Pt=ue.createRange();Pt.setStart(wt.node,wt.offset),Vt.removeAllRanges(),an>Ei?(Vt.addRange(Pt),Vt.extend(bt.node,bt.offset)):(Pt.setEnd(bt.node,bt.offset),Vt.addRange(Pt))}}}}for(ue=[],Vt=et;Vt=Vt.parentNode;)Vt.nodeType===1&&ue.push({element:Vt,left:Vt.scrollLeft,top:Vt.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<ue.length;et++){var se=ue[et];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}P_=!!cM,fM=cM=null}finally{ti=C,it.p=x,X.T=m}}s.current=u,Cr=2}}function Ue(){if(Cr===2){Cr=0;var s=ha,u=pi,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=X.T,X.T=null;var x=it.p;it.p=2;var C=ti;ti|=4;try{lu(s,u.alternate,u)}finally{ti=C,it.p=x,X.T=m}}Cr=3}}function _n(){if(Cr===4||Cr===3){Cr=0,Yt();var s=ha,u=pi,m=Es,x=Ts;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Cr=5:(Cr=0,pi=ha=null,ws(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(Ms=null),bn(m),u=u.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Nt,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=X.T,C=it.p,it.p=2,X.T=null;try{for(var D=s.onRecoverableError,W=0;W<x.length;W++){var et=x[W];D(et.value,{componentStack:et.stack})}}finally{X.T=u,it.p=C}}(Es&3)!==0&&oc(),uc(s),C=s.pendingLanes,(m&4194090)!==0&&(C&42)!==0?s===$c?ml++:(ml=0,$c=s):ml=0,bv(0)}}function ws(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,Wf(u)))}function oc(s){return Ce(),Ue(),_n(),lc()}function lc(){if(Cr!==5)return!1;var s=ha,u=cu;cu=0;var m=bn(Es),x=X.T,C=it.p;try{it.p=32>m?32:m,X.T=null,m=Rd,Rd=null;var D=ha,W=Es;if(Cr=0,pi=ha=null,Es=0,(ti&6)!==0)throw Error(i(331));var et=ti;if(ti|=4,_v(D.current),bm(D,D.current,W,m),ti=et,bv(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Nt,D)}catch{}return!0}finally{it.p=C,X.T=x,ws(s,u)}}function zt(s,u,m){u=mr(m,u),u=mm(s.stateNode,u,2),s=eu(s,u,2),s!==null&&(_e(s,2),uc(s))}function xt(s,u,m){if(s.tag===3)zt(s,s,m);else for(;u!==null;){if(u.tag===3){zt(u,s,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ms===null||!Ms.has(x))){s=mr(m,s),m=y_(2),x=eu(u,m,2),x!==null&&(gm(m,x,u,s),_e(x,2),uc(x));break}}u=u.return}}function Wt(s,u,m){var x=s.pingCache;if(x===null){x=s.pingCache=new xv;var C=new Set;x.set(u,C)}else C=x.get(u),C===void 0&&(C=new Set,x.set(u,C));C.has(m)||(hh=!0,C.add(m),s=xe.bind(null,s,u,m),u.then(s,s))}function xe(s,u,m){var x=s.pingCache;x!==null&&x.delete(u),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,yn===s&&(tn&m)===m&&(Ri===4||Ri===3&&(tn&62914560)===tn&&300>At()-li?(ti&2)===0&&sc(s,0):Qc|=m,Gn===tn&&(Gn=0)),uc(s)}function Ke(s,u){u===0&&(u=ie()),s=fo(s,u),s!==null&&(_e(s,u),uc(s))}function Oi(s){var u=s.memoizedState,m=0;u!==null&&(m=u.retryLane),Ke(s,m)}function hn(s,u){var m=0;switch(s.tag){case 13:var x=s.stateNode,C=s.memoizedState;C!==null&&(m=C.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(u),Ke(s,m)}function Yn(s,u){return ot(s,u)}var lr=null,zn=null,vl=!1,Tm=!1,nM=!1,Pd=0;function uc(s){s!==zn&&s.next===null&&(zn===null?lr=zn=s:zn=zn.next=s),Tm=!0,vl||(vl=!0,$H())}function bv(s,u){if(!nM&&Tm){nM=!0;do for(var m=!1,x=lr;x!==null;){if(s!==0){var C=x.pendingLanes;if(C===0)var D=0;else{var W=x.suspendedLanes,et=x.pingedLanes;D=(1<<31-Me(42|s)+1)-1,D&=C&~(W&~et),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(m=!0,AR(x,D))}else D=tn,D=ct(x,x===yn?D:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(D&3)===0||Et(x,D)||(m=!0,AR(x,D));x=x.next}while(m);nM=!1}}function QH(){ER()}function ER(){Tm=vl=!1;var s=0;Pd!==0&&(sk()&&(s=Pd),Pd=0);for(var u=At(),m=null,x=lr;x!==null;){var C=x.next,D=TR(x,u);D===0?(x.next=null,m===null?lr=C:m.next=C,C===null&&(zn=m)):(m=x,(s!==0||(D&3)!==0)&&(Tm=!0)),x=C}bv(s)}function TR(s,u){for(var m=s.suspendedLanes,x=s.pingedLanes,C=s.expirationTimes,D=s.pendingLanes&-62914561;0<D;){var W=31-Me(D),et=1<<W,ht=C[W];ht===-1?((et&m)===0||(et&x)!==0)&&(C[W]=fe(et,u)):ht<=u&&(s.expiredLanes|=et),D&=~et}if(u=yn,m=tn,m=ct(s,s===u?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===u&&(An===2||An===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Ht(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||Et(s,m)){if(u=m&-m,u===s.callbackPriority)return u;switch(x!==null&&Ht(x),bn(m)){case 2:case 8:m=te;break;case 32:m=Le;break;case 268435456:m=$;break;default:m=Le}return x=wR.bind(null,s),m=ot(m,x),s.callbackPriority=u,s.callbackNode=m,u}return x!==null&&x!==null&&Ht(x),s.callbackPriority=2,s.callbackNode=null,2}function wR(s,u){if(Cr!==0&&Cr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(oc()&&s.callbackNode!==m)return null;var x=tn;return x=ct(s,s===yn?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(dh(s,x,u),TR(s,At()),s.callbackNode!=null&&s.callbackNode===m?wR.bind(null,s):null)}function AR(s,u){if(oc())return null;dh(s,u,!0)}function $H(){lk(function(){(ti&6)!==0?ot(qt,QH):ER()})}function iM(){return Pd===0&&(Pd=pt()),Pd}function CR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Bl(""+s)}function RR(s,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,s.id&&m.setAttribute("form",s.id),u.parentNode.insertBefore(m,u),s=new FormData(s),m.parentNode.removeChild(m),s}function JH(s,u,m,x,C){if(u==="submit"&&m&&m.stateNode===C){var D=CR((C[vi]||null).action),W=x.submitter;W&&(u=(u=W[vi]||null)?CR(u.formAction):W.getAttribute("formAction"),u!==null&&(D=u,W=null));var et=new jl("action","action",null,x,C);s.push({event:et,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Pd!==0){var ht=W?RR(C,W):new FormData(C);pv(m,{pending:!0,data:ht,method:C.method,action:D},null,ht)}}else typeof D=="function"&&(et.preventDefault(),ht=W?RR(C,W):new FormData(C),pv(m,{pending:!0,data:ht,method:C.method,action:D},D,ht))},currentTarget:C}]})}}for(var rM=0;rM<uo.length;rM++){var aM=uo[rM],tk=aM.toLowerCase(),ek=aM[0].toUpperCase()+aM.slice(1);pr(tk,"on"+ek)}pr(Vr,"onAnimationEnd"),pr(Va,"onAnimationIteration"),pr(Sr,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(Xp,"onTransitionRun"),pr(Ga,"onTransitionStart"),pr(Hu,"onTransitionCancel"),pr(Us,"onTransitionEnd"),St("onMouseEnter",["mouseout","mouseover"]),St("onMouseLeave",["mouseout","mouseover"]),St("onPointerEnter",["pointerout","pointerover"]),St("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sv));function OR(s,u){u=(u&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],C=x.event;x=x.listeners;t:{var D=void 0;if(u)for(var W=x.length-1;0<=W;W--){var et=x[W],ht=et.instance,Ut=et.currentTarget;if(et=et.listener,ht!==D&&C.isPropagationStopped())break t;D=et,C.currentTarget=Ut;try{D(C)}catch(ne){Fc(ne)}C.currentTarget=null,D=ht}else for(W=0;W<x.length;W++){if(et=x[W],ht=et.instance,Ut=et.currentTarget,et=et.listener,ht!==D&&C.isPropagationStopped())break t;D=et,C.currentTarget=Ut;try{D(C)}catch(ne){Fc(ne)}C.currentTarget=null,D=ht}}}}function Fn(s,u){var m=u[Di];m===void 0&&(m=u[Di]=new Set);var x=s+"__bubble";m.has(x)||(PR(u,s,2,!1),m.add(x))}function sM(s,u,m){var x=0;u&&(x|=4),PR(m,s,x,u)}var S_="_reactListening"+Math.random().toString(36).slice(2);function oM(s){if(!s[S_]){s[S_]=!0,Tu.forEach(function(m){m!=="selectionchange"&&(nk.has(m)||sM(m,!1,s),sM(m,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[S_]||(u[S_]=!0,sM("selectionchange",!1,u))}}function PR(s,u,m,x){switch(eO(u)){case 2:var C=Rk;break;case 8:C=Ok;break;default:C=bM}m=C.bind(null,u,m,s),C=void 0,!Hl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),x?C!==void 0?s.addEventListener(u,m,{capture:!0,passive:C}):s.addEventListener(u,m,!0):C!==void 0?s.addEventListener(u,m,{passive:C}):s.addEventListener(u,m,!1)}function lM(s,u,m,x,C){var D=x;if((u&1)===0&&(u&2)===0&&x!==null)t:for(;;){if(x===null)return;var W=x.tag;if(W===3||W===4){var et=x.stateNode.containerInfo;if(et===C)break;if(W===4)for(W=x.return;W!==null;){var ht=W.tag;if((ht===3||ht===4)&&W.stateNode.containerInfo===C)return;W=W.return}for(;et!==null;){if(W=ba(et),W===null)return;if(ht=W.tag,ht===5||ht===6||ht===26||ht===27){x=D=W;continue t}et=et.parentNode}}x=x.return}ka(function(){var Ut=D,ne=Fl(m),ue=[];t:{var Ft=Vf.get(s);if(Ft!==void 0){var Vt=jl,pn=s;switch(s){case"keypress":if(yi(m)===0)break t;case"keydown":case"keyup":Vt=id;break;case"focusin":pn="focus",Vt=Uf;break;case"focusout":pn="blur",Vt=Uf;break;case"beforeblur":case"afterblur":Vt=Uf;break;case"click":if(m.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Vt=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Vt=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Vt=rd;break;case Vr:case Va:case Sr:Vt=Fp;break;case Us:Vt=so;break;case"scroll":case"scrollend":Vt=Bp;break;case"wheel":Vt=Vp;break;case"copy":case"cut":case"paste":Vt=zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Vt=wc;break;case"toggle":case"beforetoggle":Vt=na}var an=(u&4)!==0,Ei=!an&&(s==="scroll"||s==="scrollend"),wt=an?Ft!==null?Ft+"Capture":null:Ft;an=[];for(var bt=Ut,Pt;bt!==null;){var se=bt;if(Pt=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Pt===null||wt===null||(se=jn(bt,wt),se!=null&&an.push(Mv(bt,se,Pt))),Ei)break;bt=bt.return}0<an.length&&(Ft=new Vt(Ft,pn,null,m,ne),ue.push({event:Ft,listeners:an}))}}if((u&7)===0){t:{if(Ft=s==="mouseover"||s==="pointerover",Vt=s==="mouseout"||s==="pointerout",Ft&&m!==Ru&&(pn=m.relatedTarget||m.fromElement)&&(ba(pn)||pn[Ha]))break t;if((Vt||Ft)&&(Ft=ne.window===ne?ne:(Ft=ne.ownerDocument)?Ft.defaultView||Ft.parentWindow:window,Vt?(pn=m.relatedTarget||m.toElement,Vt=Ut,pn=pn?ba(pn):null,pn!==null&&(Ei=a(pn),an=pn.tag,pn!==Ei||an!==5&&an!==27&&an!==6)&&(pn=null)):(Vt=null,pn=Ut),Vt!==pn)){if(an=Vl,se="onMouseLeave",wt="onMouseEnter",bt="mouse",(s==="pointerout"||s==="pointerover")&&(an=wc,se="onPointerLeave",wt="onPointerEnter",bt="pointer"),Ei=Vt==null?Ft:Sa(Vt),Pt=pn==null?Ft:Sa(pn),Ft=new an(se,bt+"leave",Vt,m,ne),Ft.target=Ei,Ft.relatedTarget=Pt,se=null,ba(ne)===Ut&&(an=new an(wt,bt+"enter",pn,m,ne),an.target=Pt,an.relatedTarget=Ei,se=an),Ei=se,Vt&&pn)e:{for(an=Vt,wt=pn,bt=0,Pt=an;Pt;Pt=wm(Pt))bt++;for(Pt=0,se=wt;se;se=wm(se))Pt++;for(;0<bt-Pt;)an=wm(an),bt--;for(;0<Pt-bt;)wt=wm(wt),Pt--;for(;bt--;){if(an===wt||wt!==null&&an===wt.alternate)break e;an=wm(an),wt=wm(wt)}an=null}else an=null;Vt!==null&&DR(ue,Ft,Vt,an,!1),pn!==null&&Ei!==null&&DR(ue,Ei,pn,an,!0)}}t:{if(Ft=Ut?Sa(Ut):window,Vt=Ft.nodeName&&Ft.nodeName.toLowerCase(),Vt==="select"||Vt==="input"&&Ft.type==="file")var qe=Qo;else if(Ko(Ft))if(Rc)qe=$o;else{qe=qp;var Bn=od}else Vt=Ft.nodeName,!Vt||Vt.toLowerCase()!=="input"||Ft.type!=="checkbox"&&Ft.type!=="radio"?Ut&&Cu(Ut.elementType)&&(qe=Qo):qe=wa;if(qe&&(qe=qe(s,Ut))){ra(ue,qe,m,ne);break t}Bn&&Bn(s,Ft,Ut),s==="focusout"&&Ut&&Ft.type==="number"&&Ut.memoizedProps.value!=null&&ji(Ft,"number",Ft.value)}switch(Bn=Ut?Sa(Ut):window,s){case"focusin":(Ko(Bn)||Bn.contentEditable==="true")&&(oa=Bn,Kl=Ut,Ql=null);break;case"focusout":Ql=Kl=oa=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,ld(ue,m,ne);break;case"selectionchange":if(Fu)break;case"keydown":case"keyup":ld(ue,m,ne)}var $e;if(lo)t:{switch(s){case"compositionstart":var ln="onCompositionStart";break t;case"compositionend":ln="onCompositionEnd";break t;case"compositionupdate":ln="onCompositionUpdate";break t}ln=void 0}else Zo?Gl(s,m)&&(ln="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(ln="onCompositionStart");ln&&(Uu&&m.locale!=="ko"&&(Zo||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&Zo&&($e=kl()):(fs=ne,ro="value"in fs?fs.value:fs.textContent,Zo=!0)),Bn=M_(Ut,ln),0<Bn.length&&(ln=new Ea(ln,s,null,m,ne),ue.push({event:ln,listeners:Bn}),$e?ln.data=$e:($e=ad(m),$e!==null&&(ln.data=$e)))),($e=Nu?zu(s,m):sd(s,m))&&(ln=M_(Ut,"onBeforeInput"),0<ln.length&&(Bn=new Ea("onBeforeInput","beforeinput",null,m,ne),ue.push({event:Bn,listeners:ln}),Bn.data=$e)),JH(ue,s,Ut,m,ne)}OR(ue,u)})}function Mv(s,u,m){return{instance:s,listener:u,currentTarget:m}}function M_(s,u){for(var m=u+"Capture",x=[];s!==null;){var C=s,D=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||D===null||(C=jn(s,m),C!=null&&x.unshift(Mv(s,C,D)),C=jn(s,u),C!=null&&x.push(Mv(s,C,D))),s.tag===3)return x;s=s.return}return[]}function wm(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function DR(s,u,m,x,C){for(var D=u._reactName,W=[];m!==null&&m!==x;){var et=m,ht=et.alternate,Ut=et.stateNode;if(et=et.tag,ht!==null&&ht===x)break;et!==5&&et!==26&&et!==27||Ut===null||(ht=Ut,C?(Ut=jn(m,D),Ut!=null&&W.unshift(Mv(m,Ut,ht))):C||(Ut=jn(m,D),Ut!=null&&W.push(Mv(m,Ut,ht)))),m=m.return}W.length!==0&&s.push({event:u,listeners:W})}var ik=/\r\n?/g,rk=/\u0000|\uFFFD/g;function LR(s){return(typeof s=="string"?s:""+s).replace(ik,`
`).replace(rk,"")}function NR(s,u){return u=LR(u),LR(s)===u}function E_(){}function Mi(s,u,m,x,C,D){switch(m){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||Ci(s,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&Ci(s,""+x);break;case"className":Ne(s,"class",x);break;case"tabIndex":Ne(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ne(s,m,x);break;case"style":eo(s,x,D);break;case"data":if(u!=="object"){Ne(s,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Bl(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(m==="formAction"?(u!=="input"&&Mi(s,u,"name",C.name,C,null),Mi(s,u,"formEncType",C.formEncType,C,null),Mi(s,u,"formMethod",C.formMethod,C,null),Mi(s,u,"formTarget",C.formTarget,C,null)):(Mi(s,u,"encType",C.encType,C,null),Mi(s,u,"method",C.method,C,null),Mi(s,u,"target",C.target,C,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Bl(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=E_);break;case"onScroll":x!=null&&Fn("scroll",s);break;case"onScrollEnd":x!=null&&Fn("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(C.children!=null)throw Error(i(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Bl(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":Fn("beforetoggle",s),Fn("toggle",s),Se(s,"popover",x);break;case"xlinkActuate":Te(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Te(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Te(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Te(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Te(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Te(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Te(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Te(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Te(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Se(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Mc.get(m)||m,Se(s,m,x))}}function uM(s,u,m,x,C,D){switch(m){case"style":eo(s,x,D);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(C.children!=null)throw Error(i(60));s.innerHTML=m}}break;case"children":typeof x=="string"?Ci(s,x):(typeof x=="number"||typeof x=="bigint")&&Ci(s,""+x);break;case"onScroll":x!=null&&Fn("scroll",s);break;case"onScrollEnd":x!=null&&Fn("scrollend",s);break;case"onClick":x!=null&&(s.onclick=E_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wu.hasOwnProperty(m))t:{if(m[0]==="o"&&m[1]==="n"&&(C=m.endsWith("Capture"),u=m.slice(2,C?m.length-7:void 0),D=s[vi]||null,D=D!=null?D[m]:null,typeof D=="function"&&s.removeEventListener(u,D,C),typeof x=="function")){typeof D!="function"&&D!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(u,x,C);break t}m in s?s[m]=x:x===!0?s.setAttribute(m,""):Se(s,m,x)}}}function La(s,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fn("error",s),Fn("load",s);var x=!1,C=!1,D;for(D in m)if(m.hasOwnProperty(D)){var W=m[D];if(W!=null)switch(D){case"src":x=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Mi(s,u,D,W,m,null)}}C&&Mi(s,u,"srcSet",m.srcSet,m,null),x&&Mi(s,u,"src",m.src,m,null);return;case"input":Fn("invalid",s);var et=D=W=C=null,ht=null,Ut=null;for(x in m)if(m.hasOwnProperty(x)){var ne=m[x];if(ne!=null)switch(x){case"name":C=ne;break;case"type":W=ne;break;case"checked":ht=ne;break;case"defaultChecked":Ut=ne;break;case"value":D=ne;break;case"defaultValue":et=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,u));break;default:Mi(s,u,x,ne,m,null)}}Nr(s,D,et,ht,Ut,W,C,!1),Sn(s);return;case"select":Fn("invalid",s),x=W=D=null;for(C in m)if(m.hasOwnProperty(C)&&(et=m[C],et!=null))switch(C){case"value":D=et;break;case"defaultValue":W=et;break;case"multiple":x=et;default:Mi(s,u,C,et,m,null)}u=D,m=W,s.multiple=!!x,u!=null?Kn(s,!!x,u,!1):m!=null&&Kn(s,!!x,m,!0);return;case"textarea":Fn("invalid",s),D=C=x=null;for(W in m)if(m.hasOwnProperty(W)&&(et=m[W],et!=null))switch(W){case"value":x=et;break;case"defaultValue":C=et;break;case"children":D=et;break;case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(91));break;default:Mi(s,u,W,et,m,null)}Ma(s,x,C,D),Sn(s);return;case"option":for(ht in m)if(m.hasOwnProperty(ht)&&(x=m[ht],x!=null))switch(ht){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Mi(s,u,ht,x,m,null)}return;case"dialog":Fn("beforetoggle",s),Fn("toggle",s),Fn("cancel",s),Fn("close",s);break;case"iframe":case"object":Fn("load",s);break;case"video":case"audio":for(x=0;x<Sv.length;x++)Fn(Sv[x],s);break;case"image":Fn("error",s),Fn("load",s);break;case"details":Fn("toggle",s);break;case"embed":case"source":case"link":Fn("error",s),Fn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ut in m)if(m.hasOwnProperty(Ut)&&(x=m[Ut],x!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Mi(s,u,Ut,x,m,null)}return;default:if(Cu(u)){for(ne in m)m.hasOwnProperty(ne)&&(x=m[ne],x!==void 0&&uM(s,u,ne,x,m,void 0));return}}for(et in m)m.hasOwnProperty(et)&&(x=m[et],x!=null&&Mi(s,u,et,x,m,null))}function ak(s,u,m,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,D=null,W=null,et=null,ht=null,Ut=null,ne=null;for(Vt in m){var ue=m[Vt];if(m.hasOwnProperty(Vt)&&ue!=null)switch(Vt){case"checked":break;case"value":break;case"defaultValue":ht=ue;default:x.hasOwnProperty(Vt)||Mi(s,u,Vt,null,x,ue)}}for(var Ft in x){var Vt=x[Ft];if(ue=m[Ft],x.hasOwnProperty(Ft)&&(Vt!=null||ue!=null))switch(Ft){case"type":D=Vt;break;case"name":C=Vt;break;case"checked":Ut=Vt;break;case"defaultChecked":ne=Vt;break;case"value":W=Vt;break;case"defaultValue":et=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(i(137,u));break;default:Vt!==ue&&Mi(s,u,Ft,Vt,x,ue)}}Tn(s,W,et,ht,Ut,ne,D,C);return;case"select":Vt=W=et=Ft=null;for(D in m)if(ht=m[D],m.hasOwnProperty(D)&&ht!=null)switch(D){case"value":break;case"multiple":Vt=ht;default:x.hasOwnProperty(D)||Mi(s,u,D,null,x,ht)}for(C in x)if(D=x[C],ht=m[C],x.hasOwnProperty(C)&&(D!=null||ht!=null))switch(C){case"value":Ft=D;break;case"defaultValue":et=D;break;case"multiple":W=D;default:D!==ht&&Mi(s,u,C,D,x,ht)}u=et,m=W,x=Vt,Ft!=null?Kn(s,!!m,Ft,!1):!!x!=!!m&&(u!=null?Kn(s,!!m,u,!0):Kn(s,!!m,m?[]:"",!1));return;case"textarea":Vt=Ft=null;for(et in m)if(C=m[et],m.hasOwnProperty(et)&&C!=null&&!x.hasOwnProperty(et))switch(et){case"value":break;case"children":break;default:Mi(s,u,et,null,x,C)}for(W in x)if(C=x[W],D=m[W],x.hasOwnProperty(W)&&(C!=null||D!=null))switch(W){case"value":Ft=C;break;case"defaultValue":Vt=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==D&&Mi(s,u,W,C,x,D)}Nn(s,Ft,Vt);return;case"option":for(var pn in m)if(Ft=m[pn],m.hasOwnProperty(pn)&&Ft!=null&&!x.hasOwnProperty(pn))switch(pn){case"selected":s.selected=!1;break;default:Mi(s,u,pn,null,x,Ft)}for(ht in x)if(Ft=x[ht],Vt=m[ht],x.hasOwnProperty(ht)&&Ft!==Vt&&(Ft!=null||Vt!=null))switch(ht){case"selected":s.selected=Ft&&typeof Ft!="function"&&typeof Ft!="symbol";break;default:Mi(s,u,ht,Ft,x,Vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var an in m)Ft=m[an],m.hasOwnProperty(an)&&Ft!=null&&!x.hasOwnProperty(an)&&Mi(s,u,an,null,x,Ft);for(Ut in x)if(Ft=x[Ut],Vt=m[Ut],x.hasOwnProperty(Ut)&&Ft!==Vt&&(Ft!=null||Vt!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(i(137,u));break;default:Mi(s,u,Ut,Ft,x,Vt)}return;default:if(Cu(u)){for(var Ei in m)Ft=m[Ei],m.hasOwnProperty(Ei)&&Ft!==void 0&&!x.hasOwnProperty(Ei)&&uM(s,u,Ei,void 0,x,Ft);for(ne in x)Ft=x[ne],Vt=m[ne],!x.hasOwnProperty(ne)||Ft===Vt||Ft===void 0&&Vt===void 0||uM(s,u,ne,Ft,x,Vt);return}}for(var wt in m)Ft=m[wt],m.hasOwnProperty(wt)&&Ft!=null&&!x.hasOwnProperty(wt)&&Mi(s,u,wt,null,x,Ft);for(ue in x)Ft=x[ue],Vt=m[ue],!x.hasOwnProperty(ue)||Ft===Vt||Ft==null&&Vt==null||Mi(s,u,ue,Ft,x,Vt)}var cM=null,fM=null;function T_(s){return s.nodeType===9?s:s.ownerDocument}function UR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zR(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function hM(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dM=null;function sk(){var s=window.event;return s&&s.type==="popstate"?s===dM?!1:(dM=s,!0):(dM=null,!1)}var IR=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,BR=typeof Promise=="function"?Promise:void 0,lk=typeof queueMicrotask=="function"?queueMicrotask:typeof BR<"u"?function(s){return BR.resolve(null).then(s).catch(uk)}:IR;function uk(s){setTimeout(function(){throw s})}function mh(s){return s==="head"}function FR(s,u){var m=u,x=0,C=0;do{var D=m.nextSibling;if(s.removeChild(m),D&&D.nodeType===8)if(m=D.data,m==="/$"){if(0<x&&8>x){m=x;var W=s.ownerDocument;if(m&1&&Ev(W.documentElement),m&2&&Ev(W.body),m&4)for(m=W.head,Ev(m),W=m.firstChild;W;){var et=W.nextSibling,ht=W.nodeName;W[ea]||ht==="SCRIPT"||ht==="STYLE"||ht==="LINK"&&W.rel.toLowerCase()==="stylesheet"||m.removeChild(W),W=et}}if(C===0){s.removeChild(D),Dv(u);return}C--}else m==="$"||m==="$?"||m==="$!"?C++:x=m.charCodeAt(0)-48;else x=0;m=D}while(m);Dv(u)}function pM(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":pM(m),ri(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function ck(s,u,m,x){for(;s.nodeType===1;){var C=m;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[ea])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(D=s.getAttribute("rel"),D==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(D!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(D=s.getAttribute("src"),(D!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&D&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var D=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===D)return s}else return s;if(s=fu(s.nextSibling),s===null)break}return null}function fk(s,u,m){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=fu(s.nextSibling),s===null))return null;return s}function mM(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function hk(s,u){var m=s.ownerDocument;if(s.data!=="$?"||m.readyState==="complete")u();else{var x=function(){u(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function fu(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return s}var gM=null;function HR(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return s;u--}else m==="/$"&&u++}s=s.previousSibling}return null}function kR(s,u,m){switch(u=T_(m),s){case"html":if(s=u.documentElement,!s)throw Error(i(452));return s;case"head":if(s=u.head,!s)throw Error(i(453));return s;case"body":if(s=u.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ev(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);ri(s)}var yl=new Map,jR=new Set;function w_(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var tf=it.d;it.d={f:dk,r:pk,D:mk,C:gk,L:vk,m:yk,X:xk,S:_k,M:bk};function dk(){var s=tf.f(),u=gl();return s||u}function pk(s){var u=us(s);u!==null&&u.tag===5&&u.type==="form"?a_(u):tf.r(s)}var Am=typeof document>"u"?null:document;function VR(s,u,m){var x=Am;if(x&&typeof u=="string"&&u){var C=Li(u);C='link[rel="'+s+'"][href="'+C+'"]',typeof m=="string"&&(C+='[crossorigin="'+m+'"]'),jR.has(C)||(jR.add(C),s={rel:s,crossOrigin:m,href:u},x.querySelector(C)===null&&(u=x.createElement("link"),La(u,"link",s),ki(u),x.head.appendChild(u)))}}function mk(s){tf.D(s),VR("dns-prefetch",s,null)}function gk(s,u){tf.C(s,u),VR("preconnect",s,u)}function vk(s,u,m){tf.L(s,u,m);var x=Am;if(x&&s&&u){var C='link[rel="preload"][as="'+Li(u)+'"]';u==="image"&&m&&m.imageSrcSet?(C+='[imagesrcset="'+Li(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(C+='[imagesizes="'+Li(m.imageSizes)+'"]')):C+='[href="'+Li(s)+'"]';var D=C;switch(u){case"style":D=Cm(s);break;case"script":D=Rm(s)}yl.has(D)||(s=g({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:s,as:u},m),yl.set(D,s),x.querySelector(C)!==null||u==="style"&&x.querySelector(Tv(D))||u==="script"&&x.querySelector(wv(D))||(u=x.createElement("link"),La(u,"link",s),ki(u),x.head.appendChild(u)))}}function yk(s,u){tf.m(s,u);var m=Am;if(m&&s){var x=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+Li(x)+'"][href="'+Li(s)+'"]',D=C;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Rm(s)}if(!yl.has(D)&&(s=g({rel:"modulepreload",href:s},u),yl.set(D,s),m.querySelector(C)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(wv(D)))return}x=m.createElement("link"),La(x,"link",s),ki(x),m.head.appendChild(x)}}}function _k(s,u,m){tf.S(s,u,m);var x=Am;if(x&&s){var C=Ds(x).hoistableStyles,D=Cm(s);u=u||"default";var W=C.get(D);if(!W){var et={loading:0,preload:null};if(W=x.querySelector(Tv(D)))et.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":u},m),(m=yl.get(D))&&vM(s,m);var ht=W=x.createElement("link");ki(ht),La(ht,"link",s),ht._p=new Promise(function(Ut,ne){ht.onload=Ut,ht.onerror=ne}),ht.addEventListener("load",function(){et.loading|=1}),ht.addEventListener("error",function(){et.loading|=2}),et.loading|=4,A_(W,u,x)}W={type:"stylesheet",instance:W,count:1,state:et},C.set(D,W)}}}function xk(s,u){tf.X(s,u);var m=Am;if(m&&s){var x=Ds(m).hoistableScripts,C=Rm(s),D=x.get(C);D||(D=m.querySelector(wv(C)),D||(s=g({src:s,async:!0},u),(u=yl.get(C))&&yM(s,u),D=m.createElement("script"),ki(D),La(D,"link",s),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},x.set(C,D))}}function bk(s,u){tf.M(s,u);var m=Am;if(m&&s){var x=Ds(m).hoistableScripts,C=Rm(s),D=x.get(C);D||(D=m.querySelector(wv(C)),D||(s=g({src:s,async:!0,type:"module"},u),(u=yl.get(C))&&yM(s,u),D=m.createElement("script"),ki(D),La(D,"link",s),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},x.set(C,D))}}function GR(s,u,m,x){var C=(C=_t.current)?w_(C):null;if(!C)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Cm(m.href),m=Ds(C).hoistableStyles,x=m.get(u),x||(x={type:"style",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=Cm(m.href);var D=Ds(C).hoistableStyles,W=D.get(s);if(W||(C=C.ownerDocument||C,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(s,W),(D=C.querySelector(Tv(s)))&&!D._p&&(W.instance=D,W.state.loading=5),yl.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},yl.set(s,m),D||Sk(C,s,m,W.state))),u&&x===null)throw Error(i(528,""));return W}if(u&&x!==null)throw Error(i(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Rm(m),m=Ds(C).hoistableScripts,x=m.get(u),x||(x={type:"script",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Cm(s){return'href="'+Li(s)+'"'}function Tv(s){return'link[rel="stylesheet"]['+s+"]"}function qR(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function Sk(s,u,m,x){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=s.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),La(u,"link",m),ki(u),s.head.appendChild(u))}function Rm(s){return'[src="'+Li(s)+'"]'}function wv(s){return"script[async]"+s}function WR(s,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var x=s.querySelector('style[data-href~="'+Li(m.href)+'"]');if(x)return u.instance=x,ki(x),x;var C=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),ki(x),La(x,"style",C),A_(x,m.precedence,s),u.instance=x;case"stylesheet":C=Cm(m.href);var D=s.querySelector(Tv(C));if(D)return u.state.loading|=4,u.instance=D,ki(D),D;x=qR(m),(C=yl.get(C))&&vM(x,C),D=(s.ownerDocument||s).createElement("link"),ki(D);var W=D;return W._p=new Promise(function(et,ht){W.onload=et,W.onerror=ht}),La(D,"link",x),u.state.loading|=4,A_(D,m.precedence,s),u.instance=D;case"script":return D=Rm(m.src),(C=s.querySelector(wv(D)))?(u.instance=C,ki(C),C):(x=m,(C=yl.get(D))&&(x=g({},m),yM(x,C)),s=s.ownerDocument||s,C=s.createElement("script"),ki(C),La(C,"link",x),s.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,A_(x,m.precedence,s));return u.instance}function A_(s,u,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=x.length?x[x.length-1]:null,D=C,W=0;W<x.length;W++){var et=x[W];if(et.dataset.precedence===u)D=et;else if(D!==C)break}D?D.parentNode.insertBefore(s,D.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(s,u.firstChild))}function vM(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function yM(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var C_=null;function XR(s,u,m){if(C_===null){var x=new Map,C=C_=new Map;C.set(m,x)}else C=C_,x=C.get(m),x||(x=new Map,C.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),C=0;C<m.length;C++){var D=m[C];if(!(D[ea]||D[Hi]||s==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var W=D.getAttribute(u)||"";W=s+W;var et=x.get(W);et?et.push(D):x.set(W,[D])}}return x}function YR(s,u,m){s=s.ownerDocument||s,s.head.insertBefore(m,u==="title"?s.querySelector("head > title"):null)}function Mk(s,u,m){if(m===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function ZR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Av=null;function Ek(){}function Tk(s,u,m){if(Av===null)throw Error(i(475));var x=Av;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var C=Cm(m.href),D=s.querySelector(Tv(C));if(D){s=D._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(x.count++,x=R_.bind(x),s.then(x,x)),u.state.loading|=4,u.instance=D,ki(D);return}D=s.ownerDocument||s,m=qR(m),(C=yl.get(C))&&vM(m,C),D=D.createElement("link"),ki(D);var W=D;W._p=new Promise(function(et,ht){W.onload=et,W.onerror=ht}),La(D,"link",m),u.instance=D}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(x.count++,u=R_.bind(x),s.addEventListener("load",u),s.addEventListener("error",u))}}function wk(){if(Av===null)throw Error(i(475));var s=Av;return s.stylesheets&&s.count===0&&_M(s,s.stylesheets),0<s.count?function(u){var m=setTimeout(function(){if(s.stylesheets&&_M(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(m)}}:null}function R_(){if(this.count--,this.count===0){if(this.stylesheets)_M(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var O_=null;function _M(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,O_=new Map,u.forEach(Ak,s),O_=null,R_.call(s))}function Ak(s,u){if(!(u.state.loading&4)){var m=O_.get(s);if(m)var x=m.get(null);else{m=new Map,O_.set(s,m);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<C.length;D++){var W=C[D];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(m.set(W.dataset.precedence,W),x=W)}x&&m.set(null,x)}C=u.instance,W=C.getAttribute("data-precedence"),D=m.get(W)||x,D===x&&m.set(null,C),m.set(W,C),this.count++,x=R_.bind(this),C.addEventListener("load",x),C.addEventListener("error",x),D?D.parentNode.insertBefore(C,D.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),u.state.loading|=4}}var Cv={$$typeof:P,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function Ck(s,u,m,x,C,D,W,et){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=he(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=he(0),this.hiddenUpdates=he(null),this.identifierPrefix=x,this.onUncaughtError=C,this.onCaughtError=D,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=et,this.incompleteTransitions=new Map}function KR(s,u,m,x,C,D,W,et,ht,Ut,ne,ue){return s=new Ck(s,u,m,W,et,ht,Ut,ue),u=1,D===!0&&(u|=24),D=la(3,null,null,u),s.current=D,D.stateNode=s,u=Kp(),u.refCount++,s.pooledCache=u,u.refCount++,D.memoizedState={element:x,isDehydrated:m,cache:u},$g(D),s}function QR(s){return s?(s=ho,s):ho}function $R(s,u,m,x,C,D){C=QR(C),x.context===null?x.context=C:x.pendingContext=C,x=al(u),x.payload={element:m},D=D===void 0?null:D,D!==null&&(x.callback=D),m=eu(s,x,u),m!==null&&(Da(m,s,u),zc(m,s,u))}function JR(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<u?m:u}}function xM(s,u){JR(s,u),(s=s.alternate)&&JR(s,u)}function tO(s){if(s.tag===13){var u=fo(s,67108864);u!==null&&Da(u,s,67108864),xM(s,67108864)}}var P_=!0;function Rk(s,u,m,x){var C=X.T;X.T=null;var D=it.p;try{it.p=2,bM(s,u,m,x)}finally{it.p=D,X.T=C}}function Ok(s,u,m,x){var C=X.T;X.T=null;var D=it.p;try{it.p=8,bM(s,u,m,x)}finally{it.p=D,X.T=C}}function bM(s,u,m,x){if(P_){var C=SM(x);if(C===null)lM(s,u,x,D_,m),nO(s,x);else if(Dk(C,s,u,m,x))x.stopPropagation();else if(nO(s,x),u&4&&-1<Pk.indexOf(s)){for(;C!==null;){var D=us(C);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var W=De(D.pendingLanes);if(W!==0){var et=D;for(et.pendingLanes|=2,et.entangledLanes|=2;W;){var ht=1<<31-Me(W);et.entanglements[1]|=ht,W&=~ht}uc(D),(ti&6)===0&&(fa=At()+500,bv(0))}}break;case 13:et=fo(D,2),et!==null&&Da(et,D,2),gl(),xM(D,2)}if(D=SM(x),D===null&&lM(s,u,x,D_,m),D===C)break;C=D}C!==null&&x.stopPropagation()}else lM(s,u,x,null,m)}}function SM(s){return s=Fl(s),MM(s)}var D_=null;function MM(s){if(D_=null,s=ba(s),s!==null){var u=a(s);if(u===null)s=null;else{var m=u.tag;if(m===13){if(s=o(u),s!==null)return s;s=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return D_=s,null}function eO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case qt:return 2;case te:return 8;case Le:case He:return 32;case $:return 268435456;default:return 32}default:return 32}}var EM=!1,gh=null,vh=null,yh=null,Rv=new Map,Ov=new Map,_h=[],Pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nO(s,u){switch(s){case"focusin":case"focusout":gh=null;break;case"dragenter":case"dragleave":vh=null;break;case"mouseover":case"mouseout":yh=null;break;case"pointerover":case"pointerout":Rv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ov.delete(u.pointerId)}}function Pv(s,u,m,x,C,D){return s===null||s.nativeEvent!==D?(s={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:D,targetContainers:[C]},u!==null&&(u=us(u),u!==null&&tO(u)),s):(s.eventSystemFlags|=x,u=s.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),s)}function Dk(s,u,m,x,C){switch(u){case"focusin":return gh=Pv(gh,s,u,m,x,C),!0;case"dragenter":return vh=Pv(vh,s,u,m,x,C),!0;case"mouseover":return yh=Pv(yh,s,u,m,x,C),!0;case"pointerover":var D=C.pointerId;return Rv.set(D,Pv(Rv.get(D)||null,s,u,m,x,C)),!0;case"gotpointercapture":return D=C.pointerId,Ov.set(D,Pv(Ov.get(D)||null,s,u,m,x,C)),!0}return!1}function iO(s){var u=ba(s.target);if(u!==null){var m=a(u);if(m!==null){if(u=m.tag,u===13){if(u=o(m),u!==null){s.blockedOn=u,Fi(s.priority,function(){if(m.tag===13){var x=Xi();x=ke(x);var C=fo(m,x);C!==null&&Da(C,m,x),xM(m,x)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function L_(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var m=SM(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);Ru=x,m.target.dispatchEvent(x),Ru=null}else return u=us(m),u!==null&&tO(u),s.blockedOn=m,!1;u.shift()}return!0}function rO(s,u,m){L_(s)&&m.delete(u)}function Lk(){EM=!1,gh!==null&&L_(gh)&&(gh=null),vh!==null&&L_(vh)&&(vh=null),yh!==null&&L_(yh)&&(yh=null),Rv.forEach(rO),Ov.forEach(rO)}function N_(s,u){s.blockedOn===u&&(s.blockedOn=null,EM||(EM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lk)))}var U_=null;function aO(s){U_!==s&&(U_=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){U_===s&&(U_=null);for(var u=0;u<s.length;u+=3){var m=s[u],x=s[u+1],C=s[u+2];if(typeof x!="function"){if(MM(x||m)===null)continue;break}var D=us(m);D!==null&&(s.splice(u,3),u-=3,pv(D,{pending:!0,data:C,method:m.method,action:x},x,C))}}))}function Dv(s){function u(ht){return N_(ht,s)}gh!==null&&N_(gh,s),vh!==null&&N_(vh,s),yh!==null&&N_(yh,s),Rv.forEach(u),Ov.forEach(u);for(var m=0;m<_h.length;m++){var x=_h[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<_h.length&&(m=_h[0],m.blockedOn===null);)iO(m),m.blockedOn===null&&_h.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var C=m[x],D=m[x+1],W=C[vi]||null;if(typeof D=="function")W||aO(m);else if(W){var et=null;if(D&&D.hasAttribute("formAction")){if(C=D,W=D[vi]||null)et=W.formAction;else if(MM(C)!==null)continue}else et=W.action;typeof et=="function"?m[x+1]=et:(m.splice(x,3),x-=3),aO(m)}}}function TM(s){this._internalRoot=s}z_.prototype.render=TM.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(i(409));var m=u.current,x=Xi();$R(m,x,s,u,null,null)},z_.prototype.unmount=TM.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;$R(s.current,2,null,s,null,null),gl(),u[Ha]=null}};function z_(s){this._internalRoot=s}z_.prototype.unstable_scheduleHydration=function(s){if(s){var u=gn();s={blockedOn:null,target:s,priority:u};for(var m=0;m<_h.length&&u!==0&&u<_h[m].priority;m++);_h.splice(m,0,s),m===0&&iO(s)}};var sO=t.version;if(sO!=="19.1.1")throw Error(i(527,sO,"19.1.1"));it.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(u),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var Nk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I_.isDisabled&&I_.supportsFiber)try{Nt=I_.inject(Nk),$t=I_}catch{}}return Nv.createRoot=function(s,u){if(!r(s))throw Error(i(299));var m=!1,x="",C=Ed,D=dm,W=v_,et=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(et=u.unstable_transitionCallbacks)),u=KR(s,1,!1,null,null,m,x,C,D,W,et,null),s[Ha]=u.current,oM(s),new TM(u)},Nv.hydrateRoot=function(s,u,m){if(!r(s))throw Error(i(299));var x=!1,C="",D=Ed,W=dm,et=v_,ht=null,Ut=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(D=m.onUncaughtError),m.onCaughtError!==void 0&&(W=m.onCaughtError),m.onRecoverableError!==void 0&&(et=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ht=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ut=m.formState)),u=KR(s,1,!0,u,m??null,x,C,D,W,et,ht,Ut),u.context=QR(null),m=u.current,x=Xi(),x=ke(x),C=al(x),C.callback=null,eu(m,C,x),m=x,u.current.lanes=m,_e(u,m),uc(u),s[Ha]=u.current,oM(s),new z_(u)},Nv.version="19.1.1",Nv}var gO;function qk(){if(gO)return CM.exports;gO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),CM.exports=Gk(),CM.exports}var Wk=qk();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const t0="180",Xd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Yd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},MU=0,_w=1,EU=2,Xk=3,TU=0,N1=1,uy=2,gu=3,Sf=0,as=1,Tl=2,mc=0,cp=1,Bh=2,xw=3,bw=4,wU=5,Ph=100,AU=101,CU=102,RU=103,OU=104,PU=200,DU=201,LU=202,NU=203,sb=204,ob=205,UU=206,zU=207,IU=208,BU=209,FU=210,HU=211,kU=212,jU=213,VU=214,lb=0,ub=1,cb=2,vp=3,fb=4,hb=5,db=6,pb=7,e0=0,GU=1,qU=2,bu=0,WU=1,XU=2,YU=3,U1=4,ZU=5,KU=6,QU=7,Sw="attached",$U="detached",z1=300,Mf=301,Fh=302,Ey=303,Ty=304,Pg=306,yp=1e3,ga=1001,wy=1002,Ia=1003,zA=1004,Yk=1004,eg=1005,Zk=1005,cr=1006,cy=1007,Kk=1007,Qs=1008,Qk=1008,Cl=1009,IA=1010,BA=1011,hg=1012,I1=1013,Ef=1014,$s=1015,gc=1016,B1=1017,F1=1018,dg=1020,FA=35902,HA=35899,kA=1021,jA=1022,is=1023,pg=1026,mg=1027,H1=1028,n0=1029,VA=1030,k1=1031,$k=1032,j1=1033,fy=33776,hy=33777,dy=33778,py=33779,mb=35840,gb=35841,vb=35842,yb=35843,_b=36196,xb=37492,bb=37496,Sb=37808,Mb=37809,Eb=37810,Tb=37811,wb=37812,Ab=37813,Cb=37814,Rb=37815,Ob=37816,Pb=37817,Db=37818,Lb=37819,Nb=37820,Ub=37821,zb=36492,Ib=36494,Bb=36495,Fb=36283,Hb=36284,kb=36285,jb=36286,JU=2200,tz=2201,ez=2202,Ay=2300,Vb=2301,Qx=2302,np=2400,ip=2401,Cy=2402,V1=2500,GA=2501,Jk=0,tj=1,ej=2,nz=3200,iz=3201,nj=3202,ij=3203,jh=0,rz=1,cf="",za="srgb",Hh="srgb-linear",Ry="linear",mi="srgb",rj=0,Zd=7680,aj=7681,sj=7682,oj=7683,lj=34055,uj=34056,cj=5386,fj=512,hj=513,dj=514,pj=515,mj=516,gj=517,vj=518,Mw=519,az=512,sz=513,oz=514,qA=515,lz=516,uz=517,cz=518,fz=519,Oy=35044,yj=35048,_j=35040,xj=35045,bj=35049,Sj=35041,Mj=35046,Ej=35050,Tj=35042,wj="100",Ew="300 es",No=2e3,gg=2001,Aj={COMPUTE:"compute",RENDER:"render"},Cj={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Rj={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let bc=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const r=i[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,t);t.target=null}}};const Qa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let vO=1234567;const fp=Math.PI/180,vg=180/Math.PI;function Uo(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Qa[n&255]+Qa[n>>8&255]+Qa[n>>16&255]+Qa[n>>24&255]+"-"+Qa[t&255]+Qa[t>>8&255]+"-"+Qa[t>>16&15|64]+Qa[t>>24&255]+"-"+Qa[e&63|128]+Qa[e>>8&255]+"-"+Qa[e>>16&255]+Qa[e>>24&255]+Qa[i&255]+Qa[i>>8&255]+Qa[i>>16&255]+Qa[i>>24&255]).toLowerCase()}function dn(n,t,e){return Math.max(t,Math.min(e,n))}function WA(n,t){return(n%t+t)%t}function Oj(n,t,e,i,r){return i+(n-t)*(r-i)/(e-t)}function Pj(n,t,e){return n!==t?(e-n)/(t-n):0}function my(n,t,e){return(1-e)*n+e*t}function Dj(n,t,e,i){return my(n,t,1-Math.exp(-e*i))}function Lj(n,t=1){return t-Math.abs(WA(n,t*2)-t)}function Nj(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function Uj(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function zj(n,t){return n+Math.floor(Math.random()*(t-n+1))}function Ij(n,t){return n+Math.random()*(t-n)}function Bj(n){return n*(.5-Math.random())}function Fj(n){n!==void 0&&(vO=n);let t=vO+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Hj(n){return n*fp}function kj(n){return n*vg}function jj(n){return(n&n-1)===0&&n!==0}function Vj(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Gj(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function qj(n,t,e,i,r){const a=Math.cos,o=Math.sin,l=a(e/2),h=o(e/2),d=a((t+i)/2),g=o((t+i)/2),v=a((t-i)/2),_=o((t-i)/2),b=a((i-t)/2),M=o((i-t)/2);switch(r){case"XYX":n.set(l*g,h*v,h*_,l*d);break;case"YZY":n.set(h*_,l*g,h*v,l*d);break;case"ZXZ":n.set(h*v,h*_,l*g,l*d);break;case"XZX":n.set(l*g,h*M,h*b,l*d);break;case"YXY":n.set(h*b,l*g,h*M,l*d);break;case"ZYZ":n.set(h*M,h*b,l*g,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Os(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function On(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const hz={DEG2RAD:fp,RAD2DEG:vg,generateUUID:Uo,clamp:dn,euclideanModulo:WA,mapLinear:Oj,inverseLerp:Pj,lerp:my,damp:Dj,pingpong:Lj,smoothstep:Nj,smootherstep:Uj,randInt:zj,randFloat:Ij,randFloatSpread:Bj,seededRandom:Fj,degToRad:Hj,radToDeg:kj,isPowerOfTwo:jj,ceilPowerOfTwo:Vj,floorPowerOfTwo:Gj,setQuaternionFromProperEuler:qj,normalize:On,denormalize:Os};class Jt{constructor(t=0,e=0){Jt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=dn(this.x,t.x,e.x),this.y=dn(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=dn(this.x,t,e),this.y=dn(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(dn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),a=this.x-t.x,o=this.y-t.y;return this.x=a*i-o*r+t.x,this.y=a*r+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class va{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,a,o,l){let h=i[r+0],d=i[r+1],g=i[r+2],v=i[r+3];const _=a[o+0],b=a[o+1],M=a[o+2],A=a[o+3];if(l===0){t[e+0]=h,t[e+1]=d,t[e+2]=g,t[e+3]=v;return}if(l===1){t[e+0]=_,t[e+1]=b,t[e+2]=M,t[e+3]=A;return}if(v!==A||h!==_||d!==b||g!==M){let T=1-l;const E=h*_+d*b+g*M+v*A,O=E>=0?1:-1,P=1-E*E;if(P>Number.EPSILON){const F=Math.sqrt(P),I=Math.atan2(F,E*O);T=Math.sin(T*I)/F,l=Math.sin(l*I)/F}const z=l*O;if(h=h*T+_*z,d=d*T+b*z,g=g*T+M*z,v=v*T+A*z,T===1-l){const F=1/Math.sqrt(h*h+d*d+g*g+v*v);h*=F,d*=F,g*=F,v*=F}}t[e]=h,t[e+1]=d,t[e+2]=g,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,r,a,o){const l=i[r],h=i[r+1],d=i[r+2],g=i[r+3],v=a[o],_=a[o+1],b=a[o+2],M=a[o+3];return t[e]=l*M+g*v+h*b-d*_,t[e+1]=h*M+g*_+d*v-l*b,t[e+2]=d*M+g*b+l*_-h*v,t[e+3]=g*M-l*v-h*_-d*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,r=t._y,a=t._z,o=t._order,l=Math.cos,h=Math.sin,d=l(i/2),g=l(r/2),v=l(a/2),_=h(i/2),b=h(r/2),M=h(a/2);switch(o){case"XYZ":this._x=_*g*v+d*b*M,this._y=d*b*v-_*g*M,this._z=d*g*M+_*b*v,this._w=d*g*v-_*b*M;break;case"YXZ":this._x=_*g*v+d*b*M,this._y=d*b*v-_*g*M,this._z=d*g*M-_*b*v,this._w=d*g*v+_*b*M;break;case"ZXY":this._x=_*g*v-d*b*M,this._y=d*b*v+_*g*M,this._z=d*g*M+_*b*v,this._w=d*g*v-_*b*M;break;case"ZYX":this._x=_*g*v-d*b*M,this._y=d*b*v+_*g*M,this._z=d*g*M-_*b*v,this._w=d*g*v+_*b*M;break;case"YZX":this._x=_*g*v+d*b*M,this._y=d*b*v+_*g*M,this._z=d*g*M-_*b*v,this._w=d*g*v-_*b*M;break;case"XZY":this._x=_*g*v-d*b*M,this._y=d*b*v-_*g*M,this._z=d*g*M+_*b*v,this._w=d*g*v+_*b*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],a=e[8],o=e[1],l=e[5],h=e[9],d=e[2],g=e[6],v=e[10],_=i+l+v;if(_>0){const b=.5/Math.sqrt(_+1);this._w=.25/b,this._x=(g-h)*b,this._y=(a-d)*b,this._z=(o-r)*b}else if(i>l&&i>v){const b=2*Math.sqrt(1+i-l-v);this._w=(g-h)/b,this._x=.25*b,this._y=(r+o)/b,this._z=(a+d)/b}else if(l>v){const b=2*Math.sqrt(1+l-i-v);this._w=(a-d)/b,this._x=(r+o)/b,this._y=.25*b,this._z=(h+g)/b}else{const b=2*Math.sqrt(1+v-i-l);this._w=(o-r)/b,this._x=(a+d)/b,this._y=(h+g)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<1e-8?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(dn(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,a=t._z,o=t._w,l=e._x,h=e._y,d=e._z,g=e._w;return this._x=i*g+o*l+r*d-a*h,this._y=r*g+o*h+a*l-i*d,this._z=a*g+o*d+i*h-r*l,this._w=o*g-i*l-r*h-a*d,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,r=this._y,a=this._z,o=this._w;let l=o*t._w+i*t._x+r*t._y+a*t._z;if(l<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,l=-l):this.copy(t),l>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const h=1-l*l;if(h<=Number.EPSILON){const b=1-e;return this._w=b*o+e*this._w,this._x=b*i+e*this._x,this._y=b*r+e*this._y,this._z=b*a+e*this._z,this.normalize(),this}const d=Math.sqrt(h),g=Math.atan2(d,l),v=Math.sin((1-e)*g)/d,_=Math.sin(e*g)/d;return this._w=o*v+this._w*_,this._x=i*v+this._x*_,this._y=r*v+this._y*_,this._z=a*v+this._z*_,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(t),r*Math.cos(t),a*Math.sin(e),a*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class at{constructor(t=0,e=0,i=0){at.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(yO.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(yO.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[3]*i+a[6]*r,this.y=a[1]*e+a[4]*i+a[7]*r,this.z=a[2]*e+a[5]*i+a[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,a=t.elements,o=1/(a[3]*e+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*e+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*e+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*e+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,a=t.x,o=t.y,l=t.z,h=t.w,d=2*(o*r-l*i),g=2*(l*e-a*r),v=2*(a*i-o*e);return this.x=e+h*d+o*v-l*g,this.y=i+h*g+l*d-a*v,this.z=r+h*v+a*g-o*d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r,this.y=a[1]*e+a[5]*i+a[9]*r,this.z=a[2]*e+a[6]*i+a[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=dn(this.x,t.x,e.x),this.y=dn(this.y,t.y,e.y),this.z=dn(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=dn(this.x,t,e),this.y=dn(this.y,t,e),this.z=dn(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,a=t.z,o=e.x,l=e.y,h=e.z;return this.x=r*h-a*l,this.y=a*o-i*h,this.z=i*l-r*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return DM.copy(this).projectOnVector(t),this.sub(DM)}reflect(t){return this.sub(DM.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(dn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const DM=new at,yO=new va;class Cn{constructor(t,e,i,r,a,o,l,h,d){Cn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,r,a,o,l,h,d)}set(t,e,i,r,a,o,l,h,d){const g=this.elements;return g[0]=t,g[1]=r,g[2]=l,g[3]=e,g[4]=a,g[5]=h,g[6]=i,g[7]=o,g[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,a=this.elements,o=i[0],l=i[3],h=i[6],d=i[1],g=i[4],v=i[7],_=i[2],b=i[5],M=i[8],A=r[0],T=r[3],E=r[6],O=r[1],P=r[4],z=r[7],F=r[2],I=r[5],q=r[8];return a[0]=o*A+l*O+h*F,a[3]=o*T+l*P+h*I,a[6]=o*E+l*z+h*q,a[1]=d*A+g*O+v*F,a[4]=d*T+g*P+v*I,a[7]=d*E+g*z+v*q,a[2]=_*A+b*O+M*F,a[5]=_*T+b*P+M*I,a[8]=_*E+b*z+M*q,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],h=t[6],d=t[7],g=t[8];return e*o*g-e*l*d-i*a*g+i*l*h+r*a*d-r*o*h}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],h=t[6],d=t[7],g=t[8],v=g*o-l*d,_=l*h-g*a,b=d*a-o*h,M=e*v+i*_+r*b;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/M;return t[0]=v*A,t[1]=(r*d-g*i)*A,t[2]=(l*i-r*o)*A,t[3]=_*A,t[4]=(g*e-r*h)*A,t[5]=(r*a-l*e)*A,t[6]=b*A,t[7]=(i*h-d*e)*A,t[8]=(o*e-i*a)*A,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,a,o,l){const h=Math.cos(a),d=Math.sin(a);return this.set(i*h,i*d,-i*(h*o+d*l)+o+t,-r*d,r*h,-r*(-d*o+h*l)+l+e,0,0,1),this}scale(t,e){return this.premultiply(LM.makeScale(t,e)),this}rotate(t){return this.premultiply(LM.makeRotation(-t)),this}translate(t,e){return this.premultiply(LM.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const LM=new Cn;function dz(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const Wj={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ng(n,t){return new Wj[n](t)}function Py(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function pz(){const n=Py("canvas");return n.style.display="block",n}const _O={};function Dy(n){n in _O||(_O[n]=!0,console.warn(n))}function Xj(n,t,e){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,e);break;default:i()}}setTimeout(a,e)})}const xO=new Cn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),bO=new Cn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Yj(){const n={enabled:!0,workingColorSpace:Hh,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===mi&&(r.r=yf(r.r),r.g=yf(r.g),r.b=yf(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===mi&&(r.r=lg(r.r),r.g=lg(r.g),r.b=lg(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===cf?Ry:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return Dy("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return Dy("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Hh]:{primaries:t,whitePoint:i,transfer:Ry,toXYZ:xO,fromXYZ:bO,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:za},outputColorSpaceConfig:{drawingBufferColorSpace:za}},[za]:{primaries:t,whitePoint:i,transfer:mi,toXYZ:xO,fromXYZ:bO,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:za}}}),n}const qn=Yj();function yf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function lg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Om;class mz{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{Om===void 0&&(Om=Py("canvas")),Om.width=t.width,Om.height=t.height;const r=Om.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),i=Om}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=Py("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=yf(a[o]/255)*255;return i.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(yf(e[i]/255)*255):e[i]=yf(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Zj=0;class Uh{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Zj++}),this.uuid=Uo(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight,0):e instanceof VideoFrame?t.set(e.displayHeight,e.displayWidth,0):e!==null?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,l=r.length;o<l;o++)r[o].isDataTexture?a.push(NM(r[o].image)):a.push(NM(r[o]))}else a=NM(r);i.url=a}return e||(t.images[this.uuid]=i),i}}function NM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?mz.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Kj=0;const UM=new at;class $i extends bc{constructor(t=$i.DEFAULT_IMAGE,e=$i.DEFAULT_MAPPING,i=ga,r=ga,a=cr,o=Qs,l=is,h=Cl,d=$i.DEFAULT_ANISOTROPY,g=cf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Kj++}),this.uuid=Uo(),this.name="",this.source=new Uh(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=h,this.offset=new Jt(0,0),this.repeat=new Jt(1,1),this.center=new Jt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(UM).x}get height(){return this.source.getSize(UM).y}get depth(){return this.source.getSize(UM).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${e}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==z1)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case yp:t.x=t.x-Math.floor(t.x);break;case ga:t.x=t.x<0?0:1;break;case wy:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case yp:t.y=t.y-Math.floor(t.y);break;case ga:t.y=t.y<0?0:1;break;case wy:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}$i.DEFAULT_IMAGE=null;$i.DEFAULT_MAPPING=z1;$i.DEFAULT_ANISOTROPY=1;class Jn{constructor(t=0,e=0,i=0,r=1){Jn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,a=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*e+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*e+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*e+o[7]*i+o[11]*r+o[15]*a,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,a;const h=t.elements,d=h[0],g=h[4],v=h[8],_=h[1],b=h[5],M=h[9],A=h[2],T=h[6],E=h[10];if(Math.abs(g-_)<.01&&Math.abs(v-A)<.01&&Math.abs(M-T)<.01){if(Math.abs(g+_)<.1&&Math.abs(v+A)<.1&&Math.abs(M+T)<.1&&Math.abs(d+b+E-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const P=(d+1)/2,z=(b+1)/2,F=(E+1)/2,I=(g+_)/4,q=(v+A)/4,Y=(M+T)/4;return P>z&&P>F?P<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(P),r=I/i,a=q/i):z>F?z<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(z),i=I/r,a=Y/r):F<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(F),i=q/a,r=Y/a),this.set(i,r,a,e),this}let O=Math.sqrt((T-M)*(T-M)+(v-A)*(v-A)+(_-g)*(_-g));return Math.abs(O)<.001&&(O=1),this.x=(T-M)/O,this.y=(v-A)/O,this.z=(_-g)/O,this.w=Math.acos((d+b+E-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=dn(this.x,t.x,e.x),this.y=dn(this.y,t.y,e.y),this.z=dn(this.z,t.z,e.z),this.w=dn(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=dn(this.x,t,e),this.y=dn(this.y,t,e),this.z=dn(this.z,t,e),this.w=dn(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class XA extends bc{constructor(t=1,e=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth,this.scissor=new Jn(0,0,t,e),this.scissorTest=!1,this.viewport=new Jn(0,0,t,e);const r={width:t,height:e,depth:i.depth},a=new $i(r);this.textures=[];const o=i.count;for(let l=0;l<o;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(t={}){const e={minFilter:cr,generateMipmaps:!1,flipY:!1,internalFormat:null};t.mapping!==void 0&&(e.mapping=t.mapping),t.wrapS!==void 0&&(e.wrapS=t.wrapS),t.wrapT!==void 0&&(e.wrapT=t.wrapT),t.wrapR!==void 0&&(e.wrapR=t.wrapR),t.magFilter!==void 0&&(e.magFilter=t.magFilter),t.minFilter!==void 0&&(e.minFilter=t.minFilter),t.format!==void 0&&(e.format=t.format),t.type!==void 0&&(e.type=t.type),t.anisotropy!==void 0&&(e.anisotropy=t.anisotropy),t.colorSpace!==void 0&&(e.colorSpace=t.colorSpace),t.flipY!==void 0&&(e.flipY=t.flipY),t.generateMipmaps!==void 0&&(e.generateMipmaps=t.generateMipmaps),t.internalFormat!==void 0&&(e.internalFormat=t.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(e)}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const r=Object.assign({},t.textures[e].image);this.textures[e].source=new Uh(r)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ba extends XA{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class G1 extends $i{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Ia,this.minFilter=Ia,this.wrapR=ga,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Qj extends Ba{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new G1(null,t,e,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class q1 extends $i{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Ia,this.minFilter=Ia,this.wrapR=ga,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $j extends Ba{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new q1(null,t,e,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class ss{constructor(t=new at(1/0,1/0,1/0),e=new at(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(hu.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(hu.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=hu.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const a=i.getAttribute("position");if(e===!0&&a!==void 0&&t.isInstancedMesh!==!0)for(let o=0,l=a.count;o<l;o++)t.isMesh===!0?t.getVertexPosition(o,hu):hu.fromBufferAttribute(a,o),hu.applyMatrix4(t.matrixWorld),this.expandByPoint(hu);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),B_.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),B_.copy(i.boundingBox)),B_.applyMatrix4(t.matrixWorld),this.union(B_)}const r=t.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,hu),hu.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Uv),F_.subVectors(this.max,Uv),Pm.subVectors(t.a,Uv),Dm.subVectors(t.b,Uv),Lm.subVectors(t.c,Uv),bh.subVectors(Dm,Pm),Sh.subVectors(Lm,Dm),Dd.subVectors(Pm,Lm);let e=[0,-bh.z,bh.y,0,-Sh.z,Sh.y,0,-Dd.z,Dd.y,bh.z,0,-bh.x,Sh.z,0,-Sh.x,Dd.z,0,-Dd.x,-bh.y,bh.x,0,-Sh.y,Sh.x,0,-Dd.y,Dd.x,0];return!zM(e,Pm,Dm,Lm,F_)||(e=[1,0,0,0,1,0,0,0,1],!zM(e,Pm,Dm,Lm,F_))?!1:(H_.crossVectors(bh,Sh),e=[H_.x,H_.y,H_.z],zM(e,Pm,Dm,Lm,F_))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,hu).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(hu).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(ef[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ef[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ef[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ef[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ef[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ef[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ef[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ef[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ef),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}const ef=[new at,new at,new at,new at,new at,new at,new at,new at],hu=new at,B_=new ss,Pm=new at,Dm=new at,Lm=new at,bh=new at,Sh=new at,Dd=new at,Uv=new at,F_=new at,H_=new at,Ld=new at;function zM(n,t,e,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){Ld.fromArray(n,a);const l=r.x*Math.abs(Ld.x)+r.y*Math.abs(Ld.y)+r.z*Math.abs(Ld.z),h=t.dot(Ld),d=e.dot(Ld),g=i.dot(Ld);if(Math.max(-Math.max(h,d,g),Math.min(h,d,g))>l)return!1}return!0}const Jj=new ss,zv=new at,IM=new at;class Fa{constructor(t=new at,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):Jj.setFromPoints(t).getCenter(i);let r=0;for(let a=0,o=t.length;a<o;a++)r=Math.max(r,i.distanceToSquared(t[a]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;zv.subVectors(t,this.center);const e=zv.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=(i-this.radius)*.5;this.center.addScaledVector(zv,r/i),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(IM.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(zv.copy(t.center).add(IM)),this.expandByPoint(zv.copy(t.center).sub(IM))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}const nf=new at,BM=new at,k_=new at,Mh=new at,FM=new at,j_=new at,HM=new at;class Pp{constructor(t=new at,e=new at(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,nf)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=nf.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(nf.copy(this.origin).addScaledVector(this.direction,e),nf.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){BM.copy(t).add(e).multiplyScalar(.5),k_.copy(e).sub(t).normalize(),Mh.copy(this.origin).sub(BM);const a=t.distanceTo(e)*.5,o=-this.direction.dot(k_),l=Mh.dot(this.direction),h=-Mh.dot(k_),d=Mh.lengthSq(),g=Math.abs(1-o*o);let v,_,b,M;if(g>0)if(v=o*h-l,_=o*l-h,M=a*g,v>=0)if(_>=-M)if(_<=M){const A=1/g;v*=A,_*=A,b=v*(v+o*_+2*l)+_*(o*v+_+2*h)+d}else _=a,v=Math.max(0,-(o*_+l)),b=-v*v+_*(_+2*h)+d;else _=-a,v=Math.max(0,-(o*_+l)),b=-v*v+_*(_+2*h)+d;else _<=-M?(v=Math.max(0,-(-o*a+l)),_=v>0?-a:Math.min(Math.max(-a,-h),a),b=-v*v+_*(_+2*h)+d):_<=M?(v=0,_=Math.min(Math.max(-a,-h),a),b=_*(_+2*h)+d):(v=Math.max(0,-(o*a+l)),_=v>0?a:Math.min(Math.max(-a,-h),a),b=-v*v+_*(_+2*h)+d);else _=o>0?-a:a,v=Math.max(0,-(o*_+l)),b=-v*v+_*(_+2*h)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,v),r&&r.copy(BM).addScaledVector(k_,_),b}intersectSphere(t,e){nf.subVectors(t.center,this.origin);const i=nf.dot(this.direction),r=nf.dot(nf)-i*i,a=t.radius*t.radius;if(r>a)return null;const o=Math.sqrt(a-r),l=i-o,h=i+o;return h<0?null:l<0?this.at(h,e):this.at(l,e)}intersectsSphere(t){return t.radius<0?!1:this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,a,o,l,h;const d=1/this.direction.x,g=1/this.direction.y,v=1/this.direction.z,_=this.origin;return d>=0?(i=(t.min.x-_.x)*d,r=(t.max.x-_.x)*d):(i=(t.max.x-_.x)*d,r=(t.min.x-_.x)*d),g>=0?(a=(t.min.y-_.y)*g,o=(t.max.y-_.y)*g):(a=(t.max.y-_.y)*g,o=(t.min.y-_.y)*g),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),v>=0?(l=(t.min.z-_.z)*v,h=(t.max.z-_.z)*v):(l=(t.max.z-_.z)*v,h=(t.min.z-_.z)*v),i>h||l>r)||((l>i||i!==i)&&(i=l),(h<r||r!==r)&&(r=h),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return this.intersectBox(t,nf)!==null}intersectTriangle(t,e,i,r,a){FM.subVectors(e,t),j_.subVectors(i,t),HM.crossVectors(FM,j_);let o=this.direction.dot(HM),l;if(o>0){if(r)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Mh.subVectors(this.origin,t);const h=l*this.direction.dot(j_.crossVectors(Mh,j_));if(h<0)return null;const d=l*this.direction.dot(FM.cross(Mh));if(d<0||h+d>o)return null;const g=-l*Mh.dot(HM);return g<0?null:this.at(g/o,a)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class mn{constructor(t,e,i,r,a,o,l,h,d,g,v,_,b,M,A,T){mn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,r,a,o,l,h,d,g,v,_,b,M,A,T)}set(t,e,i,r,a,o,l,h,d,g,v,_,b,M,A,T){const E=this.elements;return E[0]=t,E[4]=e,E[8]=i,E[12]=r,E[1]=a,E[5]=o,E[9]=l,E[13]=h,E[2]=d,E[6]=g,E[10]=v,E[14]=_,E[3]=b,E[7]=M,E[11]=A,E[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new mn().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/Nm.setFromMatrixColumn(t,0).length(),a=1/Nm.setFromMatrixColumn(t,1).length(),o=1/Nm.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*a,e[5]=i[5]*a,e[6]=i[6]*a,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,a=t.z,o=Math.cos(i),l=Math.sin(i),h=Math.cos(r),d=Math.sin(r),g=Math.cos(a),v=Math.sin(a);if(t.order==="XYZ"){const _=o*g,b=o*v,M=l*g,A=l*v;e[0]=h*g,e[4]=-h*v,e[8]=d,e[1]=b+M*d,e[5]=_-A*d,e[9]=-l*h,e[2]=A-_*d,e[6]=M+b*d,e[10]=o*h}else if(t.order==="YXZ"){const _=h*g,b=h*v,M=d*g,A=d*v;e[0]=_+A*l,e[4]=M*l-b,e[8]=o*d,e[1]=o*v,e[5]=o*g,e[9]=-l,e[2]=b*l-M,e[6]=A+_*l,e[10]=o*h}else if(t.order==="ZXY"){const _=h*g,b=h*v,M=d*g,A=d*v;e[0]=_-A*l,e[4]=-o*v,e[8]=M+b*l,e[1]=b+M*l,e[5]=o*g,e[9]=A-_*l,e[2]=-o*d,e[6]=l,e[10]=o*h}else if(t.order==="ZYX"){const _=o*g,b=o*v,M=l*g,A=l*v;e[0]=h*g,e[4]=M*d-b,e[8]=_*d+A,e[1]=h*v,e[5]=A*d+_,e[9]=b*d-M,e[2]=-d,e[6]=l*h,e[10]=o*h}else if(t.order==="YZX"){const _=o*h,b=o*d,M=l*h,A=l*d;e[0]=h*g,e[4]=A-_*v,e[8]=M*v+b,e[1]=v,e[5]=o*g,e[9]=-l*g,e[2]=-d*g,e[6]=b*v+M,e[10]=_-A*v}else if(t.order==="XZY"){const _=o*h,b=o*d,M=l*h,A=l*d;e[0]=h*g,e[4]=-v,e[8]=d*g,e[1]=_*v+A,e[5]=o*g,e[9]=b*v-M,e[2]=M*v-b,e[6]=l*g,e[10]=A*v+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(t6,t,e6)}lookAt(t,e,i){const r=this.elements;return Ao.subVectors(t,e),Ao.lengthSq()===0&&(Ao.z=1),Ao.normalize(),Eh.crossVectors(i,Ao),Eh.lengthSq()===0&&(Math.abs(i.z)===1?Ao.x+=1e-4:Ao.z+=1e-4,Ao.normalize(),Eh.crossVectors(i,Ao)),Eh.normalize(),V_.crossVectors(Ao,Eh),r[0]=Eh.x,r[4]=V_.x,r[8]=Ao.x,r[1]=Eh.y,r[5]=V_.y,r[9]=Ao.y,r[2]=Eh.z,r[6]=V_.z,r[10]=Ao.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,a=this.elements,o=i[0],l=i[4],h=i[8],d=i[12],g=i[1],v=i[5],_=i[9],b=i[13],M=i[2],A=i[6],T=i[10],E=i[14],O=i[3],P=i[7],z=i[11],F=i[15],I=r[0],q=r[4],Y=r[8],G=r[12],j=r[1],K=r[5],st=r[9],lt=r[13],dt=r[2],vt=r[6],X=r[10],it=r[14],tt=r[3],yt=r[7],Q=r[11],ut=r[15];return a[0]=o*I+l*j+h*dt+d*tt,a[4]=o*q+l*K+h*vt+d*yt,a[8]=o*Y+l*st+h*X+d*Q,a[12]=o*G+l*lt+h*it+d*ut,a[1]=g*I+v*j+_*dt+b*tt,a[5]=g*q+v*K+_*vt+b*yt,a[9]=g*Y+v*st+_*X+b*Q,a[13]=g*G+v*lt+_*it+b*ut,a[2]=M*I+A*j+T*dt+E*tt,a[6]=M*q+A*K+T*vt+E*yt,a[10]=M*Y+A*st+T*X+E*Q,a[14]=M*G+A*lt+T*it+E*ut,a[3]=O*I+P*j+z*dt+F*tt,a[7]=O*q+P*K+z*vt+F*yt,a[11]=O*Y+P*st+z*X+F*Q,a[15]=O*G+P*lt+z*it+F*ut,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],a=t[12],o=t[1],l=t[5],h=t[9],d=t[13],g=t[2],v=t[6],_=t[10],b=t[14],M=t[3],A=t[7],T=t[11],E=t[15];return M*(+a*h*v-r*d*v-a*l*_+i*d*_+r*l*b-i*h*b)+A*(+e*h*b-e*d*_+a*o*_-r*o*b+r*d*g-a*h*g)+T*(+e*d*v-e*l*b-a*o*v+i*o*b+a*l*g-i*d*g)+E*(-r*l*g-e*h*v+e*l*_+r*o*v-i*o*_+i*h*g)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],h=t[6],d=t[7],g=t[8],v=t[9],_=t[10],b=t[11],M=t[12],A=t[13],T=t[14],E=t[15],O=v*T*d-A*_*d+A*h*b-l*T*b-v*h*E+l*_*E,P=M*_*d-g*T*d-M*h*b+o*T*b+g*h*E-o*_*E,z=g*A*d-M*v*d+M*l*b-o*A*b-g*l*E+o*v*E,F=M*v*h-g*A*h-M*l*_+o*A*_+g*l*T-o*v*T,I=e*O+i*P+r*z+a*F;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const q=1/I;return t[0]=O*q,t[1]=(A*_*a-v*T*a-A*r*b+i*T*b+v*r*E-i*_*E)*q,t[2]=(l*T*a-A*h*a+A*r*d-i*T*d-l*r*E+i*h*E)*q,t[3]=(v*h*a-l*_*a-v*r*d+i*_*d+l*r*b-i*h*b)*q,t[4]=P*q,t[5]=(g*T*a-M*_*a+M*r*b-e*T*b-g*r*E+e*_*E)*q,t[6]=(M*h*a-o*T*a-M*r*d+e*T*d+o*r*E-e*h*E)*q,t[7]=(o*_*a-g*h*a+g*r*d-e*_*d-o*r*b+e*h*b)*q,t[8]=z*q,t[9]=(M*v*a-g*A*a-M*i*b+e*A*b+g*i*E-e*v*E)*q,t[10]=(o*A*a-M*l*a+M*i*d-e*A*d-o*i*E+e*l*E)*q,t[11]=(g*l*a-o*v*a-g*i*d+e*v*d+o*i*b-e*l*b)*q,t[12]=F*q,t[13]=(g*A*r-M*v*r+M*i*_-e*A*_-g*i*T+e*v*T)*q,t[14]=(M*l*r-o*A*r-M*i*h+e*A*h+o*i*T-e*l*T)*q,t[15]=(o*v*r-g*l*r+g*i*h-e*v*h-o*i*_+e*l*_)*q,this}scale(t){const e=this.elements,i=t.x,r=t.y,a=t.z;return e[0]*=i,e[4]*=r,e[8]*=a,e[1]*=i,e[5]*=r,e[9]*=a,e[2]*=i,e[6]*=r,e[10]*=a,e[3]*=i,e[7]*=r,e[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),a=1-i,o=t.x,l=t.y,h=t.z,d=a*o,g=a*l;return this.set(d*o+i,d*l-r*h,d*h+r*l,0,d*l+r*h,g*l+i,g*h-r*o,0,d*h-r*l,g*h+r*o,a*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,a,o){return this.set(1,i,a,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,a=e._x,o=e._y,l=e._z,h=e._w,d=a+a,g=o+o,v=l+l,_=a*d,b=a*g,M=a*v,A=o*g,T=o*v,E=l*v,O=h*d,P=h*g,z=h*v,F=i.x,I=i.y,q=i.z;return r[0]=(1-(A+E))*F,r[1]=(b+z)*F,r[2]=(M-P)*F,r[3]=0,r[4]=(b-z)*I,r[5]=(1-(_+E))*I,r[6]=(T+O)*I,r[7]=0,r[8]=(M+P)*q,r[9]=(T-O)*q,r[10]=(1-(_+A))*q,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let a=Nm.set(r[0],r[1],r[2]).length();const o=Nm.set(r[4],r[5],r[6]).length(),l=Nm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),t.x=r[12],t.y=r[13],t.z=r[14],du.copy(this);const d=1/a,g=1/o,v=1/l;return du.elements[0]*=d,du.elements[1]*=d,du.elements[2]*=d,du.elements[4]*=g,du.elements[5]*=g,du.elements[6]*=g,du.elements[8]*=v,du.elements[9]*=v,du.elements[10]*=v,e.setFromRotationMatrix(du),i.x=a,i.y=o,i.z=l,this}makePerspective(t,e,i,r,a,o,l=No,h=!1){const d=this.elements,g=2*a/(e-t),v=2*a/(i-r),_=(e+t)/(e-t),b=(i+r)/(i-r);let M,A;if(h)M=a/(o-a),A=o*a/(o-a);else if(l===No)M=-(o+a)/(o-a),A=-2*o*a/(o-a);else if(l===gg)M=-o/(o-a),A=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return d[0]=g,d[4]=0,d[8]=_,d[12]=0,d[1]=0,d[5]=v,d[9]=b,d[13]=0,d[2]=0,d[6]=0,d[10]=M,d[14]=A,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(t,e,i,r,a,o,l=No,h=!1){const d=this.elements,g=2/(e-t),v=2/(i-r),_=-(e+t)/(e-t),b=-(i+r)/(i-r);let M,A;if(h)M=1/(o-a),A=o/(o-a);else if(l===No)M=-2/(o-a),A=-(o+a)/(o-a);else if(l===gg)M=-1/(o-a),A=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return d[0]=g,d[4]=0,d[8]=0,d[12]=_,d[1]=0,d[5]=v,d[9]=0,d[13]=b,d[2]=0,d[6]=0,d[10]=M,d[14]=A,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const Nm=new at,du=new mn,t6=new at(0,0,0),e6=new at(1,1,1),Eh=new at,V_=new at,Ao=new at,SO=new mn,MO=new va;class Fo{constructor(t=0,e=0,i=0,r=Fo.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,r=this._order){return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const r=t.elements,a=r[0],o=r[4],l=r[8],h=r[1],d=r[5],g=r[9],v=r[2],_=r[6],b=r[10];switch(e){case"XYZ":this._y=Math.asin(dn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-g,b),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(_,d),this._z=0);break;case"YXZ":this._x=Math.asin(-dn(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(l,b),this._z=Math.atan2(h,d)):(this._y=Math.atan2(-v,a),this._z=0);break;case"ZXY":this._x=Math.asin(dn(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-v,b),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(h,a));break;case"ZYX":this._y=Math.asin(-dn(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(_,b),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(dn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-g,d),this._y=Math.atan2(-v,a)):(this._x=0,this._y=Math.atan2(l,b));break;case"XZY":this._z=Math.asin(-dn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(_,d),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-g,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return SO.makeRotationFromQuaternion(t),this.setFromRotationMatrix(SO,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return MO.setFromEuler(this),this.setFromQuaternion(MO,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Fo.DEFAULT_ORDER="XYZ";class _p{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let n6=0;const EO=new at,Um=new va,rf=new mn,G_=new at,Iv=new at,i6=new at,r6=new va,TO=new at(1,0,0),wO=new at(0,1,0),AO=new at(0,0,1),CO={type:"added"},a6={type:"removed"},zm={type:"childadded",child:null},kM={type:"childremoved",child:null};class Zn extends bc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:n6++}),this.uuid=Uo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zn.DEFAULT_UP.clone();const t=new at,e=new Fo,i=new va,r=new at(1,1,1);function a(){i.setFromEuler(e,!1)}function o(){e.setFromQuaternion(i,void 0,!1)}e._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new mn},normalMatrix:{value:new Cn}}),this.matrix=new mn,this.matrixWorld=new mn,this.matrixAutoUpdate=Zn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _p,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Um.setFromAxisAngle(t,e),this.quaternion.multiply(Um),this}rotateOnWorldAxis(t,e){return Um.setFromAxisAngle(t,e),this.quaternion.premultiply(Um),this}rotateX(t){return this.rotateOnAxis(TO,t)}rotateY(t){return this.rotateOnAxis(wO,t)}rotateZ(t){return this.rotateOnAxis(AO,t)}translateOnAxis(t,e){return EO.copy(t).applyQuaternion(this.quaternion),this.position.add(EO.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(TO,t)}translateY(t){return this.translateOnAxis(wO,t)}translateZ(t){return this.translateOnAxis(AO,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(rf.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?G_.copy(t):G_.set(t,e,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Iv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?rf.lookAt(Iv,G_,this.up):rf.lookAt(G_,Iv,this.up),this.quaternion.setFromRotationMatrix(rf),r&&(rf.extractRotation(r.matrixWorld),Um.setFromRotationMatrix(rf),this.quaternion.premultiply(Um.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(CO),zm.child=t,this.dispatchEvent(zm),zm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(a6),kM.child=t,this.dispatchEvent(kM),kM.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),rf.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),rf.multiply(t.parent.matrixWorld)),t.applyMatrix4(rf),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(CO),zm.child=t,this.dispatchEvent(zm),zm.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iv,t,i6),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iv,r6,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(t),r.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(l,h){return l[h.uuid]===void 0&&(l[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(t.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const h=l.shapes;if(Array.isArray(h))for(let d=0,g=h.length;d<g;d++){const v=h[d];a(t.shapes,v)}else a(t.shapes,h)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let h=0,d=this.material.length;h<d;h++)l.push(a(t.materials,this.material[h]));r.material=l}else r.material=a(t.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const h=this.animations[l];r.animations.push(a(t.animations,h))}}if(e){const l=o(t.geometries),h=o(t.materials),d=o(t.textures),g=o(t.images),v=o(t.shapes),_=o(t.skeletons),b=o(t.animations),M=o(t.nodes);l.length>0&&(i.geometries=l),h.length>0&&(i.materials=h),d.length>0&&(i.textures=d),g.length>0&&(i.images=g),v.length>0&&(i.shapes=v),_.length>0&&(i.skeletons=_),b.length>0&&(i.animations=b),M.length>0&&(i.nodes=M)}return i.object=r,i;function o(l){const h=[];for(const d in l){const g=l[d];delete g.metadata,h.push(g)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const r=t.children[i];this.add(r.clone())}return this}}Zn.DEFAULT_UP=new at(0,1,0);Zn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const pu=new at,af=new at,jM=new at,sf=new at,Im=new at,Bm=new at,RO=new at,VM=new at,GM=new at,qM=new at,WM=new Jn,XM=new Jn,YM=new Jn;class Ks{constructor(t=new at,e=new at,i=new at){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),pu.subVectors(t,e),r.cross(pu);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(t,e,i,r,a){pu.subVectors(r,e),af.subVectors(i,e),jM.subVectors(t,e);const o=pu.dot(pu),l=pu.dot(af),h=pu.dot(jM),d=af.dot(af),g=af.dot(jM),v=o*d-l*l;if(v===0)return a.set(0,0,0),null;const _=1/v,b=(d*h-l*g)*_,M=(o*g-l*h)*_;return a.set(1-b-M,M,b)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,sf)===null?!1:sf.x>=0&&sf.y>=0&&sf.x+sf.y<=1}static getInterpolation(t,e,i,r,a,o,l,h){return this.getBarycoord(t,e,i,r,sf)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(a,sf.x),h.addScaledVector(o,sf.y),h.addScaledVector(l,sf.z),h)}static getInterpolatedAttribute(t,e,i,r,a,o){return WM.setScalar(0),XM.setScalar(0),YM.setScalar(0),WM.fromBufferAttribute(t,e),XM.fromBufferAttribute(t,i),YM.fromBufferAttribute(t,r),o.setScalar(0),o.addScaledVector(WM,a.x),o.addScaledVector(XM,a.y),o.addScaledVector(YM,a.z),o}static isFrontFacing(t,e,i,r){return pu.subVectors(i,e),af.subVectors(t,e),pu.cross(af).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return pu.subVectors(this.c,this.b),af.subVectors(this.a,this.b),pu.cross(af).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Ks.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Ks.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,r,a){return Ks.getInterpolation(t,this.a,this.b,this.c,e,i,r,a)}containsPoint(t){return Ks.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Ks.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,a=this.c;let o,l;Im.subVectors(r,i),Bm.subVectors(a,i),VM.subVectors(t,i);const h=Im.dot(VM),d=Bm.dot(VM);if(h<=0&&d<=0)return e.copy(i);GM.subVectors(t,r);const g=Im.dot(GM),v=Bm.dot(GM);if(g>=0&&v<=g)return e.copy(r);const _=h*v-g*d;if(_<=0&&h>=0&&g<=0)return o=h/(h-g),e.copy(i).addScaledVector(Im,o);qM.subVectors(t,a);const b=Im.dot(qM),M=Bm.dot(qM);if(M>=0&&b<=M)return e.copy(a);const A=b*d-h*M;if(A<=0&&d>=0&&M<=0)return l=d/(d-M),e.copy(i).addScaledVector(Bm,l);const T=g*M-b*v;if(T<=0&&v-g>=0&&b-M>=0)return RO.subVectors(a,r),l=(v-g)/(v-g+(b-M)),e.copy(r).addScaledVector(RO,l);const E=1/(T+A+_);return o=A*E,l=_*E,e.copy(i).addScaledVector(Im,o).addScaledVector(Bm,l)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const gz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Th={h:0,s:0,l:0},q_={h:0,s:0,l:0};function ZM(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}let Ee=class{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=za){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,qn.colorSpaceToWorking(this,e),this}setRGB(t,e,i,r=qn.workingColorSpace){return this.r=t,this.g=e,this.b=i,qn.colorSpaceToWorking(this,r),this}setHSL(t,e,i,r=qn.workingColorSpace){if(t=WA(t,1),e=dn(e,0,1),i=dn(i,0,1),e===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+e):i+e-i*e,o=2*i-a;this.r=ZM(o,a,t+1/3),this.g=ZM(o,a,t),this.b=ZM(o,a,t-1/3)}return qn.colorSpaceToWorking(this,r),this}setStyle(t,e=za){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let a;const o=r[1],l=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,e);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,e);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(a,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=za){const i=gz[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=yf(t.r),this.g=yf(t.g),this.b=yf(t.b),this}copyLinearToSRGB(t){return this.r=lg(t.r),this.g=lg(t.g),this.b=lg(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=za){return qn.workingToColorSpace($a.copy(this),t),Math.round(dn($a.r*255,0,255))*65536+Math.round(dn($a.g*255,0,255))*256+Math.round(dn($a.b*255,0,255))}getHexString(t=za){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=qn.workingColorSpace){qn.workingToColorSpace($a.copy(this),e);const i=$a.r,r=$a.g,a=$a.b,o=Math.max(i,r,a),l=Math.min(i,r,a);let h,d;const g=(l+o)/2;if(l===o)h=0,d=0;else{const v=o-l;switch(d=g<=.5?v/(o+l):v/(2-o-l),o){case i:h=(r-a)/v+(r<a?6:0);break;case r:h=(a-i)/v+2;break;case a:h=(i-r)/v+4;break}h/=6}return t.h=h,t.s=d,t.l=g,t}getRGB(t,e=qn.workingColorSpace){return qn.workingToColorSpace($a.copy(this),e),t.r=$a.r,t.g=$a.g,t.b=$a.b,t}getStyle(t=za){qn.workingToColorSpace($a.copy(this),t);const e=$a.r,i=$a.g,r=$a.b;return t!==za?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(t,e,i){return this.getHSL(Th),this.setHSL(Th.h+t,Th.s+e,Th.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Th),t.getHSL(q_);const i=my(Th.h,q_.h,e),r=my(Th.s,q_.s,e),a=my(Th.l,q_.l,e);return this.setHSL(i,r,a),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,a=t.elements;return this.r=a[0]*e+a[3]*i+a[6]*r,this.g=a[1]*e+a[4]*i+a[7]*r,this.b=a[2]*e+a[5]*i+a[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const $a=new Ee;Ee.NAMES=gz;let s6=0;class os extends bc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:s6++}),this.uuid=Uo(),this.name="",this.type="Material",this.blending=cp,this.side=Sf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=sb,this.blendDst=ob,this.blendEquation=Ph,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ee(0,0,0),this.blendAlpha=0,this.depthFunc=vp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Mw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Zd,this.stencilZFail=Zd,this.stencilZPass=Zd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(t).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(t).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==cp&&(i.blending=this.blending),this.side!==Sf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==sb&&(i.blendSrc=this.blendSrc),this.blendDst!==ob&&(i.blendDst=this.blendDst),this.blendEquation!==Ph&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==vp&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Mw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Zd&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Zd&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Zd&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const l in a){const h=a[l];delete h.metadata,o.push(h)}return o}if(e){const a=r(t.textures),o=r(t.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const r=e.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=e[a].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class Rl extends os{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Fo,this.combine=e0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const ff=o6();function o6(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let h=0;h<256;++h){const d=h-127;d<-27?(i[h]=0,i[h|256]=32768,r[h]=24,r[h|256]=24):d<-14?(i[h]=1024>>-d-14,i[h|256]=1024>>-d-14|32768,r[h]=-d-1,r[h|256]=-d-1):d<=15?(i[h]=d+15<<10,i[h|256]=d+15<<10|32768,r[h]=13,r[h|256]=13):d<128?(i[h]=31744,i[h|256]=64512,r[h]=24,r[h|256]=24):(i[h]=31744,i[h|256]=64512,r[h]=13,r[h|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let h=1;h<1024;++h){let d=h<<13,g=0;for(;(d&8388608)===0;)d<<=1,g-=8388608;d&=-8388609,g+=947912704,a[h]=d|g}for(let h=1024;h<2048;++h)a[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)o[h]=h<<23;o[31]=1199570944,o[32]=2147483648;for(let h=33;h<63;++h)o[h]=2147483648+(h-32<<23);o[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(l[h]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:l}}function Ys(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=dn(n,-65504,65504),ff.floatView[0]=n;const t=ff.uint32View[0],e=t>>23&511;return ff.baseTable[e]+((t&8388607)>>ff.shiftTable[e])}function iy(n){const t=n>>10;return ff.uint32View[0]=ff.mantissaTable[ff.offsetTable[t]+(n&1023)]+ff.exponentTable[t],ff.floatView[0]}class l6{static toHalfFloat(t){return Ys(t)}static fromHalfFloat(t){return iy(t)}}const Hr=new at,W_=new Jt;let u6=0;class wi{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:u6++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=Oy,this.updateRanges=[],this.gpuType=$s,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)W_.fromBufferAttribute(this,e),W_.applyMatrix3(t),this.setXY(e,W_.x,W_.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Hr.fromBufferAttribute(this,e),Hr.applyMatrix3(t),this.setXYZ(e,Hr.x,Hr.y,Hr.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Hr.fromBufferAttribute(this,e),Hr.applyMatrix4(t),this.setXYZ(e,Hr.x,Hr.y,Hr.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Hr.fromBufferAttribute(this,e),Hr.applyNormalMatrix(t),this.setXYZ(e,Hr.x,Hr.y,Hr.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Hr.fromBufferAttribute(this,e),Hr.transformDirection(t),this.setXYZ(e,Hr.x,Hr.y,Hr.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Os(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=On(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Os(e,this.array)),e}setX(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Os(e,this.array)),e}setY(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Os(e,this.array)),e}setZ(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Os(e,this.array)),e}setW(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),i=On(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),i=On(i,this.array),r=On(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,a){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),i=On(i,this.array),r=On(r,this.array),a=On(a,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Oy&&(t.usage=this.usage),t}}class c6 extends wi{constructor(t,e,i){super(new Int8Array(t),e,i)}}class f6 extends wi{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class h6 extends wi{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class d6 extends wi{constructor(t,e,i){super(new Int16Array(t),e,i)}}class YA extends wi{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class p6 extends wi{constructor(t,e,i){super(new Int32Array(t),e,i)}}class ZA extends wi{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class m6 extends wi{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=iy(this.array[t*this.itemSize]);return this.normalized&&(e=Os(e,this.array)),e}setX(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize]=Ys(e),this}getY(t){let e=iy(this.array[t*this.itemSize+1]);return this.normalized&&(e=Os(e,this.array)),e}setY(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+1]=Ys(e),this}getZ(t){let e=iy(this.array[t*this.itemSize+2]);return this.normalized&&(e=Os(e,this.array)),e}setZ(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+2]=Ys(e),this}getW(t){let e=iy(this.array[t*this.itemSize+3]);return this.normalized&&(e=Os(e,this.array)),e}setW(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+3]=Ys(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),i=On(i,this.array)),this.array[t+0]=Ys(e),this.array[t+1]=Ys(i),this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),i=On(i,this.array),r=On(r,this.array)),this.array[t+0]=Ys(e),this.array[t+1]=Ys(i),this.array[t+2]=Ys(r),this}setXYZW(t,e,i,r,a){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),i=On(i,this.array),r=On(r,this.array),a=On(a,this.array)),this.array[t+0]=Ys(e),this.array[t+1]=Ys(i),this.array[t+2]=Ys(r),this.array[t+3]=Ys(a),this}}class ze extends wi{constructor(t,e,i){super(new Float32Array(t),e,i)}}let g6=0;const _l=new mn,KM=new Zn,Fm=new at,Co=new ss,Bv=new ss,pa=new at;class xn extends bc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:g6++}),this.uuid=Uo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(dz(t)?ZA:YA)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Cn().getNormalMatrix(t);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return _l.makeRotationFromQuaternion(t),this.applyMatrix4(_l),this}rotateX(t){return _l.makeRotationX(t),this.applyMatrix4(_l),this}rotateY(t){return _l.makeRotationY(t),this.applyMatrix4(_l),this}rotateZ(t){return _l.makeRotationZ(t),this.applyMatrix4(_l),this}translate(t,e,i){return _l.makeTranslation(t,e,i),this.applyMatrix4(_l),this}scale(t,e,i){return _l.makeScale(t,e,i),this.applyMatrix4(_l),this}lookAt(t){return KM.lookAt(t),KM.updateMatrix(),this.applyMatrix4(KM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fm).negate(),this.translate(Fm.x,Fm.y,Fm.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let r=0,a=t.length;r<a;r++){const o=t[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new ze(i,3))}else{const i=Math.min(t.length,e.count);for(let r=0;r<i;r++){const a=t[r];e.setXYZ(r,a.x,a.y,a.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ss);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new at(-1/0,-1/0,-1/0),new at(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++){const a=e[i];Co.setFromBufferAttribute(a),this.morphTargetsRelative?(pa.addVectors(this.boundingBox.min,Co.min),this.boundingBox.expandByPoint(pa),pa.addVectors(this.boundingBox.max,Co.max),this.boundingBox.expandByPoint(pa)):(this.boundingBox.expandByPoint(Co.min),this.boundingBox.expandByPoint(Co.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new at,1/0);return}if(t){const i=this.boundingSphere.center;if(Co.setFromBufferAttribute(t),e)for(let a=0,o=e.length;a<o;a++){const l=e[a];Bv.setFromBufferAttribute(l),this.morphTargetsRelative?(pa.addVectors(Co.min,Bv.min),Co.expandByPoint(pa),pa.addVectors(Co.max,Bv.max),Co.expandByPoint(pa)):(Co.expandByPoint(Bv.min),Co.expandByPoint(Bv.max))}Co.getCenter(i);let r=0;for(let a=0,o=t.count;a<o;a++)pa.fromBufferAttribute(t,a),r=Math.max(r,i.distanceToSquared(pa));if(e)for(let a=0,o=e.length;a<o;a++){const l=e[a],h=this.morphTargetsRelative;for(let d=0,g=l.count;d<g;d++)pa.fromBufferAttribute(l,d),h&&(Fm.fromBufferAttribute(t,d),pa.add(Fm)),r=Math.max(r,i.distanceToSquared(pa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,r=e.normal,a=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wi(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),l=[],h=[];for(let Y=0;Y<i.count;Y++)l[Y]=new at,h[Y]=new at;const d=new at,g=new at,v=new at,_=new Jt,b=new Jt,M=new Jt,A=new at,T=new at;function E(Y,G,j){d.fromBufferAttribute(i,Y),g.fromBufferAttribute(i,G),v.fromBufferAttribute(i,j),_.fromBufferAttribute(a,Y),b.fromBufferAttribute(a,G),M.fromBufferAttribute(a,j),g.sub(d),v.sub(d),b.sub(_),M.sub(_);const K=1/(b.x*M.y-M.x*b.y);isFinite(K)&&(A.copy(g).multiplyScalar(M.y).addScaledVector(v,-b.y).multiplyScalar(K),T.copy(v).multiplyScalar(b.x).addScaledVector(g,-M.x).multiplyScalar(K),l[Y].add(A),l[G].add(A),l[j].add(A),h[Y].add(T),h[G].add(T),h[j].add(T))}let O=this.groups;O.length===0&&(O=[{start:0,count:t.count}]);for(let Y=0,G=O.length;Y<G;++Y){const j=O[Y],K=j.start,st=j.count;for(let lt=K,dt=K+st;lt<dt;lt+=3)E(t.getX(lt+0),t.getX(lt+1),t.getX(lt+2))}const P=new at,z=new at,F=new at,I=new at;function q(Y){F.fromBufferAttribute(r,Y),I.copy(F);const G=l[Y];P.copy(G),P.sub(F.multiplyScalar(F.dot(G))).normalize(),z.crossVectors(I,G);const K=z.dot(h[Y])<0?-1:1;o.setXYZW(Y,P.x,P.y,P.z,K)}for(let Y=0,G=O.length;Y<G;++Y){const j=O[Y],K=j.start,st=j.count;for(let lt=K,dt=K+st;lt<dt;lt+=3)q(t.getX(lt+0)),q(t.getX(lt+1)),q(t.getX(lt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new wi(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let _=0,b=i.count;_<b;_++)i.setXYZ(_,0,0,0);const r=new at,a=new at,o=new at,l=new at,h=new at,d=new at,g=new at,v=new at;if(t)for(let _=0,b=t.count;_<b;_+=3){const M=t.getX(_+0),A=t.getX(_+1),T=t.getX(_+2);r.fromBufferAttribute(e,M),a.fromBufferAttribute(e,A),o.fromBufferAttribute(e,T),g.subVectors(o,a),v.subVectors(r,a),g.cross(v),l.fromBufferAttribute(i,M),h.fromBufferAttribute(i,A),d.fromBufferAttribute(i,T),l.add(g),h.add(g),d.add(g),i.setXYZ(M,l.x,l.y,l.z),i.setXYZ(A,h.x,h.y,h.z),i.setXYZ(T,d.x,d.y,d.z)}else for(let _=0,b=e.count;_<b;_+=3)r.fromBufferAttribute(e,_+0),a.fromBufferAttribute(e,_+1),o.fromBufferAttribute(e,_+2),g.subVectors(o,a),v.subVectors(r,a),g.cross(v),i.setXYZ(_+0,g.x,g.y,g.z),i.setXYZ(_+1,g.x,g.y,g.z),i.setXYZ(_+2,g.x,g.y,g.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)pa.fromBufferAttribute(t,e),pa.normalize(),t.setXYZ(e,pa.x,pa.y,pa.z)}toNonIndexed(){function t(l,h){const d=l.array,g=l.itemSize,v=l.normalized,_=new d.constructor(h.length*g);let b=0,M=0;for(let A=0,T=h.length;A<T;A++){l.isInterleavedBufferAttribute?b=h[A]*l.data.stride+l.offset:b=h[A]*g;for(let E=0;E<g;E++)_[M++]=d[b++]}return new wi(_,g,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new xn,i=this.index.array,r=this.attributes;for(const l in r){const h=r[l],d=t(h,i);e.setAttribute(l,d)}const a=this.morphAttributes;for(const l in a){const h=[],d=a[l];for(let g=0,v=d.length;g<v;g++){const _=d[g],b=t(_,i);h.push(b)}e.morphAttributes[l]=h}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,h=o.length;l<h;l++){const d=o[l];e.addGroup(d.start,d.count,d.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const d in h)h[d]!==void 0&&(t[d]=h[d]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const h in i){const d=i[h];t.data.attributes[h]=d.toJSON(t.data)}const r={};let a=!1;for(const h in this.morphAttributes){const d=this.morphAttributes[h],g=[];for(let v=0,_=d.length;v<_;v++){const b=d[v];g.push(b.toJSON(t.data))}g.length>0&&(r[h]=g,a=!0)}a&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(t.data.boundingSphere=l.toJSON()),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone());const r=t.attributes;for(const d in r){const g=r[d];this.setAttribute(d,g.clone(e))}const a=t.morphAttributes;for(const d in a){const g=[],v=a[d];for(let _=0,b=v.length;_<b;_++)g.push(v[_].clone(e));this.morphAttributes[d]=g}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let d=0,g=o.length;d<g;d++){const v=o[d];this.addGroup(v.start,v.count,v.materialIndex)}const l=t.boundingBox;l!==null&&(this.boundingBox=l.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const OO=new mn,Nd=new Pp,X_=new Fa,PO=new at,Y_=new at,Z_=new at,K_=new at,QM=new at,Q_=new at,DO=new at,$_=new at;class Dr extends Zn{constructor(t=new xn,e=new Rl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(t,e){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;e.fromBufferAttribute(r,t);const l=this.morphTargetInfluences;if(a&&l){Q_.set(0,0,0);for(let h=0,d=a.length;h<d;h++){const g=l[h],v=a[h];g!==0&&(QM.fromBufferAttribute(v,t),o?Q_.addScaledVector(QM,g):Q_.addScaledVector(QM.sub(e),g))}e.add(Q_)}return e}raycast(t,e){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),X_.copy(i.boundingSphere),X_.applyMatrix4(a),Nd.copy(t.ray).recast(t.near),!(X_.containsPoint(Nd.origin)===!1&&(Nd.intersectSphere(X_,PO)===null||Nd.origin.distanceToSquared(PO)>(t.far-t.near)**2))&&(OO.copy(a).invert(),Nd.copy(t.ray).applyMatrix4(OO),!(i.boundingBox!==null&&Nd.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Nd)))}_computeIntersections(t,e,i){let r;const a=this.geometry,o=this.material,l=a.index,h=a.attributes.position,d=a.attributes.uv,g=a.attributes.uv1,v=a.attributes.normal,_=a.groups,b=a.drawRange;if(l!==null)if(Array.isArray(o))for(let M=0,A=_.length;M<A;M++){const T=_[M],E=o[T.materialIndex],O=Math.max(T.start,b.start),P=Math.min(l.count,Math.min(T.start+T.count,b.start+b.count));for(let z=O,F=P;z<F;z+=3){const I=l.getX(z),q=l.getX(z+1),Y=l.getX(z+2);r=J_(this,E,t,i,d,g,v,I,q,Y),r&&(r.faceIndex=Math.floor(z/3),r.face.materialIndex=T.materialIndex,e.push(r))}}else{const M=Math.max(0,b.start),A=Math.min(l.count,b.start+b.count);for(let T=M,E=A;T<E;T+=3){const O=l.getX(T),P=l.getX(T+1),z=l.getX(T+2);r=J_(this,o,t,i,d,g,v,O,P,z),r&&(r.faceIndex=Math.floor(T/3),e.push(r))}}else if(h!==void 0)if(Array.isArray(o))for(let M=0,A=_.length;M<A;M++){const T=_[M],E=o[T.materialIndex],O=Math.max(T.start,b.start),P=Math.min(h.count,Math.min(T.start+T.count,b.start+b.count));for(let z=O,F=P;z<F;z+=3){const I=z,q=z+1,Y=z+2;r=J_(this,E,t,i,d,g,v,I,q,Y),r&&(r.faceIndex=Math.floor(z/3),r.face.materialIndex=T.materialIndex,e.push(r))}}else{const M=Math.max(0,b.start),A=Math.min(h.count,b.start+b.count);for(let T=M,E=A;T<E;T+=3){const O=T,P=T+1,z=T+2;r=J_(this,o,t,i,d,g,v,O,P,z),r&&(r.faceIndex=Math.floor(T/3),e.push(r))}}}}function v6(n,t,e,i,r,a,o,l){let h;if(t.side===as?h=i.intersectTriangle(o,a,r,!0,l):h=i.intersectTriangle(r,a,o,t.side===Sf,l),h===null)return null;$_.copy(l),$_.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo($_);return d<e.near||d>e.far?null:{distance:d,point:$_.clone(),object:n}}function J_(n,t,e,i,r,a,o,l,h,d){n.getVertexPosition(l,Y_),n.getVertexPosition(h,Z_),n.getVertexPosition(d,K_);const g=v6(n,t,e,i,Y_,Z_,K_,DO);if(g){const v=new at;Ks.getBarycoord(DO,Y_,Z_,K_,v),r&&(g.uv=Ks.getInterpolatedAttribute(r,l,h,d,v,new Jt)),a&&(g.uv1=Ks.getInterpolatedAttribute(a,l,h,d,v,new Jt)),o&&(g.normal=Ks.getInterpolatedAttribute(o,l,h,d,v,new at),g.normal.dot(i.direction)>0&&g.normal.multiplyScalar(-1));const _={a:l,b:h,c:d,normal:new at,materialIndex:0};Ks.getNormal(Y_,Z_,K_,_.normal),g.face=_,g.barycoord=v}return g}class Dp extends xn{constructor(t=1,e=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const l=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const h=[],d=[],g=[],v=[];let _=0,b=0;M("z","y","x",-1,-1,i,e,t,o,a,0),M("z","y","x",1,-1,i,e,-t,o,a,1),M("x","z","y",1,1,t,i,e,r,o,2),M("x","z","y",1,-1,t,i,-e,r,o,3),M("x","y","z",1,-1,t,e,i,r,a,4),M("x","y","z",-1,-1,t,e,-i,r,a,5),this.setIndex(h),this.setAttribute("position",new ze(d,3)),this.setAttribute("normal",new ze(g,3)),this.setAttribute("uv",new ze(v,2));function M(A,T,E,O,P,z,F,I,q,Y,G){const j=z/q,K=F/Y,st=z/2,lt=F/2,dt=I/2,vt=q+1,X=Y+1;let it=0,tt=0;const yt=new at;for(let Q=0;Q<X;Q++){const ut=Q*K-lt;for(let gt=0;gt<vt;gt++){const Lt=gt*j-st;yt[A]=Lt*O,yt[T]=ut*P,yt[E]=dt,d.push(yt.x,yt.y,yt.z),yt[A]=0,yt[T]=0,yt[E]=I>0?1:-1,g.push(yt.x,yt.y,yt.z),v.push(gt/q),v.push(1-Q/Y),it+=1}}for(let Q=0;Q<Y;Q++)for(let ut=0;ut<q;ut++){const gt=_+ut+vt*Q,Lt=_+ut+vt*(Q+1),Dt=_+(ut+1)+vt*(Q+1),Zt=_+(ut+1)+vt*Q;h.push(gt,Lt,Zt),h.push(Lt,Dt,Zt),tt+=6}l.addGroup(b,tt,G),b+=tt,_+=it}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Dp(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function yg(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=r.clone():Array.isArray(r)?t[e][i]=r.slice():t[e][i]=r}}return t}function Cs(n){const t={};for(let e=0;e<n.length;e++){const i=yg(n[e]);for(const r in i)t[r]=i[r]}return t}function y6(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function vz(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:qn.workingColorSpace}const Ly={clone:yg,merge:Cs};var _6=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,x6=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xr extends os{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_6,this.fragmentShader=x6,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=yg(t.uniforms),this.uniformsGroups=y6(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?e.uniforms[r]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[r]={type:"m4",value:o.toArray()}:e.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class W1 extends Zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new mn,this.projectionMatrix=new mn,this.projectionMatrixInverse=new mn,this.coordinateSystem=No,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const wh=new at,LO=new Jt,NO=new Jt;class Pr extends W1{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=vg*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(fp*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return vg*2*Math.atan(Math.tan(fp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){wh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(wh.x,wh.y).multiplyScalar(-t/wh.z),wh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(wh.x,wh.y).multiplyScalar(-t/wh.z)}getViewSize(t,e){return this.getViewBounds(t,LO,NO),e.subVectors(NO,LO)}setViewOffset(t,e,i,r,a,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(fp*.5*this.fov)/this.zoom,i=2*e,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,d=o.fullHeight;a+=o.offsetX*r/h,e-=o.offsetY*i/d,r*=o.width/h,i*=o.height/d}const l=this.filmOffset;l!==0&&(a+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,e,e-i,t,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Hm=-90,km=1;class yz extends Zn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Pr(Hm,km,t,e);r.layers=this.layers,this.add(r);const a=new Pr(Hm,km,t,e);a.layers=this.layers,this.add(a);const o=new Pr(Hm,km,t,e);o.layers=this.layers,this.add(o);const l=new Pr(Hm,km,t,e);l.layers=this.layers,this.add(l);const h=new Pr(Hm,km,t,e);h.layers=this.layers,this.add(h);const d=new Pr(Hm,km,t,e);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,a,o,l,h]=e;for(const d of e)this.remove(d);if(t===No)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(t===gg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const d of e)this.add(d),d.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[a,o,l,h,d,g]=this.children,v=t.getRenderTarget(),_=t.getActiveCubeFace(),b=t.getActiveMipmapLevel(),M=t.xr.enabled;t.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,r),t.render(e,a),t.setRenderTarget(i,1,r),t.render(e,o),t.setRenderTarget(i,2,r),t.render(e,l),t.setRenderTarget(i,3,r),t.render(e,h),t.setRenderTarget(i,4,r),t.render(e,d),i.texture.generateMipmaps=A,t.setRenderTarget(i,5,r),t.render(e,g),t.setRenderTarget(v,_,b),t.xr.enabled=M,i.texture.needsPMREMUpdate=!0}}class i0 extends $i{constructor(t=[],e=Mf,i,r,a,o,l,h,d,g){super(t,e,i,r,a,o,l,h,d,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class _z extends Ba{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];this.texture=new i0(r),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Dp(5,5,5),a=new xr({name:"CubemapFromEquirect",uniforms:yg(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:as,blending:mc});a.uniforms.tEquirect.value=e;const o=new Dr(r,a),l=e.minFilter;return e.minFilter===Qs&&(e.minFilter=cr),new yz(1,10,this).update(t,o),e.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(t,e=!0,i=!0,r=!0){const a=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,r);t.setRenderTarget(a)}}class ig extends Zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const b6={type:"move"};class $x{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ig,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ig,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new at,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new at),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ig,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new at,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new at),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let r=null,a=null,o=null;const l=this._targetRay,h=this._grip,d=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(d&&t.hand){o=!0;for(const A of t.hand.values()){const T=e.getJointPose(A,i),E=this._getHandJoint(d,A);T!==null&&(E.matrix.fromArray(T.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=T.radius),E.visible=T!==null}const g=d.joints["index-finger-tip"],v=d.joints["thumb-tip"],_=g.position.distanceTo(v.position),b=.02,M=.005;d.inputState.pinching&&_>b+M?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!d.inputState.pinching&&_<=b-M&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else h!==null&&t.gripSpace&&(a=e.getPose(t.gripSpace,i),a!==null&&(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1));l!==null&&(r=e.getPose(t.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(b6)))}return l!==null&&(l.visible=r!==null),h!==null&&(h.visible=a!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new ig;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class X1{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ee(t),this.density=e}clone(){return new X1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Y1{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ee(t),this.near=e,this.far=i}clone(){return new Y1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let KA=class extends Zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Fo,this.environmentIntensity=1,this.environmentRotation=new Fo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}};class Z1{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Oy,this.updateRanges=[],this.version=0,this.uuid=Uo()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,a=this.stride;r<a;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Uo()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Uo()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const As=new at;class xp{constructor(t,e,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)As.fromBufferAttribute(this,e),As.applyMatrix4(t),this.setXYZ(e,As.x,As.y,As.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)As.fromBufferAttribute(this,e),As.applyNormalMatrix(t),this.setXYZ(e,As.x,As.y,As.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)As.fromBufferAttribute(this,e),As.transformDirection(t),this.setXYZ(e,As.x,As.y,As.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Os(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=On(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Os(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Os(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Os(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Os(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=On(e,this.array),i=On(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=On(e,this.array),i=On(i,this.array),r=On(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=On(e,this.array),i=On(i,this.array),r=On(r,this.array),a=On(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=a,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return new wi(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new xp(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class QA extends os{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ee(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let jm;const Fv=new at,Vm=new at,Gm=new at,qm=new Jt,Hv=new Jt,xz=new mn,tx=new at,kv=new at,ex=new at,UO=new Jt,$M=new Jt,zO=new Jt;class bz extends Zn{constructor(t=new QA){if(super(),this.isSprite=!0,this.type="Sprite",jm===void 0){jm=new xn;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Z1(e,5);jm.setIndex([0,1,2,0,2,3]),jm.setAttribute("position",new xp(i,3,0,!1)),jm.setAttribute("uv",new xp(i,2,3,!1))}this.geometry=jm,this.material=t,this.center=new Jt(.5,.5),this.count=1}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Vm.setFromMatrixScale(this.matrixWorld),xz.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Gm.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Vm.multiplyScalar(-Gm.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;nx(tx.set(-.5,-.5,0),Gm,o,Vm,r,a),nx(kv.set(.5,-.5,0),Gm,o,Vm,r,a),nx(ex.set(.5,.5,0),Gm,o,Vm,r,a),UO.set(0,0),$M.set(1,0),zO.set(1,1);let l=t.ray.intersectTriangle(tx,kv,ex,!1,Fv);if(l===null&&(nx(kv.set(-.5,.5,0),Gm,o,Vm,r,a),$M.set(0,1),l=t.ray.intersectTriangle(tx,ex,kv,!1,Fv),l===null))return;const h=t.ray.origin.distanceTo(Fv);h<t.near||h>t.far||e.push({distance:h,point:Fv.clone(),uv:Ks.getInterpolation(Fv,tx,kv,ex,UO,$M,zO,new Jt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function nx(n,t,e,i,r,a){qm.subVectors(n,e).addScalar(.5).multiply(i),r!==void 0?(Hv.x=a*qm.x-r*qm.y,Hv.y=r*qm.x+a*qm.y):Hv.copy(qm),n.copy(t),n.x+=Hv.x,n.y+=Hv.y,n.applyMatrix4(xz)}const ix=new at,IO=new at;class Sz extends Zn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,r=e.length;i<r;i++){const a=e[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const r=this.levels;let a;for(a=0;a<r.length&&!(e<r[a].distance);a++);return r.splice(a,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const r=e.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,r;for(i=1,r=e.length;i<r;i++){let a=e[i].distance;if(e[i].object.visible&&(a-=a*e[i].hysteresis),t<a)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){ix.setFromMatrixPosition(this.matrixWorld);const r=t.ray.origin.distanceTo(ix);this.getObjectForDistance(r).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){ix.setFromMatrixPosition(t.matrixWorld),IO.setFromMatrixPosition(this.matrixWorld);const i=ix.distanceTo(IO)/t.zoom;e[0].object.visible=!0;let r,a;for(r=1,a=e.length;r<a;r++){let o=e[r].distance;if(e[r].object.visible&&(o-=o*e[r].hysteresis),i>=o)e[r-1].object.visible=!1,e[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)e[r].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const BO=new at,FO=new Jn,HO=new Jn,S6=new at,kO=new mn,rx=new at,JM=new Fa,jO=new mn,tE=new Pp;class Mz extends Dr{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Sw,this.bindMatrix=new mn,this.bindMatrixInverse=new mn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new ss),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,rx),this.boundingBox.expandByPoint(rx)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fa),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,rx),this.boundingSphere.expandByPoint(rx)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),JM.copy(this.boundingSphere),JM.applyMatrix4(r),t.ray.intersectsSphere(JM)!==!1&&(jO.copy(r).invert(),tE.copy(t.ray).applyMatrix4(jO),!(this.boundingBox!==null&&tE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,tE)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Jn,e=this.geometry.attributes.skinWeight;for(let i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);const a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===Sw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$U?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,r=this.geometry;FO.fromBufferAttribute(r.attributes.skinIndex,t),HO.fromBufferAttribute(r.attributes.skinWeight,t),BO.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let a=0;a<4;a++){const o=HO.getComponent(a);if(o!==0){const l=FO.getComponent(a);kO.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),e.addScaledVector(S6.copy(BO).applyMatrix4(kO),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class $A extends Zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vc extends $i{constructor(t=null,e=1,i=1,r,a,o,l,h,d=Ia,g=Ia,v,_){super(null,o,l,h,d,g,r,a,v,_),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const VO=new mn,M6=new mn;class K1{constructor(t=[],e=[]){this.uuid=Uo(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new mn)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new mn;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=t.length;a<o;a++){const l=t[a]?t[a].matrixWorld:M6;VO.multiplyMatrices(l,e[a]),VO.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new K1(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new vc(e,t,t,is,$s);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const r=this.bones[e];if(r.name===t)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,r=t.bones.length;i<r;i++){const a=t.bones[i];let o=e[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new $A),this.bones.push(o),this.boneInverses.push(new mn().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let r=0,a=e.length;r<a;r++){const o=e[r];t.bones.push(o.uuid);const l=i[r];t.boneInverses.push(l.toArray())}return t}}class _g extends wi{constructor(t,e,i,r=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Wm=new mn,GO=new mn,ax=[],qO=new ss,E6=new mn,jv=new Dr,Vv=new Fa;class Ez extends Dr{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new _g(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,E6)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new ss),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Wm),qO.copy(t.boundingBox).applyMatrix4(Wm),this.boundingBox.union(qO)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fa),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Wm),Vv.copy(t.boundingSphere).applyMatrix4(Wm),this.boundingSphere.union(Vv)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=t*a+1;for(let l=0;l<i.length;l++)i[l]=r[o+l]}raycast(t,e){const i=this.matrixWorld,r=this.count;if(jv.geometry=this.geometry,jv.material=this.material,jv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Vv.copy(this.boundingSphere),Vv.applyMatrix4(i),t.ray.intersectsSphere(Vv)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Wm),GO.multiplyMatrices(i,Wm),jv.matrixWorld=GO,jv.raycast(t,ax);for(let o=0,l=ax.length;o<l;o++){const h=ax[o];h.instanceId=a,h.object=this,e.push(h)}ax.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new _g(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new vc(new Float32Array(r*this.count),r,this.count,H1,$s));const a=this.morphTexture.source.data.data;let o=0;for(let d=0;d<i.length;d++)o+=i[d];const l=this.geometry.morphTargetsRelative?1:1-o,h=r*t;a[h]=l,a.set(i,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const eE=new at,T6=new at,w6=new Cn;class uf{constructor(t=new at(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=eE.subVectors(i,e).cross(T6.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(eE),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const a=-(t.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:e.copy(t.start).addScaledVector(i,a)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||w6.getNormalMatrix(t),r=this.coplanarPoint(eE).applyMatrix4(t),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ud=new Fa,A6=new Jt(.5,.5),sx=new at;class Dg{constructor(t=new uf,e=new uf,i=new uf,r=new uf,a=new uf,o=new uf){this.planes=[t,e,i,r,a,o]}set(t,e,i,r,a,o){const l=this.planes;return l[0].copy(t),l[1].copy(e),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=No,i=!1){const r=this.planes,a=t.elements,o=a[0],l=a[1],h=a[2],d=a[3],g=a[4],v=a[5],_=a[6],b=a[7],M=a[8],A=a[9],T=a[10],E=a[11],O=a[12],P=a[13],z=a[14],F=a[15];if(r[0].setComponents(d-o,b-g,E-M,F-O).normalize(),r[1].setComponents(d+o,b+g,E+M,F+O).normalize(),r[2].setComponents(d+l,b+v,E+A,F+P).normalize(),r[3].setComponents(d-l,b-v,E-A,F-P).normalize(),i)r[4].setComponents(h,_,T,z).normalize(),r[5].setComponents(d-h,b-_,E-T,F-z).normalize();else if(r[4].setComponents(d-h,b-_,E-T,F-z).normalize(),e===No)r[5].setComponents(d+h,b+_,E+T,F+z).normalize();else if(e===gg)r[5].setComponents(h,_,T,z).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Ud.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Ud.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Ud)}intersectsSprite(t){Ud.center.set(0,0,0);const e=A6.distanceTo(t.center);return Ud.radius=.7071067811865476+e,Ud.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ud)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let a=0;a<6;a++)if(e[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(sx.x=r.normal.x>0?t.max.x:t.min.x,sx.y=r.normal.y>0?t.max.y:t.min.y,sx.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(sx)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const cc=new mn,fc=new Dg;class Q1{constructor(){this.coordinateSystem=No}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(cc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fc.setFromProjectionMatrix(cc,r.coordinateSystem,r.reversedDepth),fc.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(cc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fc.setFromProjectionMatrix(cc,r.coordinateSystem,r.reversedDepth),fc.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(cc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fc.setFromProjectionMatrix(cc,r.coordinateSystem,r.reversedDepth),fc.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(cc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fc.setFromProjectionMatrix(cc,r.coordinateSystem,r.reversedDepth),fc.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(cc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fc.setFromProjectionMatrix(cc,r.coordinateSystem,r.reversedDepth),fc.containsPoint(t))return!0}return!1}clone(){return new Q1}}function nE(n,t){return n-t}function C6(n,t){return n.z-t.z}function R6(n,t){return t.z-n.z}class O6{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];o.push(l),this.index++,l.start=t,l.count=e,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Xs=new mn,P6=new Ee(1,1,1),WO=new Dg,D6=new Q1,ox=new ss,zd=new Fa,Gv=new at,XO=new at,L6=new at,iE=new O6,Ja=new Dr,lx=[];function N6(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)t.setComponent(a+e,o,n.getComponent(a,o))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function Id(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class Tz extends Dr{constructor(t,e,i=e*2,r){super(new xn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new vc(e,t,t,is,$s);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new vc(e,t,t,n0,Ef);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new vc(e,t,t,is,$s);i.colorSpace=qn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in t.attributes){const o=t.getAttribute(a),{array:l,itemSize:h,normalized:d}=o,g=new l.constructor(i*h),v=new wi(g,h,d);e.setAttribute(a,v)}if(t.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);e.setIndex(new wi(a,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=t.getAttribute(i),a=e.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ss);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Xs),this.getBoundingBoxAt(a,ox).applyMatrix4(Xs),t.union(ox)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fa);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Xs),this.getBoundingSphereAt(a,zd).applyMatrix4(Xs),t.union(zd)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(nE),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Xs.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(P6.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(nE),h=this._availableGeometryIds.shift(),a[h]=r):(h=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(h,t),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,h}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=e.getIndex(),l=this._geometryInfo[t];if(r&&o.count>l.reservedIndexCount||e.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=l.vertexStart,d=l.reservedVertexCount;l.vertexCount=e.getAttribute("position").count;for(const g in i.attributes){const v=e.getAttribute(g),_=i.getAttribute(g);N6(v,_,h);const b=v.itemSize;for(let M=v.count,A=d;M<A;M++){const T=h+M;for(let E=0;E<b;E++)_.setComponent(T,E,0)}_.needsUpdate=!0,_.addUpdateRange(h*b,d*b)}if(r){const g=l.indexStart,v=l.reservedIndexCount;l.indexCount=e.getIndex().count;for(let _=0;_<o.count;_++)a.setX(g+_,h+o.getX(_));for(let _=o.count,b=v;_<b;_++)a.setX(g+_,h);a.needsUpdate=!0,a.addUpdateRange(g,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,e.boundingBox!==null&&(l.boundingBox=e.boundingBox.clone()),l.boundingSphere=null,e.boundingSphere!==null&&(l.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===t&&this.deleteInstance(r);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,r=i.map((o,l)=>l).sort((o,l)=>i[o].vertexStart-i[l].vertexStart),a=this.geometry;for(let o=0,l=i.length;o<l;o++){const h=r[o],d=i[h];if(d.active!==!1){if(a.index!==null){if(d.indexStart!==e){const{indexStart:g,vertexStart:v,reservedIndexCount:_}=d,b=a.index,M=b.array,A=t-v;for(let T=g;T<g+_;T++)M[T]=M[T]+A;b.array.copyWithin(e,g,g+_),b.addUpdateRange(e,_),d.indexStart=e}e+=d.reservedIndexCount}if(d.vertexStart!==t){const{vertexStart:g,reservedVertexCount:v}=d,_=a.attributes;for(const b in _){const M=_[b],{array:A,itemSize:T}=M;A.copyWithin(t*T,g*T,(g+v)*T),M.addUpdateRange(t*T,v*T)}d.vertexStart=t}t+=d.reservedVertexCount,d.start=a.index?d.indexStart:d.vertexStart,this._nextIndexStart=a.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(r.boundingBox===null){const a=new ss,o=i.index,l=i.attributes.position;for(let h=r.start,d=r.start+r.count;h<d;h++){let g=h;o&&(g=o.getX(g)),a.expandByPoint(Gv.fromBufferAttribute(l,g))}r.boundingBox=a}return e.copy(r.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(r.boundingSphere===null){const a=new Fa;this.getBoundingBoxAt(t,ox),ox.getCenter(a.center);const o=i.index,l=i.attributes.position;let h=0;for(let d=r.start,g=r.start+r.count;d<g;d++){let v=d;o&&(v=o.getX(v)),Gv.fromBufferAttribute(l,v),h=Math.max(h,a.center.distanceToSquared(Gv))}a.radius=Math.sqrt(h),r.boundingSphere=a}return e.copy(r.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,r=this._matricesTexture.image.data;return e.toArray(r,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(nE);e[e.length-1]===i.length-1;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const r=new Int32Array(t),a=new Int32Array(t);Id(this._multiDrawCounts,r),Id(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=t;const o=this._indirectTexture,l=this._matricesTexture,h=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Id(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Id(l.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),Id(h.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new xn,this._initializeGeometry(a));const o=this.geometry;a.index&&Id(a.index.array,o.index.array);for(const l in a.attributes)Id(a.attributes[l].array,o.attributes[l].array)}raycast(t,e){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Ja.material=this.material,Ja.geometry.index=o.index,Ja.geometry.attributes=o.attributes,Ja.geometry.boundingBox===null&&(Ja.geometry.boundingBox=new ss),Ja.geometry.boundingSphere===null&&(Ja.geometry.boundingSphere=new Fa);for(let l=0,h=i.length;l<h;l++){if(!i[l].visible||!i[l].active)continue;const d=i[l].geometryIndex,g=r[d];Ja.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(l,Ja.matrixWorld).premultiply(a),this.getBoundingBoxAt(d,Ja.geometry.boundingBox),this.getBoundingSphereAt(d,Ja.geometry.boundingSphere),Ja.raycast(t,lx);for(let v=0,_=lx.length;v<_;v++){const b=lx[v];b.object=this,b.batchId=l,e.push(b)}lx.length=0}Ja.material=null,Ja.geometry.index=null,Ja.geometry.attributes={},Ja.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,h=this._instanceInfo,d=this._multiDrawStarts,g=this._multiDrawCounts,v=this._geometryInfo,_=this.perObjectFrustumCulled,b=this._indirectTexture,M=b.image.data,A=i.isArrayCamera?D6:WO;_&&!i.isArrayCamera&&(Xs.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),WO.setFromProjectionMatrix(Xs,i.coordinateSystem,i.reversedDepth));let T=0;if(this.sortObjects){Xs.copy(this.matrixWorld).invert(),Gv.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Xs),XO.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Xs);for(let P=0,z=h.length;P<z;P++)if(h[P].visible&&h[P].active){const F=h[P].geometryIndex;this.getMatrixAt(P,Xs),this.getBoundingSphereAt(F,zd).applyMatrix4(Xs);let I=!1;if(_&&(I=!A.intersectsSphere(zd,i)),!I){const q=v[F],Y=L6.subVectors(zd.center,Gv).dot(XO);iE.push(q.start,q.count,Y,P)}}const E=iE.list,O=this.customSort;O===null?E.sort(a.transparent?R6:C6):O.call(this,E,i);for(let P=0,z=E.length;P<z;P++){const F=E[P];d[T]=F.start*l,g[T]=F.count,M[T]=F.index,T++}iE.reset()}else for(let E=0,O=h.length;E<O;E++)if(h[E].visible&&h[E].active){const P=h[E].geometryIndex;let z=!1;if(_&&(this.getMatrixAt(E,Xs),this.getBoundingSphereAt(P,zd).applyMatrix4(Xs),z=!A.intersectsSphere(zd,i)),!z){const F=v[P];d[T]=F.start*l,g[T]=F.count,M[T]=E,T++}}b.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(t,e,i,r,a,o){this.onBeforeRender(t,null,r,a,o)}}class ls extends os{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ee(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Gb=new at,qb=new at,YO=new mn,qv=new Pp,ux=new Fa,rE=new at,ZO=new at;let Tf=class extends Zn{constructor(t=new xn,e=new ls){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let r=1,a=e.count;r<a;r++)Gb.fromBufferAttribute(e,r-1),qb.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=Gb.distanceTo(qb);t.setAttribute("lineDistance",new ze(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,a=t.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ux.copy(i.boundingSphere),ux.applyMatrix4(r),ux.radius+=a,t.ray.intersectsSphere(ux)===!1)return;YO.copy(r).invert(),qv.copy(t.ray).applyMatrix4(YO);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,d=this.isLineSegments?2:1,g=i.index,_=i.attributes.position;if(g!==null){const b=Math.max(0,o.start),M=Math.min(g.count,o.start+o.count);for(let A=b,T=M-1;A<T;A+=d){const E=g.getX(A),O=g.getX(A+1),P=cx(this,t,qv,h,E,O,A);P&&e.push(P)}if(this.isLineLoop){const A=g.getX(M-1),T=g.getX(b),E=cx(this,t,qv,h,A,T,M-1);E&&e.push(E)}}else{const b=Math.max(0,o.start),M=Math.min(_.count,o.start+o.count);for(let A=b,T=M-1;A<T;A+=d){const E=cx(this,t,qv,h,A,A+1,A);E&&e.push(E)}if(this.isLineLoop){const A=cx(this,t,qv,h,M-1,b,M-1);A&&e.push(A)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}};function cx(n,t,e,i,r,a,o){const l=n.geometry.attributes.position;if(Gb.fromBufferAttribute(l,r),qb.fromBufferAttribute(l,a),e.distanceSqToSegment(Gb,qb,rE,ZO)>i)return;rE.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(rE);if(!(d<t.near||d>t.far))return{distance:d,point:ZO.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const KO=new at,QO=new at;class Sc extends Tf{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let r=0,a=e.count;r<a;r+=2)KO.fromBufferAttribute(e,r),QO.fromBufferAttribute(e,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+KO.distanceTo(QO);t.setAttribute("lineDistance",new ze(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class wz extends Tf{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class JA extends os{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ee(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const $O=new mn,Tw=new Pp,fx=new Fa,hx=new at;class Az extends Zn{constructor(t=new xn,e=new JA){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,a=t.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),fx.copy(i.boundingSphere),fx.applyMatrix4(r),fx.radius+=a,t.ray.intersectsSphere(fx)===!1)return;$O.copy(r).invert(),Tw.copy(t.ray).applyMatrix4($O);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,d=i.index,v=i.attributes.position;if(d!==null){const _=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);for(let M=_,A=b;M<A;M++){const T=d.getX(M);hx.fromBufferAttribute(v,T),JO(hx,T,h,r,t,e,this)}}else{const _=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let M=_,A=b;M<A;M++)hx.fromBufferAttribute(v,M),JO(hx,M,h,r,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function JO(n,t,e,i,r,a,o){const l=Tw.distanceSqToPoint(n);if(l<e){const h=new at;Tw.closestPointToPoint(n,h),h.applyMatrix4(i);const d=r.ray.origin.distanceTo(h);if(d<r.near||d>r.far)return;a.push({distance:d,distanceToRay:Math.sqrt(l),point:h,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class Cz extends $i{constructor(t,e,i,r,a=cr,o=cr,l,h,d){super(t,e,i,r,a,o,l,h,d),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const g=this;function v(){g.needsUpdate=!0,g._requestVideoFrameCallbackId=t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&&(this._requestVideoFrameCallbackId=t.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class U6 extends Cz{constructor(t,e,i,r,a,o,l,h){super({},t,e,i,r,a,o,l,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class z6 extends $i{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Ia,this.minFilter=Ia,this.generateMipmaps=!1,this.needsUpdate=!0}}class $1 extends $i{constructor(t,e,i,r,a,o,l,h,d,g,v,_){super(null,o,l,h,d,g,r,a,v,_),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class I6 extends $1{constructor(t,e,i,r,a,o){super(t,e,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ga,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class B6 extends $1{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,Mf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class tC extends $i{constructor(t,e,i,r,a,o,l,h,d){super(t,e,i,r,a,o,l,h,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class eC extends $i{constructor(t,e,i=Ef,r,a,o,l=Ia,h=Ia,d,g=pg,v=1){if(g!==pg&&g!==mg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const _={width:t,height:e,depth:v};super(_,r,a,o,l,h,g,i,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Uh(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class nC extends $i{constructor(t=null){super(),this.sourceTexture=t,this.isExternalTexture=!0}copy(t){return super.copy(t),this.sourceTexture=t.sourceTexture,this}}class J1 extends xn{constructor(t=1,e=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:i,radialSegments:r,heightSegments:a},e=Math.max(0,e),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],l=[],h=[],d=[],g=e/2,v=Math.PI/2*t,_=e,b=2*v+_,M=i*2+a,A=r+1,T=new at,E=new at;for(let O=0;O<=M;O++){let P=0,z=0,F=0,I=0;if(O<=i){const G=O/i,j=G*Math.PI/2;z=-g-t*Math.cos(j),F=t*Math.sin(j),I=-t*Math.cos(j),P=G*v}else if(O<=i+a){const G=(O-i)/a;z=-g+G*e,F=t,I=0,P=v+G*_}else{const G=(O-i-a)/i,j=G*Math.PI/2;z=g+t*Math.sin(j),F=t*Math.cos(j),I=t*Math.sin(j),P=v+_+G*v}const q=Math.max(0,Math.min(1,P/b));let Y=0;O===0?Y=.5/r:O===M&&(Y=-.5/r);for(let G=0;G<=r;G++){const j=G/r,K=j*Math.PI*2,st=Math.sin(K),lt=Math.cos(K);E.x=-F*lt,E.y=z,E.z=F*st,l.push(E.x,E.y,E.z),T.set(-F*lt,I,F*st),T.normalize(),h.push(T.x,T.y,T.z),d.push(j+Y,q)}if(O>0){const G=(O-1)*A;for(let j=0;j<r;j++){const K=G+j,st=G+j+1,lt=O*A+j,dt=O*A+j+1;o.push(K,st,lt),o.push(st,dt,lt)}}}this.setIndex(o),this.setAttribute("position",new ze(l,3)),this.setAttribute("normal",new ze(h,3)),this.setAttribute("uv",new ze(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new J1(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class r0 extends xn{constructor(t=1,e=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},e=Math.max(3,e);const a=[],o=[],l=[],h=[],d=new at,g=new Jt;o.push(0,0,0),l.push(0,0,1),h.push(.5,.5);for(let v=0,_=3;v<=e;v++,_+=3){const b=i+v/e*r;d.x=t*Math.cos(b),d.y=t*Math.sin(b),o.push(d.x,d.y,d.z),l.push(0,0,1),g.x=(o[_]/t+1)/2,g.y=(o[_+1]/t+1)/2,h.push(g.x,g.y)}for(let v=1;v<=e;v++)a.push(v,v+1,0);this.setIndex(a),this.setAttribute("position",new ze(o,3)),this.setAttribute("normal",new ze(l,3)),this.setAttribute("uv",new ze(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new r0(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class a0 extends xn{constructor(t=1,e=1,i=1,r=32,a=1,o=!1,l=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:h};const d=this;r=Math.floor(r),a=Math.floor(a);const g=[],v=[],_=[],b=[];let M=0;const A=[],T=i/2;let E=0;O(),o===!1&&(t>0&&P(!0),e>0&&P(!1)),this.setIndex(g),this.setAttribute("position",new ze(v,3)),this.setAttribute("normal",new ze(_,3)),this.setAttribute("uv",new ze(b,2));function O(){const z=new at,F=new at;let I=0;const q=(e-t)/i;for(let Y=0;Y<=a;Y++){const G=[],j=Y/a,K=j*(e-t)+t;for(let st=0;st<=r;st++){const lt=st/r,dt=lt*h+l,vt=Math.sin(dt),X=Math.cos(dt);F.x=K*vt,F.y=-j*i+T,F.z=K*X,v.push(F.x,F.y,F.z),z.set(vt,q,X).normalize(),_.push(z.x,z.y,z.z),b.push(lt,1-j),G.push(M++)}A.push(G)}for(let Y=0;Y<r;Y++)for(let G=0;G<a;G++){const j=A[G][Y],K=A[G+1][Y],st=A[G+1][Y+1],lt=A[G][Y+1];(t>0||G!==0)&&(g.push(j,K,lt),I+=3),(e>0||G!==a-1)&&(g.push(K,st,lt),I+=3)}d.addGroup(E,I,0),E+=I}function P(z){const F=M,I=new Jt,q=new at;let Y=0;const G=z===!0?t:e,j=z===!0?1:-1;for(let st=1;st<=r;st++)v.push(0,T*j,0),_.push(0,j,0),b.push(.5,.5),M++;const K=M;for(let st=0;st<=r;st++){const dt=st/r*h+l,vt=Math.cos(dt),X=Math.sin(dt);q.x=G*X,q.y=T*j,q.z=G*vt,v.push(q.x,q.y,q.z),_.push(0,j,0),I.x=vt*.5+.5,I.y=X*.5*j+.5,b.push(I.x,I.y),M++}for(let st=0;st<r;st++){const lt=F+st,dt=K+st;z===!0?g.push(dt,dt+1,lt):g.push(dt+1,dt,lt),Y+=3}d.addGroup(E,Y,z===!0?1:2),E+=Y}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new a0(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class s0 extends a0{constructor(t=1,e=1,i=32,r=1,a=!1,o=0,l=Math.PI*2){super(0,t,e,i,r,a,o,l),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:l}}static fromJSON(t){return new s0(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Vh extends xn{constructor(t=[],e=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r};const a=[],o=[];l(r),d(i),g(),this.setAttribute("position",new ze(a,3)),this.setAttribute("normal",new ze(a.slice(),3)),this.setAttribute("uv",new ze(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(O){const P=new at,z=new at,F=new at;for(let I=0;I<e.length;I+=3)b(e[I+0],P),b(e[I+1],z),b(e[I+2],F),h(P,z,F,O)}function h(O,P,z,F){const I=F+1,q=[];for(let Y=0;Y<=I;Y++){q[Y]=[];const G=O.clone().lerp(z,Y/I),j=P.clone().lerp(z,Y/I),K=I-Y;for(let st=0;st<=K;st++)st===0&&Y===I?q[Y][st]=G:q[Y][st]=G.clone().lerp(j,st/K)}for(let Y=0;Y<I;Y++)for(let G=0;G<2*(I-Y)-1;G++){const j=Math.floor(G/2);G%2===0?(_(q[Y][j+1]),_(q[Y+1][j]),_(q[Y][j])):(_(q[Y][j+1]),_(q[Y+1][j+1]),_(q[Y+1][j]))}}function d(O){const P=new at;for(let z=0;z<a.length;z+=3)P.x=a[z+0],P.y=a[z+1],P.z=a[z+2],P.normalize().multiplyScalar(O),a[z+0]=P.x,a[z+1]=P.y,a[z+2]=P.z}function g(){const O=new at;for(let P=0;P<a.length;P+=3){O.x=a[P+0],O.y=a[P+1],O.z=a[P+2];const z=T(O)/2/Math.PI+.5,F=E(O)/Math.PI+.5;o.push(z,1-F)}M(),v()}function v(){for(let O=0;O<o.length;O+=6){const P=o[O+0],z=o[O+2],F=o[O+4],I=Math.max(P,z,F),q=Math.min(P,z,F);I>.9&&q<.1&&(P<.2&&(o[O+0]+=1),z<.2&&(o[O+2]+=1),F<.2&&(o[O+4]+=1))}}function _(O){a.push(O.x,O.y,O.z)}function b(O,P){const z=O*3;P.x=t[z+0],P.y=t[z+1],P.z=t[z+2]}function M(){const O=new at,P=new at,z=new at,F=new at,I=new Jt,q=new Jt,Y=new Jt;for(let G=0,j=0;G<a.length;G+=9,j+=6){O.set(a[G+0],a[G+1],a[G+2]),P.set(a[G+3],a[G+4],a[G+5]),z.set(a[G+6],a[G+7],a[G+8]),I.set(o[j+0],o[j+1]),q.set(o[j+2],o[j+3]),Y.set(o[j+4],o[j+5]),F.copy(O).add(P).add(z).divideScalar(3);const K=T(F);A(I,j+0,O,K),A(q,j+2,P,K),A(Y,j+4,z,K)}}function A(O,P,z,F){F<0&&O.x===1&&(o[P]=O.x-1),z.x===0&&z.z===0&&(o[P]=F/2/Math.PI+.5)}function T(O){return Math.atan2(O.z,-O.x)}function E(O){return Math.atan2(-O.y,Math.sqrt(O.x*O.x+O.z*O.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Vh(t.vertices,t.indices,t.radius,t.details)}}class tS extends Vh{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new tS(t.radius,t.detail)}}const dx=new at,px=new at,aE=new at,mx=new Ks;class Rz extends xn{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const r=Math.pow(10,4),a=Math.cos(fp*e),o=t.getIndex(),l=t.getAttribute("position"),h=o?o.count:l.count,d=[0,0,0],g=["a","b","c"],v=new Array(3),_={},b=[];for(let M=0;M<h;M+=3){o?(d[0]=o.getX(M),d[1]=o.getX(M+1),d[2]=o.getX(M+2)):(d[0]=M,d[1]=M+1,d[2]=M+2);const{a:A,b:T,c:E}=mx;if(A.fromBufferAttribute(l,d[0]),T.fromBufferAttribute(l,d[1]),E.fromBufferAttribute(l,d[2]),mx.getNormal(aE),v[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,v[1]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,v[2]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let O=0;O<3;O++){const P=(O+1)%3,z=v[O],F=v[P],I=mx[g[O]],q=mx[g[P]],Y=`${z}_${F}`,G=`${F}_${z}`;G in _&&_[G]?(aE.dot(_[G].normal)<=a&&(b.push(I.x,I.y,I.z),b.push(q.x,q.y,q.z)),_[G]=null):Y in _||(_[Y]={index0:d[O],index1:d[P],normal:aE.clone()})}}for(const M in _)if(_[M]){const{index0:A,index1:T}=_[M];dx.fromBufferAttribute(l,A),px.fromBufferAttribute(l,T),b.push(dx.x,dx.y,dx.z),b.push(px.x,px.y,px.z)}this.setAttribute("position",new ze(b,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}let Mu=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,r=this.getPoint(0),a=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),a+=i.distanceTo(r),e.push(a),r=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let r=0;const a=i.length;let o;e?o=e:o=t*i[a-1];let l=0,h=a-1,d;for(;l<=h;)if(r=Math.floor(l+(h-l)/2),d=i[r]-o,d<0)l=r+1;else if(d>0)h=r-1;else{h=r;break}if(r=h,i[r]===o)return r/(a-1);const g=i[r],_=i[r+1]-g,b=(o-g)/_;return(r+b)/(a-1)}getTangent(t,e){let r=t-1e-4,a=t+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),l=this.getPoint(a),h=e||(o.isVector2?new Jt:new at);return h.copy(l).sub(o).normalize(),h}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new at,r=[],a=[],o=[],l=new at,h=new mn;for(let b=0;b<=t;b++){const M=b/t;r[b]=this.getTangentAt(M,new at)}a[0]=new at,o[0]=new at;let d=Number.MAX_VALUE;const g=Math.abs(r[0].x),v=Math.abs(r[0].y),_=Math.abs(r[0].z);g<=d&&(d=g,i.set(1,0,0)),v<=d&&(d=v,i.set(0,1,0)),_<=d&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),o[0].crossVectors(r[0],a[0]);for(let b=1;b<=t;b++){if(a[b]=a[b-1].clone(),o[b]=o[b-1].clone(),l.crossVectors(r[b-1],r[b]),l.length()>Number.EPSILON){l.normalize();const M=Math.acos(dn(r[b-1].dot(r[b]),-1,1));a[b].applyMatrix4(h.makeRotationAxis(l,M))}o[b].crossVectors(r[b],a[b])}if(e===!0){let b=Math.acos(dn(a[0].dot(a[t]),-1,1));b/=t,r[0].dot(l.crossVectors(a[0],a[t]))>0&&(b=-b);for(let M=1;M<=t;M++)a[M].applyMatrix4(h.makeRotationAxis(r[M],b*M)),o[M].crossVectors(r[M],a[M])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}};class eS extends Mu{constructor(t=0,e=0,i=1,r=1,a=0,o=Math.PI*2,l=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=l,this.aRotation=h}getPoint(t,e=new Jt){const i=e,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+t*a;let h=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const g=Math.cos(this.aRotation),v=Math.sin(this.aRotation),_=h-this.aX,b=d-this.aY;h=_*g-b*v+this.aX,d=_*v+b*g+this.aY}return i.set(h,d)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class Oz extends eS{constructor(t,e,i,r,a,o){super(t,e,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function iC(){let n=0,t=0,e=0,i=0;function r(a,o,l,h){n=a,t=l,e=-3*a+3*o-2*l-h,i=2*a-2*o+l+h}return{initCatmullRom:function(a,o,l,h,d){r(o,l,d*(l-a),d*(h-o))},initNonuniformCatmullRom:function(a,o,l,h,d,g,v){let _=(o-a)/d-(l-a)/(d+g)+(l-o)/g,b=(l-o)/g-(h-o)/(g+v)+(h-l)/v;_*=g,b*=g,r(o,l,_,b)},calc:function(a){const o=a*a,l=o*a;return n+t*a+e*o+i*l}}}const gx=new at,sE=new iC,oE=new iC,lE=new iC;class Pz extends Mu{constructor(t=[],e=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=r}getPoint(t,e=new at){const i=e,r=this.points,a=r.length,o=(a-(this.closed?0:1))*t;let l=Math.floor(o),h=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:h===0&&l===a-1&&(l=a-2,h=1);let d,g;this.closed||l>0?d=r[(l-1)%a]:(gx.subVectors(r[0],r[1]).add(r[0]),d=gx);const v=r[l%a],_=r[(l+1)%a];if(this.closed||l+2<a?g=r[(l+2)%a]:(gx.subVectors(r[a-1],r[a-2]).add(r[a-1]),g=gx),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let M=Math.pow(d.distanceToSquared(v),b),A=Math.pow(v.distanceToSquared(_),b),T=Math.pow(_.distanceToSquared(g),b);A<1e-4&&(A=1),M<1e-4&&(M=A),T<1e-4&&(T=A),sE.initNonuniformCatmullRom(d.x,v.x,_.x,g.x,M,A,T),oE.initNonuniformCatmullRom(d.y,v.y,_.y,g.y,M,A,T),lE.initNonuniformCatmullRom(d.z,v.z,_.z,g.z,M,A,T)}else this.curveType==="catmullrom"&&(sE.initCatmullRom(d.x,v.x,_.x,g.x,this.tension),oE.initCatmullRom(d.y,v.y,_.y,g.y,this.tension),lE.initCatmullRom(d.z,v.z,_.z,g.z,this.tension));return i.set(sE.calc(h),oE.calc(h),lE.calc(h)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new at().fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function tP(n,t,e,i,r){const a=(i-t)*.5,o=(r-e)*.5,l=n*n,h=n*l;return(2*e-2*i+a+o)*h+(-3*e+3*i-2*a-o)*l+a*n+e}function F6(n,t){const e=1-n;return e*e*t}function H6(n,t){return 2*(1-n)*n*t}function k6(n,t){return n*n*t}function gy(n,t,e,i){return F6(n,t)+H6(n,e)+k6(n,i)}function j6(n,t){const e=1-n;return e*e*e*t}function V6(n,t){const e=1-n;return 3*e*e*n*t}function G6(n,t){return 3*(1-n)*n*n*t}function q6(n,t){return n*n*n*t}function vy(n,t,e,i,r){return j6(n,t)+V6(n,e)+G6(n,i)+q6(n,r)}class rC extends Mu{constructor(t=new Jt,e=new Jt,i=new Jt,r=new Jt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new Jt){const i=e,r=this.v0,a=this.v1,o=this.v2,l=this.v3;return i.set(vy(t,r.x,a.x,o.x,l.x),vy(t,r.y,a.y,o.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Dz extends Mu{constructor(t=new at,e=new at,i=new at,r=new at){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new at){const i=e,r=this.v0,a=this.v1,o=this.v2,l=this.v3;return i.set(vy(t,r.x,a.x,o.x,l.x),vy(t,r.y,a.y,o.y,l.y),vy(t,r.z,a.z,o.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class aC extends Mu{constructor(t=new Jt,e=new Jt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Jt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Jt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Lz extends Mu{constructor(t=new at,e=new at){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new at){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new at){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class sC extends Mu{constructor(t=new Jt,e=new Jt,i=new Jt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Jt){const i=e,r=this.v0,a=this.v1,o=this.v2;return i.set(gy(t,r.x,a.x,o.x),gy(t,r.y,a.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class oC extends Mu{constructor(t=new at,e=new at,i=new at){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new at){const i=e,r=this.v0,a=this.v1,o=this.v2;return i.set(gy(t,r.x,a.x,o.x),gy(t,r.y,a.y,o.y),gy(t,r.z,a.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class lC extends Mu{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Jt){const i=e,r=this.points,a=(r.length-1)*t,o=Math.floor(a),l=a-o,h=r[o===0?o:o-1],d=r[o],g=r[o>r.length-2?r.length-1:o+1],v=r[o>r.length-3?r.length-1:o+2];return i.set(tP(l,h.x,d.x,g.x,v.x),tP(l,h.y,d.y,g.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new Jt().fromArray(r))}return this}}var Wb=Object.freeze({__proto__:null,ArcCurve:Oz,CatmullRomCurve3:Pz,CubicBezierCurve:rC,CubicBezierCurve3:Dz,EllipseCurve:eS,LineCurve:aC,LineCurve3:Lz,QuadraticBezierCurve:sC,QuadraticBezierCurve3:oC,SplineCurve:lC});class Nz extends Mu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Wb[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,l=this.curves[a],h=l.getLength(),d=h===0?0:1-o/h;return l.getPointAt(d,e)}a++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],l=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,h=o.getPoints(l);for(let d=0;d<h.length;d++){const g=h[d];i&&i.equals(g)||(e.push(g),i=g)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const r=this.curves[e];t.curves.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(new Wb[r.type]().fromJSON(r))}return this}}let Xb=class extends Nz{constructor(t){super(),this.type="Path",this.currentPoint=new Jt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new aC(this.currentPoint.clone(),new Jt(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,r){const a=new sC(this.currentPoint.clone(),new Jt(t,e),new Jt(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(t,e,i,r,a,o){const l=new rC(this.currentPoint.clone(),new Jt(t,e),new Jt(i,r),new Jt(a,o));return this.curves.push(l),this.currentPoint.set(a,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new lC(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,r,a,o){const l=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+l,e+h,i,r,a,o),this}absarc(t,e,i,r,a,o){return this.absellipse(t,e,i,i,r,a,o),this}ellipse(t,e,i,r,a,o,l,h){const d=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(t+d,e+g,i,r,a,o,l,h),this}absellipse(t,e,i,r,a,o,l,h){const d=new eS(t,e,i,r,a,o,l,h);if(this.curves.length>0){const v=d.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(d);const g=d.getPoint(1);return this.currentPoint.copy(g),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}},hp=class extends Xb{constructor(t){super(t),this.uuid=Uo(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const r=this.holes[e];t.holes.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(new Xb().fromJSON(r))}return this}};function W6(n,t,e=2){const i=t&&t.length,r=i?t[0]*e:n.length;let a=Uz(n,0,r,e,!0);const o=[];if(!a||a.next===a.prev)return o;let l,h,d;if(i&&(a=Q6(n,t,a,e)),n.length>80*e){l=1/0,h=1/0;let g=-1/0,v=-1/0;for(let _=e;_<r;_+=e){const b=n[_],M=n[_+1];b<l&&(l=b),M<h&&(h=M),b>g&&(g=b),M>v&&(v=M)}d=Math.max(g-l,v-h),d=d!==0?32767/d:0}return Ny(a,o,e,l,h,d,0),o}function Uz(n,t,e,i,r){let a;if(r===l8(n,t,e,i)>0)for(let o=t;o<e;o+=i)a=eP(o/i|0,n[o],n[o+1],a);else for(let o=e-i;o>=t;o-=i)a=eP(o/i|0,n[o],n[o+1],a);return a&&xg(a,a.next)&&(zy(a),a=a.next),a}function bp(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(xg(e,e.next)||ur(e.prev,e,e.next)===0)){if(zy(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function Ny(n,t,e,i,r,a,o){if(!n)return;!o&&a&&n8(n,i,r,a);let l=n;for(;n.prev!==n.next;){const h=n.prev,d=n.next;if(a?Y6(n,i,r,a):X6(n)){t.push(h.i,n.i,d.i),zy(n),n=d.next,l=d.next;continue}if(n=d,n===l){o?o===1?(n=Z6(bp(n),t),Ny(n,t,e,i,r,a,2)):o===2&&K6(n,t,e,i,r,a):Ny(bp(n),t,e,i,r,a,1);break}}}function X6(n){const t=n.prev,e=n,i=n.next;if(ur(t,e,i)>=0)return!1;const r=t.x,a=e.x,o=i.x,l=t.y,h=e.y,d=i.y,g=Math.min(r,a,o),v=Math.min(l,h,d),_=Math.max(r,a,o),b=Math.max(l,h,d);let M=i.next;for(;M!==t;){if(M.x>=g&&M.x<=_&&M.y>=v&&M.y<=b&&ry(r,l,a,h,o,d,M.x,M.y)&&ur(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function Y6(n,t,e,i){const r=n.prev,a=n,o=n.next;if(ur(r,a,o)>=0)return!1;const l=r.x,h=a.x,d=o.x,g=r.y,v=a.y,_=o.y,b=Math.min(l,h,d),M=Math.min(g,v,_),A=Math.max(l,h,d),T=Math.max(g,v,_),E=ww(b,M,t,e,i),O=ww(A,T,t,e,i);let P=n.prevZ,z=n.nextZ;for(;P&&P.z>=E&&z&&z.z<=O;){if(P.x>=b&&P.x<=A&&P.y>=M&&P.y<=T&&P!==r&&P!==o&&ry(l,g,h,v,d,_,P.x,P.y)&&ur(P.prev,P,P.next)>=0||(P=P.prevZ,z.x>=b&&z.x<=A&&z.y>=M&&z.y<=T&&z!==r&&z!==o&&ry(l,g,h,v,d,_,z.x,z.y)&&ur(z.prev,z,z.next)>=0))return!1;z=z.nextZ}for(;P&&P.z>=E;){if(P.x>=b&&P.x<=A&&P.y>=M&&P.y<=T&&P!==r&&P!==o&&ry(l,g,h,v,d,_,P.x,P.y)&&ur(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;z&&z.z<=O;){if(z.x>=b&&z.x<=A&&z.y>=M&&z.y<=T&&z!==r&&z!==o&&ry(l,g,h,v,d,_,z.x,z.y)&&ur(z.prev,z,z.next)>=0)return!1;z=z.nextZ}return!0}function Z6(n,t){let e=n;do{const i=e.prev,r=e.next.next;!xg(i,r)&&Iz(i,e,e.next,r)&&Uy(i,r)&&Uy(r,i)&&(t.push(i.i,e.i,r.i),zy(e),zy(e.next),e=n=r),e=e.next}while(e!==n);return bp(e)}function K6(n,t,e,i,r,a){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&a8(o,l)){let h=Bz(o,l);o=bp(o,o.next),h=bp(h,h.next),Ny(o,t,e,i,r,a,0),Ny(h,t,e,i,r,a,0);return}l=l.next}o=o.next}while(o!==n)}function Q6(n,t,e,i){const r=[];for(let a=0,o=t.length;a<o;a++){const l=t[a]*i,h=a<o-1?t[a+1]*i:n.length,d=Uz(n,l,h,i,!1);d===d.next&&(d.steiner=!0),r.push(r8(d))}r.sort($6);for(let a=0;a<r.length;a++)e=J6(r[a],e);return e}function $6(n,t){let e=n.x-t.x;if(e===0&&(e=n.y-t.y,e===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(t.next.y-t.y)/(t.next.x-t.x);e=i-r}return e}function J6(n,t){const e=t8(n,t);if(!e)return t;const i=Bz(e,n);return bp(i,i.next),bp(e,e.next)}function t8(n,t){let e=t;const i=n.x,r=n.y;let a=-1/0,o;if(xg(n,e))return e;do{if(xg(n,e.next))return e.next;if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const v=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(v<=i&&v>a&&(a=v,o=e.x<e.next.x?e:e.next,v===i))return o}e=e.next}while(e!==t);if(!o)return null;const l=o,h=o.x,d=o.y;let g=1/0;e=o;do{if(i>=e.x&&e.x>=h&&i!==e.x&&zz(r<d?i:a,r,h,d,r<d?a:i,r,e.x,e.y)){const v=Math.abs(r-e.y)/(i-e.x);Uy(e,n)&&(v<g||v===g&&(e.x>o.x||e.x===o.x&&e8(o,e)))&&(o=e,g=v)}e=e.next}while(e!==l);return o}function e8(n,t){return ur(n.prev,n,t.prev)<0&&ur(t.next,n,n.next)<0}function n8(n,t,e,i){let r=n;do r.z===0&&(r.z=ww(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,i8(r)}function i8(n){let t,e=1;do{let i=n,r;n=null;let a=null;for(t=0;i;){t++;let o=i,l=0;for(let d=0;d<e&&(l++,o=o.nextZ,!!o);d++);let h=e;for(;l>0||h>0&&o;)l!==0&&(h===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,l--):(r=o,o=o.nextZ,h--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=o}a.nextZ=null,e*=2}while(t>1);return n}function ww(n,t,e,i,r){return n=(n-e)*r|0,t=(t-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function r8(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function zz(n,t,e,i,r,a,o,l){return(r-o)*(t-l)>=(n-o)*(a-l)&&(n-o)*(i-l)>=(e-o)*(t-l)&&(e-o)*(a-l)>=(r-o)*(i-l)}function ry(n,t,e,i,r,a,o,l){return!(n===o&&t===l)&&zz(n,t,e,i,r,a,o,l)}function a8(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!s8(n,t)&&(Uy(n,t)&&Uy(t,n)&&o8(n,t)&&(ur(n.prev,n,t.prev)||ur(n,t.prev,t))||xg(n,t)&&ur(n.prev,n,n.next)>0&&ur(t.prev,t,t.next)>0)}function ur(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function xg(n,t){return n.x===t.x&&n.y===t.y}function Iz(n,t,e,i){const r=yx(ur(n,t,e)),a=yx(ur(n,t,i)),o=yx(ur(e,i,n)),l=yx(ur(e,i,t));return!!(r!==a&&o!==l||r===0&&vx(n,e,t)||a===0&&vx(n,i,t)||o===0&&vx(e,n,i)||l===0&&vx(e,t,i))}function vx(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function yx(n){return n>0?1:n<0?-1:0}function s8(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&Iz(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function Uy(n,t){return ur(n.prev,n,n.next)<0?ur(n,t,n.next)>=0&&ur(n,n.prev,t)>=0:ur(n,t,n.prev)<0||ur(n,n.next,t)<0}function o8(n,t){let e=n,i=!1;const r=(n.x+t.x)/2,a=(n.y+t.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&r<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function Bz(n,t){const e=Aw(n.i,n.x,n.y),i=Aw(t.i,t.x,t.y),r=n.next,a=t.prev;return n.next=t,t.prev=n,e.next=r,r.prev=e,i.next=e,e.prev=i,a.next=i,i.prev=a,i}function eP(n,t,e,i){const r=Aw(n,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function zy(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Aw(n,t,e){return{i:n,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function l8(n,t,e,i){let r=0;for(let a=t,o=e-i;a<e;a+=i)r+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return r}class u8{static triangulate(t,e,i=2){return W6(t,e,i)}}class xu{static area(t){const e=t.length;let i=0;for(let r=e-1,a=0;a<e;r=a++)i+=t[r].x*t[a].y-t[a].x*t[r].y;return i*.5}static isClockWise(t){return xu.area(t)<0}static triangulateShape(t,e){const i=[],r=[],a=[];nP(t),iP(i,t);let o=t.length;e.forEach(nP);for(let h=0;h<e.length;h++)r.push(o),o+=e[h].length,iP(i,e[h]);const l=u8.triangulate(i,r);for(let h=0;h<l.length;h+=3)a.push(l.slice(h,h+3));return a}}function nP(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function iP(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class nS extends xn{constructor(t=new hp([new Jt(.5,.5),new Jt(-.5,.5),new Jt(-.5,-.5),new Jt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,r=[],a=[];for(let l=0,h=t.length;l<h;l++){const d=t[l];o(d)}this.setAttribute("position",new ze(r,3)),this.setAttribute("uv",new ze(a,2)),this.computeVertexNormals();function o(l){const h=[],d=e.curveSegments!==void 0?e.curveSegments:12,g=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let _=e.bevelEnabled!==void 0?e.bevelEnabled:!0,b=e.bevelThickness!==void 0?e.bevelThickness:.2,M=e.bevelSize!==void 0?e.bevelSize:b-.1,A=e.bevelOffset!==void 0?e.bevelOffset:0,T=e.bevelSegments!==void 0?e.bevelSegments:3;const E=e.extrudePath,O=e.UVGenerator!==void 0?e.UVGenerator:c8;let P,z=!1,F,I,q,Y;E&&(P=E.getSpacedPoints(g),z=!0,_=!1,F=E.computeFrenetFrames(g,!1),I=new at,q=new at,Y=new at),_||(T=0,b=0,M=0,A=0);const G=l.extractPoints(d);let j=G.shape;const K=G.holes;if(!xu.isClockWise(j)){j=j.reverse();for(let Ht=0,Gt=K.length;Ht<Gt;Ht++){const Yt=K[Ht];xu.isClockWise(Yt)&&(K[Ht]=Yt.reverse())}}function lt(Ht){const Yt=10000000000000001e-36;let At=Ht[0];for(let me=1;me<=Ht.length;me++){const qt=me%Ht.length,te=Ht[qt],Le=te.x-At.x,He=te.y-At.y,$=Le*Le+He*He,Z=Math.max(Math.abs(te.x),Math.abs(te.y),Math.abs(At.x),Math.abs(At.y)),Mt=Yt*Z*Z;if($<=Mt){Ht.splice(qt,1),me--;continue}At=te}}lt(j),K.forEach(lt);const dt=K.length,vt=j;for(let Ht=0;Ht<dt;Ht++){const Gt=K[Ht];j=j.concat(Gt)}function X(Ht,Gt,Yt){return Gt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ht.clone().addScaledVector(Gt,Yt)}const it=j.length;function tt(Ht,Gt,Yt){let At,me,qt;const te=Ht.x-Gt.x,Le=Ht.y-Gt.y,He=Yt.x-Ht.x,$=Yt.y-Ht.y,Z=te*te+Le*Le,Mt=te*$-Le*He;if(Math.abs(Mt)>Number.EPSILON){const Nt=Math.sqrt(Z),$t=Math.sqrt(He*He+$*$),It=Gt.x-Le/Nt,Me=Gt.y+te/Nt,ve=Yt.x-$/$t,Oe=Yt.y+He/$t,Pe=((ve-It)*$-(Oe-Me)*He)/(te*$-Le*He);At=It+te*Pe-Ht.x,me=Me+Le*Pe-Ht.y;const oe=At*At+me*me;if(oe<=2)return new Jt(At,me);qt=Math.sqrt(oe/2)}else{let Nt=!1;te>Number.EPSILON?He>Number.EPSILON&&(Nt=!0):te<-Number.EPSILON?He<-Number.EPSILON&&(Nt=!0):Math.sign(Le)===Math.sign($)&&(Nt=!0),Nt?(At=-Le,me=te,qt=Math.sqrt(Z)):(At=te,me=Le,qt=Math.sqrt(Z/2))}return new Jt(At/qt,me/qt)}const yt=[];for(let Ht=0,Gt=vt.length,Yt=Gt-1,At=Ht+1;Ht<Gt;Ht++,Yt++,At++)Yt===Gt&&(Yt=0),At===Gt&&(At=0),yt[Ht]=tt(vt[Ht],vt[Yt],vt[At]);const Q=[];let ut,gt=yt.concat();for(let Ht=0,Gt=dt;Ht<Gt;Ht++){const Yt=K[Ht];ut=[];for(let At=0,me=Yt.length,qt=me-1,te=At+1;At<me;At++,qt++,te++)qt===me&&(qt=0),te===me&&(te=0),ut[At]=tt(Yt[At],Yt[qt],Yt[te]);Q.push(ut),gt=gt.concat(ut)}let Lt;if(T===0)Lt=xu.triangulateShape(vt,K);else{const Ht=[],Gt=[];for(let Yt=0;Yt<T;Yt++){const At=Yt/T,me=b*Math.cos(At*Math.PI/2),qt=M*Math.sin(At*Math.PI/2)+A;for(let te=0,Le=vt.length;te<Le;te++){const He=X(vt[te],yt[te],qt);Xt(He.x,He.y,-me),At===0&&Ht.push(He)}for(let te=0,Le=dt;te<Le;te++){const He=K[te];ut=Q[te];const $=[];for(let Z=0,Mt=He.length;Z<Mt;Z++){const Nt=X(He[Z],ut[Z],qt);Xt(Nt.x,Nt.y,-me),At===0&&$.push(Nt)}At===0&&Gt.push($)}}Lt=xu.triangulateShape(Ht,Gt)}const Dt=Lt.length,Zt=M+A;for(let Ht=0;Ht<it;Ht++){const Gt=_?X(j[Ht],gt[Ht],Zt):j[Ht];z?(q.copy(F.normals[0]).multiplyScalar(Gt.x),I.copy(F.binormals[0]).multiplyScalar(Gt.y),Y.copy(P[0]).add(q).add(I),Xt(Y.x,Y.y,Y.z)):Xt(Gt.x,Gt.y,0)}for(let Ht=1;Ht<=g;Ht++)for(let Gt=0;Gt<it;Gt++){const Yt=_?X(j[Gt],gt[Gt],Zt):j[Gt];z?(q.copy(F.normals[Ht]).multiplyScalar(Yt.x),I.copy(F.binormals[Ht]).multiplyScalar(Yt.y),Y.copy(P[Ht]).add(q).add(I),Xt(Y.x,Y.y,Y.z)):Xt(Yt.x,Yt.y,v/g*Ht)}for(let Ht=T-1;Ht>=0;Ht--){const Gt=Ht/T,Yt=b*Math.cos(Gt*Math.PI/2),At=M*Math.sin(Gt*Math.PI/2)+A;for(let me=0,qt=vt.length;me<qt;me++){const te=X(vt[me],yt[me],At);Xt(te.x,te.y,v+Yt)}for(let me=0,qt=K.length;me<qt;me++){const te=K[me];ut=Q[me];for(let Le=0,He=te.length;Le<He;Le++){const $=X(te[Le],ut[Le],At);z?Xt($.x,$.y+P[g-1].y,P[g-1].x+Yt):Xt($.x,$.y,v+Yt)}}}_t(),Qt();function _t(){const Ht=r.length/3;if(_){let Gt=0,Yt=it*Gt;for(let At=0;At<Dt;At++){const me=Lt[At];le(me[2]+Yt,me[1]+Yt,me[0]+Yt)}Gt=g+T*2,Yt=it*Gt;for(let At=0;At<Dt;At++){const me=Lt[At];le(me[0]+Yt,me[1]+Yt,me[2]+Yt)}}else{for(let Gt=0;Gt<Dt;Gt++){const Yt=Lt[Gt];le(Yt[2],Yt[1],Yt[0])}for(let Gt=0;Gt<Dt;Gt++){const Yt=Lt[Gt];le(Yt[0]+it*g,Yt[1]+it*g,Yt[2]+it*g)}}i.addGroup(Ht,r.length/3-Ht,0)}function Qt(){const Ht=r.length/3;let Gt=0;ae(vt,Gt),Gt+=vt.length;for(let Yt=0,At=K.length;Yt<At;Yt++){const me=K[Yt];ae(me,Gt),Gt+=me.length}i.addGroup(Ht,r.length/3-Ht,1)}function ae(Ht,Gt){let Yt=Ht.length;for(;--Yt>=0;){const At=Yt;let me=Yt-1;me<0&&(me=Ht.length-1);for(let qt=0,te=g+T*2;qt<te;qt++){const Le=it*qt,He=it*(qt+1),$=Gt+At+Le,Z=Gt+me+Le,Mt=Gt+me+He,Nt=Gt+At+He;pe($,Z,Mt,Nt)}}}function Xt(Ht,Gt,Yt){h.push(Ht),h.push(Gt),h.push(Yt)}function le(Ht,Gt,Yt){jt(Ht),jt(Gt),jt(Yt);const At=r.length/3,me=O.generateTopUV(i,r,At-3,At-2,At-1);ot(me[0]),ot(me[1]),ot(me[2])}function pe(Ht,Gt,Yt,At){jt(Ht),jt(Gt),jt(At),jt(Gt),jt(Yt),jt(At);const me=r.length/3,qt=O.generateSideWallUV(i,r,me-6,me-3,me-2,me-1);ot(qt[0]),ot(qt[1]),ot(qt[3]),ot(qt[1]),ot(qt[2]),ot(qt[3])}function jt(Ht){r.push(h[Ht*3+0]),r.push(h[Ht*3+1]),r.push(h[Ht*3+2])}function ot(Ht){a.push(Ht.x),a.push(Ht.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return f8(e,i,t)}static fromJSON(t,e){const i=[];for(let a=0,o=t.shapes.length;a<o;a++){const l=e[t.shapes[a]];i.push(l)}const r=t.options.extrudePath;return r!==void 0&&(t.options.extrudePath=new Wb[r.type]().fromJSON(r)),new nS(i,t.options)}}const c8={generateTopUV:function(n,t,e,i,r){const a=t[e*3],o=t[e*3+1],l=t[i*3],h=t[i*3+1],d=t[r*3],g=t[r*3+1];return[new Jt(a,o),new Jt(l,h),new Jt(d,g)]},generateSideWallUV:function(n,t,e,i,r,a){const o=t[e*3],l=t[e*3+1],h=t[e*3+2],d=t[i*3],g=t[i*3+1],v=t[i*3+2],_=t[r*3],b=t[r*3+1],M=t[r*3+2],A=t[a*3],T=t[a*3+1],E=t[a*3+2];return Math.abs(l-g)<Math.abs(o-d)?[new Jt(o,1-h),new Jt(d,1-v),new Jt(_,1-M),new Jt(A,1-E)]:[new Jt(l,1-h),new Jt(g,1-v),new Jt(b,1-M),new Jt(T,1-E)]}};function f8(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class o0 extends Vh{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new o0(t.radius,t.detail)}}class iS extends xn{constructor(t=[new Jt(0,-.5),new Jt(.5,0),new Jt(0,.5)],e=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e),r=dn(r,0,Math.PI*2);const a=[],o=[],l=[],h=[],d=[],g=1/e,v=new at,_=new Jt,b=new at,M=new at,A=new at;let T=0,E=0;for(let O=0;O<=t.length-1;O++)switch(O){case 0:T=t[O+1].x-t[O].x,E=t[O+1].y-t[O].y,b.x=E*1,b.y=-T,b.z=E*0,A.copy(b),b.normalize(),h.push(b.x,b.y,b.z);break;case t.length-1:h.push(A.x,A.y,A.z);break;default:T=t[O+1].x-t[O].x,E=t[O+1].y-t[O].y,b.x=E*1,b.y=-T,b.z=E*0,M.copy(b),b.x+=A.x,b.y+=A.y,b.z+=A.z,b.normalize(),h.push(b.x,b.y,b.z),A.copy(M)}for(let O=0;O<=e;O++){const P=i+O*g*r,z=Math.sin(P),F=Math.cos(P);for(let I=0;I<=t.length-1;I++){v.x=t[I].x*z,v.y=t[I].y,v.z=t[I].x*F,o.push(v.x,v.y,v.z),_.x=O/e,_.y=I/(t.length-1),l.push(_.x,_.y);const q=h[3*I+0]*z,Y=h[3*I+1],G=h[3*I+0]*F;d.push(q,Y,G)}}for(let O=0;O<e;O++)for(let P=0;P<t.length-1;P++){const z=P+O*t.length,F=z,I=z+t.length,q=z+t.length+1,Y=z+1;a.push(F,I,Y),a.push(q,Y,I)}this.setIndex(a),this.setAttribute("position",new ze(o,3)),this.setAttribute("uv",new ze(l,2)),this.setAttribute("normal",new ze(d,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new iS(t.points,t.segments,t.phiStart,t.phiLength)}}class l0 extends Vh{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new l0(t.radius,t.detail)}}class Lg extends xn{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const a=t/2,o=e/2,l=Math.floor(i),h=Math.floor(r),d=l+1,g=h+1,v=t/l,_=e/h,b=[],M=[],A=[],T=[];for(let E=0;E<g;E++){const O=E*_-o;for(let P=0;P<d;P++){const z=P*v-a;M.push(z,-O,0),A.push(0,0,1),T.push(P/l),T.push(1-E/h)}}for(let E=0;E<h;E++)for(let O=0;O<l;O++){const P=O+d*E,z=O+d*(E+1),F=O+1+d*(E+1),I=O+1+d*E;b.push(P,z,I),b.push(z,F,I)}this.setIndex(b),this.setAttribute("position",new ze(M,3)),this.setAttribute("normal",new ze(A,3)),this.setAttribute("uv",new ze(T,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Lg(t.width,t.height,t.widthSegments,t.heightSegments)}}class u0 extends xn{constructor(t=.5,e=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const l=[],h=[],d=[],g=[];let v=t;const _=(e-t)/r,b=new at,M=new Jt;for(let A=0;A<=r;A++){for(let T=0;T<=i;T++){const E=a+T/i*o;b.x=v*Math.cos(E),b.y=v*Math.sin(E),h.push(b.x,b.y,b.z),d.push(0,0,1),M.x=(b.x/e+1)/2,M.y=(b.y/e+1)/2,g.push(M.x,M.y)}v+=_}for(let A=0;A<r;A++){const T=A*(i+1);for(let E=0;E<i;E++){const O=E+T,P=O,z=O+i+1,F=O+i+2,I=O+1;l.push(P,z,I),l.push(z,F,I)}}this.setIndex(l),this.setAttribute("position",new ze(h,3)),this.setAttribute("normal",new ze(d,3)),this.setAttribute("uv",new ze(g,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new u0(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class rS extends xn{constructor(t=new hp([new Jt(0,.5),new Jt(-.5,-.5),new Jt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],r=[],a=[],o=[];let l=0,h=0;if(Array.isArray(t)===!1)d(t);else for(let g=0;g<t.length;g++)d(t[g]),this.addGroup(l,h,g),l+=h,h=0;this.setIndex(i),this.setAttribute("position",new ze(r,3)),this.setAttribute("normal",new ze(a,3)),this.setAttribute("uv",new ze(o,2));function d(g){const v=r.length/3,_=g.extractPoints(e);let b=_.shape;const M=_.holes;xu.isClockWise(b)===!1&&(b=b.reverse());for(let T=0,E=M.length;T<E;T++){const O=M[T];xu.isClockWise(O)===!0&&(M[T]=O.reverse())}const A=xu.triangulateShape(b,M);for(let T=0,E=M.length;T<E;T++){const O=M[T];b=b.concat(O)}for(let T=0,E=b.length;T<E;T++){const O=b[T];r.push(O.x,O.y,0),a.push(0,0,1),o.push(O.x,O.y)}for(let T=0,E=A.length;T<E;T++){const O=A[T],P=O[0]+v,z=O[1]+v,F=O[2]+v;i.push(P,z,F),h+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return h8(e,t)}static fromJSON(t,e){const i=[];for(let r=0,a=t.shapes.length;r<a;r++){const o=e[t.shapes[r]];i.push(o)}return new rS(i,t.curveSegments)}}function h8(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const r=n[e];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t}class Ng extends xn{constructor(t=1,e=32,i=16,r=0,a=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:l},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const h=Math.min(o+l,Math.PI);let d=0;const g=[],v=new at,_=new at,b=[],M=[],A=[],T=[];for(let E=0;E<=i;E++){const O=[],P=E/i;let z=0;E===0&&o===0?z=.5/e:E===i&&h===Math.PI&&(z=-.5/e);for(let F=0;F<=e;F++){const I=F/e;v.x=-t*Math.cos(r+I*a)*Math.sin(o+P*l),v.y=t*Math.cos(o+P*l),v.z=t*Math.sin(r+I*a)*Math.sin(o+P*l),M.push(v.x,v.y,v.z),_.copy(v).normalize(),A.push(_.x,_.y,_.z),T.push(I+z,1-P),O.push(d++)}g.push(O)}for(let E=0;E<i;E++)for(let O=0;O<e;O++){const P=g[E][O+1],z=g[E][O],F=g[E+1][O],I=g[E+1][O+1];(E!==0||o>0)&&b.push(P,z,I),(E!==i-1||h<Math.PI)&&b.push(z,F,I)}this.setIndex(b),this.setAttribute("position",new ze(M,3)),this.setAttribute("normal",new ze(A,3)),this.setAttribute("uv",new ze(T,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ng(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class aS extends Vh{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new aS(t.radius,t.detail)}}class sS extends xn{constructor(t=1,e=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],h=[],d=[],g=new at,v=new at,_=new at;for(let b=0;b<=i;b++)for(let M=0;M<=r;M++){const A=M/r*a,T=b/i*Math.PI*2;v.x=(t+e*Math.cos(T))*Math.cos(A),v.y=(t+e*Math.cos(T))*Math.sin(A),v.z=e*Math.sin(T),l.push(v.x,v.y,v.z),g.x=t*Math.cos(A),g.y=t*Math.sin(A),_.subVectors(v,g).normalize(),h.push(_.x,_.y,_.z),d.push(M/r),d.push(b/i)}for(let b=1;b<=i;b++)for(let M=1;M<=r;M++){const A=(r+1)*b+M-1,T=(r+1)*(b-1)+M-1,E=(r+1)*(b-1)+M,O=(r+1)*b+M;o.push(A,T,O),o.push(T,E,O)}this.setIndex(o),this.setAttribute("position",new ze(l,3)),this.setAttribute("normal",new ze(h,3)),this.setAttribute("uv",new ze(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new sS(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class oS extends xn{constructor(t=1,e=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const l=[],h=[],d=[],g=[],v=new at,_=new at,b=new at,M=new at,A=new at,T=new at,E=new at;for(let P=0;P<=i;++P){const z=P/i*a*Math.PI*2;O(z,a,o,t,b),O(z+.01,a,o,t,M),T.subVectors(M,b),E.addVectors(M,b),A.crossVectors(T,E),E.crossVectors(A,T),A.normalize(),E.normalize();for(let F=0;F<=r;++F){const I=F/r*Math.PI*2,q=-e*Math.cos(I),Y=e*Math.sin(I);v.x=b.x+(q*E.x+Y*A.x),v.y=b.y+(q*E.y+Y*A.y),v.z=b.z+(q*E.z+Y*A.z),h.push(v.x,v.y,v.z),_.subVectors(v,b).normalize(),d.push(_.x,_.y,_.z),g.push(P/i),g.push(F/r)}}for(let P=1;P<=i;P++)for(let z=1;z<=r;z++){const F=(r+1)*(P-1)+(z-1),I=(r+1)*P+(z-1),q=(r+1)*P+z,Y=(r+1)*(P-1)+z;l.push(F,I,Y),l.push(I,q,Y)}this.setIndex(l),this.setAttribute("position",new ze(h,3)),this.setAttribute("normal",new ze(d,3)),this.setAttribute("uv",new ze(g,2));function O(P,z,F,I,q){const Y=Math.cos(P),G=Math.sin(P),j=F/z*P,K=Math.cos(j);q.x=I*(2+K)*.5*Y,q.y=I*(2+K)*G*.5,q.z=I*Math.sin(j)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new oS(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class lS extends xn{constructor(t=new oC(new at(-1,-1,0),new at(-1,1,0),new at(1,1,0)),e=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:a};const o=t.computeFrenetFrames(e,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new at,h=new at,d=new Jt;let g=new at;const v=[],_=[],b=[],M=[];A(),this.setIndex(M),this.setAttribute("position",new ze(v,3)),this.setAttribute("normal",new ze(_,3)),this.setAttribute("uv",new ze(b,2));function A(){for(let P=0;P<e;P++)T(P);T(a===!1?e:0),O(),E()}function T(P){g=t.getPointAt(P/e,g);const z=o.normals[P],F=o.binormals[P];for(let I=0;I<=r;I++){const q=I/r*Math.PI*2,Y=Math.sin(q),G=-Math.cos(q);h.x=G*z.x+Y*F.x,h.y=G*z.y+Y*F.y,h.z=G*z.z+Y*F.z,h.normalize(),_.push(h.x,h.y,h.z),l.x=g.x+i*h.x,l.y=g.y+i*h.y,l.z=g.z+i*h.z,v.push(l.x,l.y,l.z)}}function E(){for(let P=1;P<=e;P++)for(let z=1;z<=r;z++){const F=(r+1)*(P-1)+(z-1),I=(r+1)*P+(z-1),q=(r+1)*P+z,Y=(r+1)*(P-1)+z;M.push(F,I,Y),M.push(I,q,Y)}}function O(){for(let P=0;P<=e;P++)for(let z=0;z<=r;z++)d.x=P/e,d.y=z/r,b.push(d.x,d.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new lS(new Wb[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class Fz extends xn{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,r=new at,a=new at;if(t.index!==null){const o=t.attributes.position,l=t.index;let h=t.groups;h.length===0&&(h=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,g=h.length;d<g;++d){const v=h[d],_=v.start,b=v.count;for(let M=_,A=_+b;M<A;M+=3)for(let T=0;T<3;T++){const E=l.getX(M+T),O=l.getX(M+(T+1)%3);r.fromBufferAttribute(o,E),a.fromBufferAttribute(o,O),rP(r,a,i)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}}else{const o=t.attributes.position;for(let l=0,h=o.count/3;l<h;l++)for(let d=0;d<3;d++){const g=3*l+d,v=3*l+(d+1)%3;r.fromBufferAttribute(o,g),a.fromBufferAttribute(o,v),rP(r,a,i)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}this.setAttribute("position",new ze(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function rP(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(r)===!0?!1:(e.add(i),e.add(r),!0)}var aP=Object.freeze({__proto__:null,BoxGeometry:Dp,CapsuleGeometry:J1,CircleGeometry:r0,ConeGeometry:s0,CylinderGeometry:a0,DodecahedronGeometry:tS,EdgesGeometry:Rz,ExtrudeGeometry:nS,IcosahedronGeometry:o0,LatheGeometry:iS,OctahedronGeometry:l0,PlaneGeometry:Lg,PolyhedronGeometry:Vh,RingGeometry:u0,ShapeGeometry:rS,SphereGeometry:Ng,TetrahedronGeometry:aS,TorusGeometry:sS,TorusKnotGeometry:oS,TubeGeometry:lS,WireframeGeometry:Fz});class Hz extends os{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ee(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class kz extends xr{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class uS extends os{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ee(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Fo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class jz extends uS{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Jt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ee(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ee(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ee(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class Vz extends os{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ee(16777215),this.specular=new Ee(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Fo,this.combine=e0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Gz extends os{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ee(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class qz extends os{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class Wz extends os{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Fo,this.combine=e0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class uC extends os{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=nz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class cC extends os{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class Xz extends os{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ee(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Yz extends ls{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function rp(n,t){return!n||n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function Zz(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Kz(n){function t(r,a){return n[r]-n[a]}const e=n.length,i=new Array(e);for(let r=0;r!==e;++r)i[r]=r;return i.sort(t),i}function Cw(n,t,e){const i=n.length,r=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const l=e[a]*t;for(let h=0;h!==t;++h)r[o++]=n[l+h]}return r}function fC(n,t,e,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(t.push(a.time),e.push(...o)),a=n[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(t.push(a.time),o.toArray(e,e.length)),a=n[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(t.push(a.time),e.push(o)),a=n[r++];while(a!==void 0)}function d8(n,t,e,i,r=30){const a=n.clone();a.name=t;const o=[];for(let h=0;h<a.tracks.length;++h){const d=a.tracks[h],g=d.getValueSize(),v=[],_=[];for(let b=0;b<d.times.length;++b){const M=d.times[b]*r;if(!(M<e||M>=i)){v.push(d.times[b]);for(let A=0;A<g;++A)_.push(d.values[b*g+A])}}v.length!==0&&(d.times=rp(v,d.times.constructor),d.values=rp(_,d.values.constructor),o.push(d))}a.tracks=o;let l=1/0;for(let h=0;h<a.tracks.length;++h)l>a.tracks[h].times[0]&&(l=a.tracks[h].times[0]);for(let h=0;h<a.tracks.length;++h)a.tracks[h].shift(-1*l);return a.resetDuration(),a}function p8(n,t=0,e=n,i=30){i<=0&&(i=30);const r=e.tracks.length,a=t/i;for(let o=0;o<r;++o){const l=e.tracks[o],h=l.ValueTypeName;if(h==="bool"||h==="string")continue;const d=n.tracks.find(function(E){return E.name===l.name&&E.ValueTypeName===h});if(d===void 0)continue;let g=0;const v=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);let _=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=b/3);const M=l.times.length-1;let A;if(a<=l.times[0]){const E=g,O=v-g;A=l.values.slice(E,O)}else if(a>=l.times[M]){const E=M*v+g,O=E+v-g;A=l.values.slice(E,O)}else{const E=l.createInterpolant(),O=g,P=v-g;E.evaluate(a),A=E.resultBuffer.slice(O,P)}h==="quaternion"&&new va().fromArray(A).normalize().conjugate().toArray(A);const T=d.times.length;for(let E=0;E<T;++E){const O=E*b+_;if(h==="quaternion")va.multiplyQuaternionsFlat(d.values,O,A,0,d.values,O);else{const P=b-_*2;for(let z=0;z<P;++z)d.values[O+z]-=A[z]}}}return n.blendMode=GA,n}class m8{static convertArray(t,e){return rp(t,e)}static isTypedArray(t){return Zz(t)}static getKeyframeOrder(t){return Kz(t)}static sortedArray(t,e,i){return Cw(t,e,i)}static flattenJSON(t,e,i,r){fC(t,e,i,r)}static subclip(t,e,i,r,a=30){return d8(t,e,i,r,a)}static makeClipAdditive(t,e=0,i=t,r=30){return p8(t,e,i,r)}}class c0{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],a=e[i-1];t:{e:{let o;n:{i:if(!(t<r)){for(let l=i+2;;){if(r===void 0){if(t<a)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=e[++i],t<r)break e}o=e.length;break n}if(!(t>=a)){const l=e[1];t<l&&(i=2,a=l);for(let h=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(r=a,a=e[--i-1],t>=a)break e}o=i,i=0;break n}break t}for(;i<o;){const l=i+o>>>1;t<e[l]?o=l:i=l+1}if(r=e[i],a=e[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=t*r;for(let o=0;o!==r;++o)e[o]=i[a+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Qz extends c0{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:np,endingEnd:np}}intervalChanged_(t,e,i){const r=this.parameterPositions;let a=t-2,o=t+1,l=r[a],h=r[o];if(l===void 0)switch(this.getSettings_().endingStart){case ip:a=t,l=2*e-i;break;case Cy:a=r.length-2,l=e+r[a]-r[a+1];break;default:a=t,l=i}if(h===void 0)switch(this.getSettings_().endingEnd){case ip:o=t,h=2*i-e;break;case Cy:o=1,h=i+r[1]-r[0];break;default:o=t-1,h=e}const d=(i-e)*.5,g=this.valueSize;this._weightPrev=d/(e-l),this._weightNext=d/(h-i),this._offsetPrev=a*g,this._offsetNext=o*g}interpolate_(t,e,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,h=t*l,d=h-l,g=this._offsetPrev,v=this._offsetNext,_=this._weightPrev,b=this._weightNext,M=(i-e)/(r-e),A=M*M,T=A*M,E=-_*T+2*_*A-_*M,O=(1+_)*T+(-1.5-2*_)*A+(-.5+_)*M+1,P=(-1-b)*T+(1.5+b)*A+.5*M,z=b*T-b*A;for(let F=0;F!==l;++F)a[F]=E*o[g+F]+O*o[d+F]+P*o[h+F]+z*o[v+F];return a}}class hC extends c0{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,h=t*l,d=h-l,g=(i-e)/(r-e),v=1-g;for(let _=0;_!==l;++_)a[_]=o[d+_]*v+o[h+_]*g;return a}}class $z extends c0{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Nl{constructor(t,e,i,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=rp(e,this.TimeBufferType),this.values=rp(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:rp(t.times,Array),values:rp(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new $z(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new hC(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Qz(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Ay:e=this.InterpolantFactoryMethodDiscrete;break;case Vb:e=this.InterpolantFactoryMethodLinear;break;case Qx:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ay;case this.InterpolantFactoryMethodLinear:return Vb;case this.InterpolantFactoryMethodSmooth:return Qx}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<t;)++a;for(;o!==-1&&i[o]>e;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const l=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*l,o*l)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let l=0;l!==a;l++){const h=i[l];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,h),t=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,h,o),t=!1;break}o=h}if(r!==void 0&&Zz(r))for(let l=0,h=r.length;l!==h;++l){const d=r[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Qx,a=t.length-1;let o=1;for(let l=1;l<a;++l){let h=!1;const d=t[l],g=t[l+1];if(d!==g&&(l!==1||d!==t[0]))if(r)h=!0;else{const v=l*i,_=v-i,b=v+i;for(let M=0;M!==i;++M){const A=e[v+M];if(A!==e[_+M]||A!==e[b+M]){h=!0;break}}}if(h){if(l!==o){t[o]=t[l];const v=l*i,_=o*i;for(let b=0;b!==i;++b)e[_+b]=e[v+b]}++o}}if(a>0){t[o]=t[a];for(let l=a*i,h=o*i,d=0;d!==i;++d)e[h+d]=e[l+d];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,r=new i(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Nl.prototype.ValueTypeName="";Nl.prototype.TimeBufferType=Float32Array;Nl.prototype.ValueBufferType=Float32Array;Nl.prototype.DefaultInterpolation=Vb;class Lp extends Nl{constructor(t,e,i){super(t,e,i)}}Lp.prototype.ValueTypeName="bool";Lp.prototype.ValueBufferType=Array;Lp.prototype.DefaultInterpolation=Ay;Lp.prototype.InterpolantFactoryMethodLinear=void 0;Lp.prototype.InterpolantFactoryMethodSmooth=void 0;class dC extends Nl{constructor(t,e,i,r){super(t,e,i,r)}}dC.prototype.ValueTypeName="color";class Iy extends Nl{constructor(t,e,i,r){super(t,e,i,r)}}Iy.prototype.ValueTypeName="number";class Jz extends c0{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,h=(i-e)/(r-e);let d=t*l;for(let g=d+l;d!==g;d+=4)va.slerpFlat(a,0,o,d-l,o,d,h);return a}}class f0 extends Nl{constructor(t,e,i,r){super(t,e,i,r)}InterpolantFactoryMethodLinear(t){return new Jz(this.times,this.values,this.getValueSize(),t)}}f0.prototype.ValueTypeName="quaternion";f0.prototype.InterpolantFactoryMethodSmooth=void 0;class Np extends Nl{constructor(t,e,i){super(t,e,i)}}Np.prototype.ValueTypeName="string";Np.prototype.ValueBufferType=Array;Np.prototype.DefaultInterpolation=Ay;Np.prototype.InterpolantFactoryMethodLinear=void 0;Np.prototype.InterpolantFactoryMethodSmooth=void 0;class By extends Nl{constructor(t,e,i,r){super(t,e,i,r)}}By.prototype.ValueTypeName="vector";class Fy{constructor(t="",e=-1,i=[],r=V1){this.name=t,this.tracks=i,this.duration=e,this.blendMode=r,this.uuid=Uo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,r=1/(t.fps||1);for(let o=0,l=i.length;o!==l;++o)e.push(v8(i[o]).scale(r));const a=new this(t.name,t.duration,e,t.blendMode);return a.uuid=t.uuid,a.userData=JSON.parse(t.userData||"{}"),a}static toJSON(t){const e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode,userData:JSON.stringify(t.userData)};for(let a=0,o=i.length;a!==o;++a)e.push(Nl.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(t,e,i,r){const a=e.length,o=[];for(let l=0;l<a;l++){let h=[],d=[];h.push((l+a-1)%a,l,(l+1)%a),d.push(0,1,0);const g=Kz(h);h=Cw(h,1,g),d=Cw(d,1,g),!r&&h[0]===0&&(h.push(a),d.push(d[0])),o.push(new Iy(".morphTargetInfluences["+e[l].name+"]",h,d).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const r=t;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,h=t.length;l<h;l++){const d=t[l],g=d.name.match(a);if(g&&g.length>1){const v=g[1];let _=r[v];_||(r[v]=_=[]),_.push(d)}}const o=[];for(const l in r)o.push(this.CreateFromMorphTargetSequence(l,r[l],e,i));return o}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,_,b,M,A){if(b.length!==0){const T=[],E=[];fC(b,T,E,M),T.length!==0&&A.push(new v(_,T,E))}},r=[],a=t.name||"default",o=t.fps||30,l=t.blendMode;let h=t.length||-1;const d=t.hierarchy||[];for(let v=0;v<d.length;v++){const _=d[v].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const b={};let M;for(M=0;M<_.length;M++)if(_[M].morphTargets)for(let A=0;A<_[M].morphTargets.length;A++)b[_[M].morphTargets[A]]=-1;for(const A in b){const T=[],E=[];for(let O=0;O!==_[M].morphTargets.length;++O){const P=_[M];T.push(P.time),E.push(P.morphTarget===A?1:0)}r.push(new Iy(".morphTargetInfluence["+A+"]",T,E))}h=b.length*o}else{const b=".bones["+e[v].name+"]";i(By,b+".position",_,"pos",r),i(f0,b+".quaternion",_,"rot",r),i(By,b+".scale",_,"scl",r)}}return r.length===0?null:new this(a,h,r,l)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,r=t.length;i!==r;++i){const a=this.tracks[i];e=Math.max(e,a.times[a.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());const e=new this.constructor(this.name,this.duration,t,this.blendMode);return e.userData=JSON.parse(JSON.stringify(this.userData)),e}toJSON(){return this.constructor.toJSON(this)}}function g8(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Iy;case"vector":case"vector2":case"vector3":case"vector4":return By;case"color":return dC;case"quaternion":return f0;case"bool":case"boolean":return Lp;case"string":return Np}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function v8(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=g8(n.type);if(n.times===void 0){const e=[],i=[];fC(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const dc={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class pC{constructor(t,e,i){const r=this;let a=!1,o=0,l=0,h;const d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.abortController=new AbortController,this.itemStart=function(g){l++,a===!1&&r.onStart!==void 0&&r.onStart(g,o,l),a=!0},this.itemEnd=function(g){o++,r.onProgress!==void 0&&r.onProgress(g,o,l),o===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(g){r.onError!==void 0&&r.onError(g)},this.resolveURL=function(g){return h?h(g):g},this.setURLModifier=function(g){return h=g,this},this.addHandler=function(g,v){return d.push(g,v),this},this.removeHandler=function(g){const v=d.indexOf(g);return v!==-1&&d.splice(v,2),this},this.getHandler=function(g){for(let v=0,_=d.length;v<_;v+=2){const b=d[v],M=d[v+1];if(b.global&&(b.lastIndex=0),b.test(g))return M}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const tI=new pC;class to{constructor(t){this.manager=t!==void 0?t:tI,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(r,a){i.load(t,r,e,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}abort(){return this}}to.DEFAULT_MATERIAL_NAME="__DEFAULT";const of={};class y8 extends Error{constructor(t,e){super(t),this.response=e}}class wf extends to{constructor(t){super(t),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=dc.get(`file:${t}`);if(a!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(a),this.manager.itemEnd(t)},0),a;if(of[t]!==void 0){of[t].push({onLoad:e,onProgress:i,onError:r});return}of[t]=[],of[t].push({onLoad:e,onProgress:i,onError:r});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,h=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const g=of[t],v=d.body.getReader(),_=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),b=_?parseInt(_):0,M=b!==0;let A=0;const T=new ReadableStream({start(E){O();function O(){v.read().then(({done:P,value:z})=>{if(P)E.close();else{A+=z.byteLength;const F=new ProgressEvent("progress",{lengthComputable:M,loaded:A,total:b});for(let I=0,q=g.length;I<q;I++){const Y=g[I];Y.onProgress&&Y.onProgress(F)}E.enqueue(z),O()}},P=>{E.error(P)})}}});return new Response(T)}else throw new y8(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(h){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(g=>new DOMParser().parseFromString(g,l));case"json":return d.json();default:if(l==="")return d.text();{const v=/charset="?([^;"\s]*)"?/i.exec(l),_=v&&v[1]?v[1].toLowerCase():void 0,b=new TextDecoder(_);return d.arrayBuffer().then(M=>b.decode(M))}}}).then(d=>{dc.add(`file:${t}`,d);const g=of[t];delete of[t];for(let v=0,_=g.length;v<_;v++){const b=g[v];b.onLoad&&b.onLoad(d)}}).catch(d=>{const g=of[t];if(g===void 0)throw this.manager.itemError(t),d;delete of[t];for(let v=0,_=g.length;v<_;v++){const b=g[v];b.onError&&b.onError(d)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class _8 extends to{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new wf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(l){try{e(a.parse(JSON.parse(l)))}catch(h){r?r(h):console.error(h),a.manager.itemError(t)}},i,r)}parse(t){const e=[];for(let i=0;i<t.length;i++){const r=Fy.parse(t[i]);e.push(r)}return e}}class x8 extends to{constructor(t){super(t)}load(t,e,i,r){const a=this,o=[],l=new $1,h=new wf(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(a.withCredentials);let d=0;function g(v){h.load(t[v],function(_){const b=a.parse(_,!0);o[v]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(l.minFilter=cr),l.image=o,l.format=b.format,l.needsUpdate=!0,e&&e(l))},i,r)}if(Array.isArray(t))for(let v=0,_=t.length;v<_;++v)g(v);else h.load(t,function(v){const _=a.parse(v,!0);if(_.isCubemap){const b=_.mipmaps.length/_.mipmapCount;for(let M=0;M<b;M++){o[M]={mipmaps:[]};for(let A=0;A<_.mipmapCount;A++)o[M].mipmaps.push(_.mipmaps[M*_.mipmapCount+A]),o[M].format=_.format,o[M].width=_.width,o[M].height=_.height}l.image=o}else l.image.width=_.width,l.image.height=_.height,l.mipmaps=_.mipmaps;_.mipmapCount===1&&(l.minFilter=cr),l.format=_.format,l.needsUpdate=!0,e&&e(l)},i,r);return l}}const Xm=new WeakMap;class Hy extends to{constructor(t){super(t)}load(t,e,i,r){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=dc.get(`image:${t}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(t),setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0);else{let v=Xm.get(o);v===void 0&&(v=[],Xm.set(o,v)),v.push({onLoad:e,onError:r})}return o}const l=Py("img");function h(){g(),e&&e(this);const v=Xm.get(this)||[];for(let _=0;_<v.length;_++){const b=v[_];b.onLoad&&b.onLoad(this)}Xm.delete(this),a.manager.itemEnd(t)}function d(v){g(),r&&r(v),dc.remove(`image:${t}`);const _=Xm.get(this)||[];for(let b=0;b<_.length;b++){const M=_[b];M.onError&&M.onError(v)}Xm.delete(this),a.manager.itemError(t),a.manager.itemEnd(t)}function g(){l.removeEventListener("load",h,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",h,!1),l.addEventListener("error",d,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),dc.add(`image:${t}`,l),a.manager.itemStart(t),l.src=t,l}}class b8 extends to{constructor(t){super(t)}load(t,e,i,r){const a=new i0;a.colorSpace=za;const o=new Hy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function h(d){o.load(t[d],function(g){a.images[d]=g,l++,l===6&&(a.needsUpdate=!0,e&&e(a))},void 0,r)}for(let d=0;d<t.length;++d)h(d);return a}}class S8 extends to{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new vc,l=new wf(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(t,function(h){let d;try{d=a.parse(h)}catch(g){if(r!==void 0)r(g);else{console.error(g);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:ga,o.wrapT=d.wrapT!==void 0?d.wrapT:ga,o.magFilter=d.magFilter!==void 0?d.magFilter:cr,o.minFilter=d.minFilter!==void 0?d.minFilter:cr,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Qs),d.mipmapCount===1&&(o.minFilter=cr),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,e&&e(o,d)},i,r),o}}class Ug extends to{constructor(t){super(t)}load(t,e,i,r){const a=new $i,o=new Hy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(l){a.image=l,a.needsUpdate=!0,e!==void 0&&e(a)},i,r),a}}class Gh extends Zn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Ee(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class eI extends Gh{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ee(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const uE=new mn,sP=new at,oP=new at;class mC{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Jt(512,512),this.mapType=Cl,this.map=null,this.mapPass=null,this.matrix=new mn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Dg,this._frameExtents=new Jt(1,1),this._viewportCount=1,this._viewports=[new Jn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;sP.setFromMatrixPosition(t.matrixWorld),e.position.copy(sP),oP.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(oP),e.updateMatrixWorld(),uE.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uE,e.coordinateSystem,e.reversedDepth),e.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(uE)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class M8 extends mC{constructor(){super(new Pr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(t){const e=this.camera,i=vg*2*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=t.distance||e.far;(i!==e.fov||r!==e.aspect||a!==e.far)&&(e.fov=i,e.aspect=r,e.far=a,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class nI extends Gh{constructor(t,e,i=0,r=Math.PI/3,a=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new M8}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const lP=new mn,Wv=new at,cE=new at;class E8 extends mC{constructor(){super(new Pr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Jt(4,2),this._viewportCount=6,this._viewports=[new Jn(2,1,1,1),new Jn(0,1,1,1),new Jn(3,1,1,1),new Jn(1,1,1,1),new Jn(3,0,1,1),new Jn(1,0,1,1)],this._cubeDirections=[new at(1,0,0),new at(-1,0,0),new at(0,0,1),new at(0,0,-1),new at(0,1,0),new at(0,-1,0)],this._cubeUps=[new at(0,1,0),new at(0,1,0),new at(0,1,0),new at(0,1,0),new at(0,0,1),new at(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,r=this.matrix,a=t.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Wv.setFromMatrixPosition(t.matrixWorld),i.position.copy(Wv),cE.copy(i.position),cE.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(cE),i.updateMatrixWorld(),r.makeTranslation(-Wv.x,-Wv.y,-Wv.z),lP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lP,i.coordinateSystem,i.reversedDepth)}}class iI extends Gh{constructor(t,e,i=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new E8}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class _f extends W1{constructor(t=-1,e=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-t,o=i+t,l=r+e,h=r-e;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=d*this.view.offsetX,o=a+d*this.view.width,l-=g*this.view.offsetY,h=l-g*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class T8 extends mC{constructor(){super(new _f(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class rI extends Gh{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.shadow=new T8}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class aI extends Gh{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class sI extends Gh{constructor(t,e,i=10,r=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class oI{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new at)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,r=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*a),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],1.092548*(i*r)),e.addScaledVector(o[5],1.092548*(r*a)),e.addScaledVector(o[6],.315392*(3*a*a-1)),e.addScaledVector(o[7],1.092548*(i*a)),e.addScaledVector(o[8],.546274*(i*i-r*r)),e}getIrradianceAt(t,e){const i=t.x,r=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*r),e.addScaledVector(o[2],2*.511664*a),e.addScaledVector(o[3],2*.511664*i),e.addScaledVector(o[4],2*.429043*i*r),e.addScaledVector(o[5],2*.429043*r*a),e.addScaledVector(o[6],.743125*a*a-.247708),e.addScaledVector(o[7],2*.429043*i*a),e.addScaledVector(o[8],.429043*(i*i-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,e+r*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,e+r*3);return t}static getBasisAt(t,e){const i=t.x,r=t.y,a=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*a,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*a,e[6]=.315392*(3*a*a-1),e[7]=1.092548*i*a,e[8]=.546274*(i*i-r*r)}}class lI extends Gh{constructor(t=new oI,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class cS extends to{constructor(t){super(t),this.textures={}}load(t,e,i,r){const a=this,o=new wf(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(l){try{e(a.parse(JSON.parse(l)))}catch(h){r?r(h):console.error(h),a.manager.itemError(t)}},i,r)}parse(t){const e=this.textures;function i(a){return e[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),e[a]}const r=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(r.uuid=t.uuid),t.name!==void 0&&(r.name=t.name),t.color!==void 0&&r.color!==void 0&&r.color.setHex(t.color),t.roughness!==void 0&&(r.roughness=t.roughness),t.metalness!==void 0&&(r.metalness=t.metalness),t.sheen!==void 0&&(r.sheen=t.sheen),t.sheenColor!==void 0&&(r.sheenColor=new Ee().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(r.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(t.emissive),t.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(t.specular),t.specularIntensity!==void 0&&(r.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(r.shininess=t.shininess),t.clearcoat!==void 0&&(r.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(r.dispersion=t.dispersion),t.iridescence!==void 0&&(r.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(r.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(r.transmission=t.transmission),t.thickness!==void 0&&(r.thickness=t.thickness),t.attenuationDistance!==void 0&&(r.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(r.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(r.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(r.fog=t.fog),t.flatShading!==void 0&&(r.flatShading=t.flatShading),t.blending!==void 0&&(r.blending=t.blending),t.combine!==void 0&&(r.combine=t.combine),t.side!==void 0&&(r.side=t.side),t.shadowSide!==void 0&&(r.shadowSide=t.shadowSide),t.opacity!==void 0&&(r.opacity=t.opacity),t.transparent!==void 0&&(r.transparent=t.transparent),t.alphaTest!==void 0&&(r.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(r.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(r.depthFunc=t.depthFunc),t.depthTest!==void 0&&(r.depthTest=t.depthTest),t.depthWrite!==void 0&&(r.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(r.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(r.blendSrc=t.blendSrc),t.blendDst!==void 0&&(r.blendDst=t.blendDst),t.blendEquation!==void 0&&(r.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(r.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(r.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(r.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(r.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(r.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(r.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(r.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(r.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(r.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(r.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(r.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(r.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(r.rotation=t.rotation),t.linewidth!==void 0&&(r.linewidth=t.linewidth),t.dashSize!==void 0&&(r.dashSize=t.dashSize),t.gapSize!==void 0&&(r.gapSize=t.gapSize),t.scale!==void 0&&(r.scale=t.scale),t.polygonOffset!==void 0&&(r.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(r.dithering=t.dithering),t.alphaToCoverage!==void 0&&(r.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(r.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(r.visible=t.visible),t.toneMapped!==void 0&&(r.toneMapped=t.toneMapped),t.userData!==void 0&&(r.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const a in t.uniforms){const o=t.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new Ee().setHex(o.value);break;case"v2":r.uniforms[a].value=new Jt().fromArray(o.value);break;case"v3":r.uniforms[a].value=new at().fromArray(o.value);break;case"v4":r.uniforms[a].value=new Jn().fromArray(o.value);break;case"m3":r.uniforms[a].value=new Cn().fromArray(o.value);break;case"m4":r.uniforms[a].value=new mn().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(t.defines!==void 0&&(r.defines=t.defines),t.vertexShader!==void 0&&(r.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(r.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(r.glslVersion=t.glslVersion),t.extensions!==void 0)for(const a in t.extensions)r.extensions[a]=t.extensions[a];if(t.lights!==void 0&&(r.lights=t.lights),t.clipping!==void 0&&(r.clipping=t.clipping),t.size!==void 0&&(r.size=t.size),t.sizeAttenuation!==void 0&&(r.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(r.map=i(t.map)),t.matcap!==void 0&&(r.matcap=i(t.matcap)),t.alphaMap!==void 0&&(r.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(r.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(r.bumpScale=t.bumpScale),t.normalMap!==void 0&&(r.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(r.normalMapType=t.normalMapType),t.normalScale!==void 0){let a=t.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Jt().fromArray(a)}return t.displacementMap!==void 0&&(r.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(r.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(r.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(r.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(r.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(r.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(r.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(r.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(r.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(r.envMap=i(t.envMap)),t.envMapRotation!==void 0&&r.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(r.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(r.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(r.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(r.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(r.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(r.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(r.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(r.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(r.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Jt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(r.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(r.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(r.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(r.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(r.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(t.sheenRoughnessMap)),r}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return cS.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:Hz,SpriteMaterial:QA,RawShaderMaterial:kz,ShaderMaterial:xr,PointsMaterial:JA,MeshPhysicalMaterial:jz,MeshStandardMaterial:uS,MeshPhongMaterial:Vz,MeshToonMaterial:Gz,MeshNormalMaterial:qz,MeshLambertMaterial:Wz,MeshDepthMaterial:uC,MeshDistanceMaterial:cC,MeshBasicMaterial:Rl,MeshMatcapMaterial:Xz,LineDashedMaterial:Yz,LineBasicMaterial:ls,Material:os};return new e[t]}}class Rw{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class uI extends xn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class cI extends to{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new wf(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(l){try{e(a.parse(JSON.parse(l)))}catch(h){r?r(h):console.error(h),a.manager.itemError(t)}},i,r)}parse(t){const e={},i={};function r(b,M){if(e[M]!==void 0)return e[M];const T=b.interleavedBuffers[M],E=a(b,T.buffer),O=ng(T.type,E),P=new Z1(O,T.stride);return P.uuid=T.uuid,e[M]=P,P}function a(b,M){if(i[M]!==void 0)return i[M];const T=b.arrayBuffers[M],E=new Uint32Array(T).buffer;return i[M]=E,E}const o=t.isInstancedBufferGeometry?new uI:new xn,l=t.data.index;if(l!==void 0){const b=ng(l.type,l.array);o.setIndex(new wi(b,1))}const h=t.data.attributes;for(const b in h){const M=h[b];let A;if(M.isInterleavedBufferAttribute){const T=r(t.data,M.data);A=new xp(T,M.itemSize,M.offset,M.normalized)}else{const T=ng(M.type,M.array),E=M.isInstancedBufferAttribute?_g:wi;A=new E(T,M.itemSize,M.normalized)}M.name!==void 0&&(A.name=M.name),M.usage!==void 0&&A.setUsage(M.usage),o.setAttribute(b,A)}const d=t.data.morphAttributes;if(d)for(const b in d){const M=d[b],A=[];for(let T=0,E=M.length;T<E;T++){const O=M[T];let P;if(O.isInterleavedBufferAttribute){const z=r(t.data,O.data);P=new xp(z,O.itemSize,O.offset,O.normalized)}else{const z=ng(O.type,O.array);P=new wi(z,O.itemSize,O.normalized)}O.name!==void 0&&(P.name=O.name),A.push(P)}o.morphAttributes[b]=A}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let b=0,M=v.length;b!==M;++b){const A=v[b];o.addGroup(A.start,A.count,A.materialIndex)}const _=t.data.boundingSphere;return _!==void 0&&(o.boundingSphere=new Fa().fromJSON(_)),t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class w8 extends to{constructor(t){super(t)}load(t,e,i,r){const a=this,o=this.path===""?Rw.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const l=new wf(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(h){let d=null;try{d=JSON.parse(h)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+t+".",v.message);return}const g=d.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}a.parse(d,e)},i,r)}async loadAsync(t,e){const i=this,r=this.path===""?Rw.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||r;const a=new wf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(t,e),l=JSON.parse(o),h=l.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(l)}parse(t,e){const i=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,r),o=this.parseImages(t.images,function(){e!==void 0&&e(d)}),l=this.parseTextures(t.textures,o),h=this.parseMaterials(t.materials,l),d=this.parseObject(t.object,a,h,l,i),g=this.parseSkeletons(t.skeletons,d);if(this.bindSkeletons(d,g),this.bindLightTargets(d),e!==void 0){let v=!1;for(const _ in o)if(o[_].data instanceof HTMLImageElement){v=!0;break}v===!1&&e(d)}return d}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),a=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,a),l=this.parseMaterials(t.materials,o),h=this.parseObject(t.object,r,l,o,e),d=this.parseSkeletons(t.skeletons,h);return this.bindSkeletons(h,d),this.bindLightTargets(h),h}parseShapes(t){const e={};if(t!==void 0)for(let i=0,r=t.length;i<r;i++){const a=new hp().fromJSON(t[i]);e[a.uuid]=a}return e}parseSkeletons(t,e){const i={},r={};if(e.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),t!==void 0)for(let a=0,o=t.length;a<o;a++){const l=new K1().fromJSON(t[a],r);i[l.uuid]=l}return i}parseGeometries(t,e){const i={};if(t!==void 0){const r=new cI;for(let a=0,o=t.length;a<o;a++){let l;const h=t[a];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(h);break;default:h.type in aP?l=aP[h.type].fromJSON(h,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}l.uuid=h.uuid,h.name!==void 0&&(l.name=h.name),h.userData!==void 0&&(l.userData=h.userData),i[h.uuid]=l}}return i}parseMaterials(t,e){const i={},r={};if(t!==void 0){const a=new cS;a.setTextures(e);for(let o=0,l=t.length;o<l;o++){const h=t[o];i[h.uuid]===void 0&&(i[h.uuid]=a.parse(h)),r[h.uuid]=i[h.uuid]}}return r}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const r=t[i],a=Fy.parse(r);e[a.uuid]=a}return e}parseImages(t,e){const i=this,r={};let a;function o(h){return i.manager.itemStart(h),a.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function l(h){if(typeof h=="string"){const d=h,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(g)}else return h.data?{data:ng(h.type,h.data),width:h.width,height:h.height}:null}if(t!==void 0&&t.length>0){const h=new pC(e);a=new Hy(h),a.setCrossOrigin(this.crossOrigin);for(let d=0,g=t.length;d<g;d++){const v=t[d],_=v.url;if(Array.isArray(_)){const b=[];for(let M=0,A=_.length;M<A;M++){const T=_[M],E=l(T);E!==null&&(E instanceof HTMLImageElement?b.push(E):b.push(new vc(E.data,E.width,E.height)))}r[v.uuid]=new Uh(b)}else{const b=l(v.url);r[v.uuid]=new Uh(b)}}}return r}async parseImagesAsync(t){const e=this,i={};let r;async function a(o){if(typeof o=="string"){const l=o,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:e.resourcePath+l;return await r.loadAsync(h)}else return o.data?{data:ng(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){r=new Hy(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,l=t.length;o<l;o++){const h=t[o],d=h.url;if(Array.isArray(d)){const g=[];for(let v=0,_=d.length;v<_;v++){const b=d[v],M=await a(b);M!==null&&(M instanceof HTMLImageElement?g.push(M):g.push(new vc(M.data,M.width,M.height)))}i[h.uuid]=new Uh(g)}else{const g=await a(h.url);i[h.uuid]=new Uh(g)}}}return i}parseTextures(t,e){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(t!==void 0)for(let a=0,o=t.length;a<o;a++){const l=t[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),e[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const h=e[l.image],d=h.data;let g;Array.isArray(d)?(g=new i0,d.length===6&&(g.needsUpdate=!0)):(d&&d.data?g=new vc:g=new $i,d&&(g.needsUpdate=!0)),g.source=h,g.uuid=l.uuid,l.name!==void 0&&(g.name=l.name),l.mapping!==void 0&&(g.mapping=i(l.mapping,A8)),l.channel!==void 0&&(g.channel=l.channel),l.offset!==void 0&&g.offset.fromArray(l.offset),l.repeat!==void 0&&g.repeat.fromArray(l.repeat),l.center!==void 0&&g.center.fromArray(l.center),l.rotation!==void 0&&(g.rotation=l.rotation),l.wrap!==void 0&&(g.wrapS=i(l.wrap[0],uP),g.wrapT=i(l.wrap[1],uP)),l.format!==void 0&&(g.format=l.format),l.internalFormat!==void 0&&(g.internalFormat=l.internalFormat),l.type!==void 0&&(g.type=l.type),l.colorSpace!==void 0&&(g.colorSpace=l.colorSpace),l.minFilter!==void 0&&(g.minFilter=i(l.minFilter,cP)),l.magFilter!==void 0&&(g.magFilter=i(l.magFilter,cP)),l.anisotropy!==void 0&&(g.anisotropy=l.anisotropy),l.flipY!==void 0&&(g.flipY=l.flipY),l.generateMipmaps!==void 0&&(g.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(g.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(g.compareFunction=l.compareFunction),l.userData!==void 0&&(g.userData=l.userData),r[l.uuid]=g}return r}parseObject(t,e,i,r,a){let o;function l(_){return e[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),e[_]}function h(_){if(_!==void 0){if(Array.isArray(_)){const b=[];for(let M=0,A=_.length;M<A;M++){const T=_[M];i[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),b.push(i[T])}return b}return i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),i[_]}}function d(_){return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),r[_]}let g,v;switch(t.type){case"Scene":o=new KA,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new Ee(t.background):o.background=d(t.background)),t.environment!==void 0&&(o.environment=d(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new Y1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new X1(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new Pr(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new _f(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new aI(t.color,t.intensity);break;case"DirectionalLight":o=new rI(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new iI(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new sI(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new nI(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new eI(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new lI().fromJSON(t);break;case"SkinnedMesh":g=l(t.geometry),v=h(t.material),o=new Mz(g,v),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":g=l(t.geometry),v=h(t.material),o=new Dr(g,v);break;case"InstancedMesh":g=l(t.geometry),v=h(t.material);const _=t.count,b=t.instanceMatrix,M=t.instanceColor;o=new Ez(g,v,_),o.instanceMatrix=new _g(new Float32Array(b.array),16),M!==void 0&&(o.instanceColor=new _g(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":g=l(t.geometry),v=h(t.material),o=new Tz(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),o.geometry=g,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._geometryInfo=t.geometryInfo.map(A=>{let T=null,E=null;return A.boundingBox!==void 0&&(T=new ss().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(E=new Fa().fromJSON(A.boundingSphere)),{...A,boundingBox:T,boundingSphere:E}}),o._instanceInfo=t.instanceInfo,o._availableInstanceIds=t._availableInstanceIds,o._availableGeometryIds=t._availableGeometryIds,o._nextIndexStart=t.nextIndexStart,o._nextVertexStart=t.nextVertexStart,o._geometryCount=t.geometryCount,o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._matricesTexture=d(t.matricesTexture.uuid),o._indirectTexture=d(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=d(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(o.boundingSphere=new Fa().fromJSON(t.boundingSphere)),t.boundingBox!==void 0&&(o.boundingBox=new ss().fromJSON(t.boundingBox));break;case"LOD":o=new Sz;break;case"Line":o=new Tf(l(t.geometry),h(t.material));break;case"LineLoop":o=new wz(l(t.geometry),h(t.material));break;case"LineSegments":o=new Sc(l(t.geometry),h(t.material));break;case"PointCloud":case"Points":o=new Az(l(t.geometry),h(t.material));break;case"Sprite":o=new bz(h(t.material));break;case"Group":o=new ig;break;case"Bone":o=new $A;break;default:o=new Zn}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const _=t.children;for(let b=0;b<_.length;b++)o.add(this.parseObject(_[b],e,i,r,a))}if(t.animations!==void 0){const _=t.animations;for(let b=0;b<_.length;b++){const M=_[b];o.animations.push(a[M])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const _=t.levels;for(let b=0;b<_.length;b++){const M=_[b],A=o.getObjectByProperty("uuid",M.object);A!==void 0&&o.addLevel(A,M.distance,M.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=e[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,r=t.getObjectByProperty("uuid",i);r!==void 0?e.target=r:e.target=new Zn}})}}const A8={UVMapping:z1,CubeReflectionMapping:Mf,CubeRefractionMapping:Fh,EquirectangularReflectionMapping:Ey,EquirectangularRefractionMapping:Ty,CubeUVReflectionMapping:Pg},uP={RepeatWrapping:yp,ClampToEdgeWrapping:ga,MirroredRepeatWrapping:wy},cP={NearestFilter:Ia,NearestMipmapNearestFilter:zA,NearestMipmapLinearFilter:eg,LinearFilter:cr,LinearMipmapNearestFilter:cy,LinearMipmapLinearFilter:Qs},fE=new WeakMap;class C8 extends to{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(t){return this.options=t,this}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=dc.get(`image-bitmap:${t}`);if(o!==void 0){if(a.manager.itemStart(t),o.then){o.then(d=>{if(fE.has(o)===!0)r&&r(fE.get(o)),a.manager.itemError(t),a.manager.itemEnd(t);else return e&&e(d),a.manager.itemEnd(t),d});return}return setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const h=fetch(t,l).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(d){return dc.add(`image-bitmap:${t}`,d),e&&e(d),a.manager.itemEnd(t),d}).catch(function(d){r&&r(d),fE.set(h,d),dc.remove(`image-bitmap:${t}`),a.manager.itemError(t),a.manager.itemEnd(t)});dc.add(`image-bitmap:${t}`,h),a.manager.itemStart(t)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let _x;class gC{static getContext(){return _x===void 0&&(_x=new(window.AudioContext||window.webkitAudioContext)),_x}static setContext(t){_x=t}}class R8 extends to{constructor(t){super(t)}load(t,e,i,r){const a=this,o=new wf(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(h){try{const d=h.slice(0);gC.getContext().decodeAudioData(d,function(v){e(v)}).catch(l)}catch(d){l(d)}},i,r);function l(h){r?r(h):console.error(h),a.manager.itemError(t)}}}const fP=new mn,hP=new mn,Bd=new mn;class O8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Bd.copy(t.projectionMatrix);const r=e.eyeSep/2,a=r*e.near/e.focus,o=e.near*Math.tan(fp*e.fov*.5)/e.zoom;let l,h;hP.elements[12]=-r,fP.elements[12]=r,l=-o*e.aspect+a,h=o*e.aspect+a,Bd.elements[0]=2*e.near/(h-l),Bd.elements[8]=(h+l)/(h-l),this.cameraL.projectionMatrix.copy(Bd),l=-o*e.aspect-a,h=o*e.aspect-a,Bd.elements[0]=2*e.near/(h-l),Bd.elements[8]=(h+l)/(h-l),this.cameraR.projectionMatrix.copy(Bd)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(hP),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(fP)}}class fI extends Pr{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class fS{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}const Fd=new at,hE=new va,P8=new at,Hd=new at,kd=new at;class D8 extends Zn{constructor(){super(),this.type="AudioListener",this.context=gC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new fS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fd,hE,P8),Hd.set(0,0,-1).applyQuaternion(hE),kd.set(0,1,0).applyQuaternion(hE),e.positionX){const i=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Fd.x,i),e.positionY.linearRampToValueAtTime(Fd.y,i),e.positionZ.linearRampToValueAtTime(Fd.z,i),e.forwardX.linearRampToValueAtTime(Hd.x,i),e.forwardY.linearRampToValueAtTime(Hd.y,i),e.forwardZ.linearRampToValueAtTime(Hd.z,i),e.upX.linearRampToValueAtTime(kd.x,i),e.upY.linearRampToValueAtTime(kd.y,i),e.upZ.linearRampToValueAtTime(kd.z,i)}else e.setPosition(Fd.x,Fd.y,Fd.z),e.setOrientation(Hd.x,Hd.y,Hd.z,kd.x,kd.y,kd.z)}}class hI extends Zn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const jd=new at,dP=new va,L8=new at,Vd=new at;class N8 extends hI{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(jd,dP,L8),Vd.set(0,0,1).applyQuaternion(dP);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(jd.x,i),e.positionY.linearRampToValueAtTime(jd.y,i),e.positionZ.linearRampToValueAtTime(jd.z,i),e.orientationX.linearRampToValueAtTime(Vd.x,i),e.orientationY.linearRampToValueAtTime(Vd.y,i),e.orientationZ.linearRampToValueAtTime(Vd.z,i)}else e.setPosition(jd.x,jd.y,jd.z),e.setOrientation(Vd.x,Vd.y,Vd.z)}}class U8{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class dI{constructor(t,e,i){this.binding=t,this.valueSize=i;let r,a,o;switch(e){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,r=this.valueSize,a=t*r+r;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==r;++l)i[a+l]=i[l];o=e}else{o+=e;const l=e/o;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,r=t*e+e,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const h=e*this._origIndex;this._mixBufferRegion(i,r,h,1-a,e)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*e,1,e);for(let h=e,d=e+e;h!==d;++h)if(i[h]!==i[h+e]){l.setValue(i,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(e,r);for(let a=i,o=r;a!==o;++a)e[a]=e[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)t[e+o]=t[i+o]}_slerp(t,e,i,r){va.slerpFlat(t,e,t,e,t,i,r)}_slerpAdditive(t,e,i,r,a){const o=this._workIndex*a;va.multiplyQuaternionsFlat(t,o,t,e,t,i),va.slerpFlat(t,e,t,e,t,o,r)}_lerp(t,e,i,r,a){const o=1-r;for(let l=0;l!==a;++l){const h=e+l;t[h]=t[h]*o+t[i+l]*r}}_lerpAdditive(t,e,i,r,a){for(let o=0;o!==a;++o){const l=e+o;t[l]=t[l]+t[i+o]*r}}}const vC="\\[\\]\\.:\\/",z8=new RegExp("["+vC+"]","g"),yC="[^"+vC+"]",I8="[^"+vC.replace("\\.","")+"]",B8=/((?:WC+[\/:])*)/.source.replace("WC",yC),F8=/(WCOD+)?/.source.replace("WCOD",I8),H8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",yC),k8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",yC),j8=new RegExp("^"+B8+F8+H8+k8+"$"),V8=["material","materials","bones","map"];class G8{constructor(t,e,i){const r=i||$n.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class $n{constructor(t,e,i){this.path=e,this.parsedPath=i||$n.parseTrackName(e),this.node=$n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new $n.Composite(t,e,i):new $n(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(z8,"")}static parseTrackName(t){const e=j8.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);V8.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===e||l.uuid===e)return l;const h=i(l.children);if(h)return h}return null},r=i(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)t[e++]=i[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,r=e.propertyName;let a=e.propertyIndex;if(t||(t=$n.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let g=0;g<t.length;g++)if(t[g].name===d){d=g;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(d!==void 0){if(t[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[d]}}const o=t[r];if(o===void 0){const d=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",t);return}let l=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?l=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[a]!==void 0&&(a=t.morphTargetDictionary[a])}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}$n.Composite=G8;$n.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$n.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$n.prototype.GetterByBindingType=[$n.prototype._getValue_direct,$n.prototype._getValue_array,$n.prototype._getValue_arrayElement,$n.prototype._getValue_toArray];$n.prototype.SetterByBindingTypeAndVersioning=[[$n.prototype._setValue_direct,$n.prototype._setValue_direct_setNeedsUpdate,$n.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$n.prototype._setValue_array,$n.prototype._setValue_array_setNeedsUpdate,$n.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$n.prototype._setValue_arrayElement,$n.prototype._setValue_arrayElement_setNeedsUpdate,$n.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$n.prototype._setValue_fromArray,$n.prototype._setValue_fromArray_setNeedsUpdate,$n.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class q8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Uo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,r=arguments.length;i!==r;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let l,h=t.length,d=this.nCachedObjects_;for(let g=0,v=arguments.length;g!==v;++g){const _=arguments[g],b=_.uuid;let M=e[b];if(M===void 0){M=h++,e[b]=M,t.push(_);for(let A=0,T=o;A!==T;++A)a[A].push(new $n(_,i[A],r[A]))}else if(M<d){l=t[M];const A=--d,T=t[A];e[T.uuid]=M,t[M]=T,e[b]=A,t[A]=_;for(let E=0,O=o;E!==O;++E){const P=a[E],z=P[A];let F=P[M];P[M]=z,F===void 0&&(F=new $n(_,i[E],r[E])),P[A]=F}}else t[M]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const h=arguments[o],d=h.uuid,g=e[d];if(g!==void 0&&g>=a){const v=a++,_=t[v];e[_.uuid]=g,t[g]=_,e[d]=v,t[v]=h;for(let b=0,M=r;b!==M;++b){const A=i[b],T=A[v],E=A[g];A[g]=T,A[v]=E}}}this.nCachedObjects_=a}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=t.length;for(let l=0,h=arguments.length;l!==h;++l){const d=arguments[l],g=d.uuid,v=e[g];if(v!==void 0)if(delete e[g],v<a){const _=--a,b=t[_],M=--o,A=t[M];e[b.uuid]=v,t[v]=b,e[A.uuid]=_,t[_]=A,t.pop();for(let T=0,E=r;T!==E;++T){const O=i[T],P=O[_],z=O[M];O[v]=P,O[_]=z,O.pop()}}else{const _=--o,b=t[_];_>0&&(e[b.uuid]=v),t[v]=b,t.pop();for(let M=0,A=r;M!==A;++M){const T=i[M];T[v]=T[_],T.pop()}}}this.nCachedObjects_=a}subscribe_(t,e){const i=this._bindingsIndicesByPath;let r=i[t];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,l=this._parsedPaths,h=this._objects,d=h.length,g=this.nCachedObjects_,v=new Array(d);r=a.length,i[t]=r,o.push(t),l.push(e),a.push(v);for(let _=g,b=h.length;_!==b;++_){const M=h[_];v[_]=new $n(M,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length-1,h=o[l],d=t[l];e[d]=i,o[i]=h,o.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class pI{constructor(t,e,i=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=r;const a=e.tracks,o=a.length,l=new Array(o),h={endingStart:np,endingEnd:np};for(let d=0;d!==o;++d){const g=a[d].createInterpolant(null);l[d]=g,g.settings=h}this._interpolantSettings=h,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=tz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),i===!0){const r=this._clip.duration,a=t._clip.duration,o=a/r,l=r/a;t.warp(1,o,e),this.warp(l,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const r=this._mixer,a=r.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const h=l.parameterPositions,d=l.sampleValues;return h[0]=a,h[1]=a+i,d[0]=t/o,d[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,r){if(!this.enabled){this._updateWeight(t);return}const a=this._startTime;if(a!==null){const h=(t-a)*i;h<0||i===0?e=0:(this._startTime=null,e=i*h)}e*=this._updateTimeScale(t);const o=this._updateTime(e),l=this._updateWeight(t);if(l>0){const h=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case GA:for(let g=0,v=h.length;g!==v;++g)h[g].evaluate(o),d[g].accumulateAdditive(l);break;case V1:default:for(let g=0,v=h.length;g!==v;++g)h[g].evaluate(o),d[g].accumulate(r,l)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let r=this.time+t,a=this._loopCount;const o=i===ez;if(t===0)return a===-1?r:o&&(a&1)===1?e-r:r;if(i===JU){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else if(r<0)r=0;else{this.time=r;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(a===-1&&(t>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=e||r<0){const l=Math.floor(r/e);r-=e*l,a+=Math.abs(l);const h=this.repetitions-a;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(h===1){const d=t<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(o&&(a&1)===1)return e-r}return r}_setEndings(t,e,i){const r=this._interpolantSettings;i?(r.endingStart=ip,r.endingEnd=ip):(t?r.endingStart=this.zeroSlopeAtStart?ip:np:r.endingStart=Cy,e?r.endingEnd=this.zeroSlopeAtEnd?ip:np:r.endingEnd=Cy)}_scheduleFading(t,e,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,h=o.sampleValues;return l[0]=a,h[0]=e,l[1]=a+t,h[1]=i,this}}const W8=new Float32Array(1);class X8 extends bc{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,r=t._clip.tracks,a=r.length,o=t._propertyBindings,l=t._interpolants,h=i.uuid,d=this._bindingsByRootAndName;let g=d[h];g===void 0&&(g={},d[h]=g);for(let v=0;v!==a;++v){const _=r[v],b=_.name;let M=g[b];if(M!==void 0)++M.referenceCount,o[v]=M;else{if(M=o[v],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,h,b));continue}const A=e&&e._propertyBindings[v].binding.parsedPath;M=new dI($n.create(i,b,A),_.ValueTypeName,_.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,h,b),o[v]=M}l[v].resultBuffer=M.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,r=t._clip.uuid,a=this._actionsByClip[r];this._bindAction(t,a&&a.knownActions[0]),this._addInactiveAction(t,r,i)}const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const r=this._actions,a=this._actionsByClip;let o=a[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,a[e]=o;else{const l=o.knownActions;t._byClipCacheIndex=l.length,l.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;const a=t._clip.uuid,o=this._actionsByClip,l=o[a],h=l.knownActions,d=h[h.length-1],g=t._byClipCacheIndex;d._byClipCacheIndex=g,h[g]=d,h.pop(),t._byClipCacheIndex=null;const v=l.actionByRoot,_=(t._localRoot||this._root).uuid;delete v[_],h.length===0&&delete o[a],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_addInactiveBinding(t,e,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[e];o===void 0&&(o={},r[e]=o),o[i]=t,t._cacheIndex=a.length,a.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,l=o[r],h=e[e.length-1],d=t._cacheIndex;h._cacheIndex=d,e[d]=h,e.pop(),delete l[a],Object.keys(l).length===0&&delete o[r]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new hC(new Float32Array(2),new Float32Array(2),1,W8),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,a=e[r];t.__cacheIndex=r,e[r]=t,a.__cacheIndex=i,e[i]=a}clipAction(t,e,i){const r=e||this._root,a=r.uuid;let o=typeof t=="string"?Fy.findByName(r,t):t;const l=o!==null?o.uuid:t,h=this._actionsByClip[l];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=V1),h!==void 0){const v=h.actionByRoot[a];if(v!==void 0&&v.blendMode===i)return v;d=h.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const g=new pI(this,o,e,i);return this._bindAction(g,d),this._addInactiveAction(g,l,a),g}existingAction(t,e){const i=e||this._root,r=i.uuid,a=typeof t=="string"?Fy.findByName(i,t):t,o=a?a.uuid:t,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,r=this.time+=t,a=Math.sign(t),o=this._accuIndex^=1;for(let d=0;d!==i;++d)e[d]._update(r,t,a,o);const l=this._bindings,h=this._nActiveBindings;for(let d=0;d!==h;++d)l[d].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let l=0,h=o.length;l!==h;++l){const d=o[l];this._deactivateAction(d);const g=d._cacheIndex,v=e[e.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,v._cacheIndex=g,e[g]=v,e.pop(),this._removeInactiveBindingsForAction(d)}delete r[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot,h=l[e];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const r=this._bindingsByRootAndName,a=r[e];if(a!==void 0)for(const o in a){const l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Y8 extends XA{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new q1(null,t,e,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class _C{constructor(t){this.value=t}clone(){return new _C(this.value.clone===void 0?this.value:this.value.clone())}}let Z8=0;class K8 extends bc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Z8++}),this.name="",this.usage=Oy,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,r=e.length;i<r;i++){const a=Array.isArray(e[i])?e[i]:[e[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Q8 extends Z1{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class $8{constructor(t,e,i,r,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=o,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const pP=new mn;class mI{constructor(t,e,i=0,r=1/0){this.ray=new Pp(t,e),this.near=i,this.far=r,this.camera=null,this.layers=new _p,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return pP.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(pP),this}intersectObject(t,e=!0,i=[]){return Ow(t,this,i,e),i.sort(mP),i}intersectObjects(t,e=!0,i=[]){for(let r=0,a=t.length;r<a;r++)Ow(t[r],this,i,e);return i.sort(mP),i}}function mP(n,t){return n.distance-t.distance}function Ow(n,t,e,i){let r=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let o=0,l=a.length;o<l;o++)Ow(a[o],t,e,!0)}}class J8{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(t){this._document=t,t.hidden!==void 0&&(this._pageVisibilityHandler=tV.bind(this),t.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(t){return this._timescale=t,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(t){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(t!==void 0?t:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function tV(){this._document.hidden===!1&&this.reset()}class Yb{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=dn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(dn(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class eV{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class xC{constructor(t,e,i,r){xC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,r){const a=this.elements;return a[0]=t,a[2]=e,a[1]=i,a[3]=r,this}}const gP=new Jt;class nV{constructor(t=new Jt(1/0,1/0),e=new Jt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=gP.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,gP).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const vP=new at,xx=new at,Ym=new at,Zm=new at,dE=new at,iV=new at,rV=new at;class aV{constructor(t=new at,e=new at){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){vP.subVectors(t,this.start),xx.subVectors(this.end,this.start);const i=xx.dot(xx);let a=xx.dot(vP)/i;return e&&(a=dn(a,0,1)),a}closestPointToPoint(t,e,i){const r=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(t,e=iV,i=rV){const r=10000000000000001e-32;let a,o;const l=this.start,h=t.start,d=this.end,g=t.end;Ym.subVectors(d,l),Zm.subVectors(g,h),dE.subVectors(l,h);const v=Ym.dot(Ym),_=Zm.dot(Zm),b=Zm.dot(dE);if(v<=r&&_<=r)return e.copy(l),i.copy(h),e.sub(i),e.dot(e);if(v<=r)a=0,o=b/_,o=dn(o,0,1);else{const M=Ym.dot(dE);if(_<=r)o=0,a=dn(-M/v,0,1);else{const A=Ym.dot(Zm),T=v*_-A*A;T!==0?a=dn((A*b-M*_)/T,0,1):a=0,o=(A*a+b)/_,o<0?(o=0,a=dn(-M/v,0,1)):o>1&&(o=1,a=dn((A-M)/v,0,1))}}return e.copy(l).add(Ym.multiplyScalar(a)),i.copy(h).add(Zm.multiplyScalar(o)),e.sub(i),e.dot(e)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const yP=new at;class sV extends Zn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new xn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,h=32;o<h;o++,l++){const d=o/h*Math.PI*2,g=l/h*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(g),Math.sin(g),1)}i.setAttribute("position",new ze(r,3));const a=new ls({fog:!1,toneMapped:!1});this.cone=new Sc(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),yP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ah=new at,bx=new mn,pE=new mn;class oV extends Sc{constructor(t){const e=gI(t),i=new xn,r=[],a=[];for(let d=0;d<e.length;d++){const g=e[d];g.parent&&g.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new ze(r,3)),i.setAttribute("color",new ze(a,3));const o=new ls({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;const l=new Ee(255),h=new Ee(65280);this.setColors(l,h)}updateMatrixWorld(t){const e=this.bones,i=this.geometry,r=i.getAttribute("position");pE.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<e.length;a++){const l=e[a];l.parent&&l.parent.isBone&&(bx.multiplyMatrices(pE,l.matrixWorld),Ah.setFromMatrixPosition(bx),r.setXYZ(o,Ah.x,Ah.y,Ah.z),bx.multiplyMatrices(pE,l.parent.matrixWorld),Ah.setFromMatrixPosition(bx),r.setXYZ(o+1,Ah.x,Ah.y,Ah.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}setColors(t,e){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,t.r,t.g,t.b),r.setXYZ(a+1,e.r,e.g,e.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function gI(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push(...gI(n.children[e]));return t}class lV extends Dr{constructor(t,e,i){const r=new Ng(e,4,2),a=new Rl({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const uV=new at,_P=new Ee,xP=new Ee;class cV extends Zn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new l0(e);r.rotateY(Math.PI*.5),this.material=new Rl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new wi(o,3)),this.add(new Dr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");_P.copy(this.light.color),xP.copy(this.light.groundColor);for(let i=0,r=e.count;i<r;i++){const a=i<r/2?_P:xP;e.setXYZ(i,a.r,a.g,a.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(uV.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fV extends Sc{constructor(t=10,e=10,i=4473924,r=8947848){i=new Ee(i),r=new Ee(r);const a=e/2,o=t/e,l=t/2,h=[],d=[];for(let _=0,b=0,M=-l;_<=e;_++,M+=o){h.push(-l,0,M,l,0,M),h.push(M,0,-l,M,0,l);const A=_===a?i:r;A.toArray(d,b),b+=3,A.toArray(d,b),b+=3,A.toArray(d,b),b+=3,A.toArray(d,b),b+=3}const g=new xn;g.setAttribute("position",new ze(h,3)),g.setAttribute("color",new ze(d,3));const v=new ls({vertexColors:!0,toneMapped:!1});super(g,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class hV extends Sc{constructor(t=10,e=16,i=8,r=64,a=4473924,o=8947848){a=new Ee(a),o=new Ee(o);const l=[],h=[];if(e>1)for(let v=0;v<e;v++){const _=v/e*(Math.PI*2),b=Math.sin(_)*t,M=Math.cos(_)*t;l.push(0,0,0),l.push(b,0,M);const A=v&1?a:o;h.push(A.r,A.g,A.b),h.push(A.r,A.g,A.b)}for(let v=0;v<i;v++){const _=v&1?a:o,b=t-t/i*v;for(let M=0;M<r;M++){let A=M/r*(Math.PI*2),T=Math.sin(A)*b,E=Math.cos(A)*b;l.push(T,0,E),h.push(_.r,_.g,_.b),A=(M+1)/r*(Math.PI*2),T=Math.sin(A)*b,E=Math.cos(A)*b,l.push(T,0,E),h.push(_.r,_.g,_.b)}}const d=new xn;d.setAttribute("position",new ze(l,3)),d.setAttribute("color",new ze(h,3));const g=new ls({vertexColors:!0,toneMapped:!1});super(d,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const bP=new at,Sx=new at,SP=new at;class dV extends Zn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let r=new xn;r.setAttribute("position",new ze([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const a=new ls({fog:!1,toneMapped:!1});this.lightPlane=new Tf(r,a),this.add(this.lightPlane),r=new xn,r.setAttribute("position",new ze([0,0,0,0,0,1],3)),this.targetLine=new Tf(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),bP.setFromMatrixPosition(this.light.matrixWorld),Sx.setFromMatrixPosition(this.light.target.matrixWorld),SP.subVectors(Sx,bP),this.lightPlane.lookAt(Sx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Sx),this.targetLine.scale.z=SP.length()}}const Mx=new at,_r=new W1;class pV extends Sc{constructor(t){const e=new xn,i=new ls({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(M,A){h(M),h(A)}function h(M){r.push(0,0,0),a.push(0,0,0),o[M]===void 0&&(o[M]=[]),o[M].push(r.length/3-1)}e.setAttribute("position",new ze(r,3)),e.setAttribute("color",new ze(a,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new Ee(16755200),g=new Ee(16711680),v=new Ee(43775),_=new Ee(16777215),b=new Ee(3355443);this.setColors(d,g,v,_,b)}setColors(t,e,i,r,a){const l=this.geometry.getAttribute("color");return l.setXYZ(0,t.r,t.g,t.b),l.setXYZ(1,t.r,t.g,t.b),l.setXYZ(2,t.r,t.g,t.b),l.setXYZ(3,t.r,t.g,t.b),l.setXYZ(4,t.r,t.g,t.b),l.setXYZ(5,t.r,t.g,t.b),l.setXYZ(6,t.r,t.g,t.b),l.setXYZ(7,t.r,t.g,t.b),l.setXYZ(8,t.r,t.g,t.b),l.setXYZ(9,t.r,t.g,t.b),l.setXYZ(10,t.r,t.g,t.b),l.setXYZ(11,t.r,t.g,t.b),l.setXYZ(12,t.r,t.g,t.b),l.setXYZ(13,t.r,t.g,t.b),l.setXYZ(14,t.r,t.g,t.b),l.setXYZ(15,t.r,t.g,t.b),l.setXYZ(16,t.r,t.g,t.b),l.setXYZ(17,t.r,t.g,t.b),l.setXYZ(18,t.r,t.g,t.b),l.setXYZ(19,t.r,t.g,t.b),l.setXYZ(20,t.r,t.g,t.b),l.setXYZ(21,t.r,t.g,t.b),l.setXYZ(22,t.r,t.g,t.b),l.setXYZ(23,t.r,t.g,t.b),l.setXYZ(24,e.r,e.g,e.b),l.setXYZ(25,e.r,e.g,e.b),l.setXYZ(26,e.r,e.g,e.b),l.setXYZ(27,e.r,e.g,e.b),l.setXYZ(28,e.r,e.g,e.b),l.setXYZ(29,e.r,e.g,e.b),l.setXYZ(30,e.r,e.g,e.b),l.setXYZ(31,e.r,e.g,e.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0,this}update(){const t=this.geometry,e=this.pointMap,i=1,r=1;let a,o;if(_r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===No)a=-1,o=1;else if(this.camera.coordinateSystem===gg)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Rr("c",e,t,_r,0,0,a),Rr("t",e,t,_r,0,0,o),Rr("n1",e,t,_r,-i,-r,a),Rr("n2",e,t,_r,i,-r,a),Rr("n3",e,t,_r,-i,r,a),Rr("n4",e,t,_r,i,r,a),Rr("f1",e,t,_r,-i,-r,o),Rr("f2",e,t,_r,i,-r,o),Rr("f3",e,t,_r,-i,r,o),Rr("f4",e,t,_r,i,r,o),Rr("u1",e,t,_r,i*.7,r*1.1,a),Rr("u2",e,t,_r,-i*.7,r*1.1,a),Rr("u3",e,t,_r,0,r*2,a),Rr("cf1",e,t,_r,-i,0,o),Rr("cf2",e,t,_r,i,0,o),Rr("cf3",e,t,_r,0,-r,o),Rr("cf4",e,t,_r,0,r,o),Rr("cn1",e,t,_r,-i,0,a),Rr("cn2",e,t,_r,i,0,a),Rr("cn3",e,t,_r,0,-r,a),Rr("cn4",e,t,_r,0,r,a),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rr(n,t,e,i,r,a,o){Mx.set(r,a,o).unproject(i);const l=t[n];if(l!==void 0){const h=e.getAttribute("position");for(let d=0,g=l.length;d<g;d++)h.setXYZ(l[d],Mx.x,Mx.y,Mx.z)}}const Ex=new ss;class mV extends Sc{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new xn;a.setIndex(new wi(i,1)),a.setAttribute("position",new wi(r,3)),super(a,new ls({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Ex.setFromObject(this.object),Ex.isEmpty())return;const t=Ex.min,e=Ex.max,i=this.geometry.attributes.position,r=i.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gV extends Sc{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new xn;a.setIndex(new wi(i,1)),a.setAttribute("position",new ze(r,3)),super(a,new ls({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class vV extends Tf{constructor(t,e=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new xn;o.setAttribute("position",new ze(a,3)),o.computeBoundingSphere(),super(o,new ls({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new xn;h.setAttribute("position",new ze(l,3)),h.computeBoundingSphere(),this.add(new Dr(h,new Rl({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const MP=new at;let Tx,mE;class yV extends Zn{constructor(t=new at(0,0,1),e=new at(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",Tx===void 0&&(Tx=new xn,Tx.setAttribute("position",new ze([0,0,0,0,1,0],3)),mE=new s0(.5,1,5,1),mE.translate(0,-.5,0)),this.position.copy(e),this.line=new Tf(Tx,new ls({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Dr(mE,new Rl({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,a,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{MP.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(MP,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _V extends Sc{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new xn;r.setAttribute("position",new ze(e,3)),r.setAttribute("color",new ze(i,3));const a=new ls({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(t,e,i){const r=new Ee,a=this.geometry.attributes.color.array;return r.set(t),r.toArray(a,0),r.toArray(a,3),r.set(e),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xV{constructor(){this.type="ShapePath",this.color=new Ee,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Xb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,r){return this.currentPath.quadraticCurveTo(t,e,i,r),this}bezierCurveTo(t,e,i,r,a,o){return this.currentPath.bezierCurveTo(t,e,i,r,a,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(E){const O=[];for(let P=0,z=E.length;P<z;P++){const F=E[P],I=new hp;I.curves=F.curves,O.push(I)}return O}function i(E,O){const P=O.length;let z=!1;for(let F=P-1,I=0;I<P;F=I++){let q=O[F],Y=O[I],G=Y.x-q.x,j=Y.y-q.y;if(Math.abs(j)>Number.EPSILON){if(j<0&&(q=O[I],G=-G,Y=O[F],j=-j),E.y<q.y||E.y>Y.y)continue;if(E.y===q.y){if(E.x===q.x)return!0}else{const K=j*(E.x-q.x)-G*(E.y-q.y);if(K===0)return!0;if(K<0)continue;z=!z}}else{if(E.y!==q.y)continue;if(Y.x<=E.x&&E.x<=q.x||q.x<=E.x&&E.x<=Y.x)return!0}}return z}const r=xu.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,l,h;const d=[];if(a.length===1)return l=a[0],h=new hp,h.curves=l.curves,d.push(h),d;let g=!r(a[0].getPoints());g=t?!g:g;const v=[],_=[];let b=[],M=0,A;_[M]=void 0,b[M]=[];for(let E=0,O=a.length;E<O;E++)l=a[E],A=l.getPoints(),o=r(A),o=t?!o:o,o?(!g&&_[M]&&M++,_[M]={s:new hp,p:A},_[M].s.curves=l.curves,g&&M++,b[M]=[]):b[M].push({h:l,p:A[0]});if(!_[0])return e(a);if(_.length>1){let E=!1,O=0;for(let P=0,z=_.length;P<z;P++)v[P]=[];for(let P=0,z=_.length;P<z;P++){const F=b[P];for(let I=0;I<F.length;I++){const q=F[I];let Y=!0;for(let G=0;G<_.length;G++)i(q.p,_[G].p)&&(P!==G&&O++,Y?(Y=!1,v[G].push(q)):E=!0);Y&&v[P].push(q)}}O>0&&E===!1&&(b=v)}let T;for(let E=0,O=_.length;E<O;E++){h=_[E].s,d.push(h),T=b[E];for(let P=0,z=T.length;P<z;P++)h.holes.push(T[P].h)}return d}}class bV extends bc{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function SV(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function MV(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function EV(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function Pw(n,t,e,i){const r=TV(i);switch(e){case kA:return n*t;case H1:return n*t/r.components*r.byteLength;case n0:return n*t/r.components*r.byteLength;case VA:return n*t*2/r.components*r.byteLength;case k1:return n*t*2/r.components*r.byteLength;case jA:return n*t*3/r.components*r.byteLength;case is:return n*t*4/r.components*r.byteLength;case j1:return n*t*4/r.components*r.byteLength;case fy:case hy:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case dy:case py:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case gb:case yb:return Math.max(n,16)*Math.max(t,8)/4;case mb:case vb:return Math.max(n,8)*Math.max(t,8)/2;case _b:case xb:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case bb:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Sb:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Mb:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case Eb:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case Tb:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case wb:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case Ab:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case Cb:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case Rb:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case Ob:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case Pb:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case Db:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case Lb:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case Nb:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case Ub:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case zb:case Ib:case Bb:return Math.ceil(n/4)*Math.ceil(t/4)*16;case Fb:case Hb:return Math.ceil(n/4)*Math.ceil(t/4)*8;case kb:case jb:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function TV(n){switch(n){case Cl:case IA:return{byteLength:1,components:1};case hg:case BA:case gc:return{byteLength:2,components:1};case B1:case F1:return{byteLength:2,components:4};case Ef:case I1:case $s:return{byteLength:4,components:1};case FA:case HA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class wV{static contain(t,e){return SV(t,e)}static cover(t,e){return MV(t,e)}static fill(t){return EV(t)}static getByteLength(t,e,i,r){return Pw(t,e,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:t0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=t0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function vI(){let n=null,t=!1,e=null,i=null;function r(a,o){e(a,o),i=n.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(a){e=a},setContext:function(a){n=a}}}function AV(n){const t=new WeakMap;function e(l,h){const d=l.array,g=l.usage,v=d.byteLength,_=n.createBuffer();n.bindBuffer(h,_),n.bufferData(h,d,g),l.onUploadCallback();let b;if(d instanceof Float32Array)b=n.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)b=n.HALF_FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)b=n.SHORT;else if(d instanceof Uint32Array)b=n.UNSIGNED_INT;else if(d instanceof Int32Array)b=n.INT;else if(d instanceof Int8Array)b=n.BYTE;else if(d instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:_,type:b,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:v}}function i(l,h,d){const g=h.array,v=h.updateRanges;if(n.bindBuffer(d,l),v.length===0)n.bufferSubData(d,0,g);else{v.sort((b,M)=>b.start-M.start);let _=0;for(let b=1;b<v.length;b++){const M=v[_],A=v[b];A.start<=M.start+M.count+1?M.count=Math.max(M.count,A.start+A.count-M.start):(++_,v[_]=A)}v.length=_+1;for(let b=0,M=v.length;b<M;b++){const A=v[b];n.bufferSubData(d,A.start*g.BYTES_PER_ELEMENT,g,A.start,A.count)}h.clearUpdateRanges()}h.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),t.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const h=t.get(l);h&&(n.deleteBuffer(h.buffer),t.delete(l))}function o(l,h){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const g=t.get(l);(!g||g.version<l.version)&&t.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=t.get(l);if(d===void 0)t.set(l,e(l,h));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,l,h),d.version=l.version}}return{get:r,remove:a,update:o}}var CV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,RV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,OV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,PV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,DV=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,LV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,NV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,UV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,zV=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,IV=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,BV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,FV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,HV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,jV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,GV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,WV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,XV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,YV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ZV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,KV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,QV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$V=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,JV=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,eG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,nG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,iG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,rG="gl_FragColor = linearToOutputTexel( gl_FragColor );",aG=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,sG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,oG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,lG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,cG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,hG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,dG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,pG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,mG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,gG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,vG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,yG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,_G=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,xG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,bG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,SG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,MG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,EG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,TG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,wG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,AG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,CG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,RG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,OG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,PG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,DG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,LG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,NG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,UG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,zG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,IG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,FG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,HG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,kG=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,jG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,VG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,GG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,WG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,XG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,YG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ZG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,KG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,QG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$G=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,JG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,t7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,e7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,n7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,i7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,r7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,a7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,s7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,o7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,l7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,u7=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,c7=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,f7=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,h7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,d7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,p7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,m7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,g7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,v7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,y7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,x7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,b7=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,S7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,M7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,E7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,T7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,w7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const A7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,C7=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,R7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,O7=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,P7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,D7=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,L7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,N7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,U7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,z7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,I7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,B7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,F7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,H7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,k7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,j7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,G7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,W7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,X7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Y7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Z7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,J7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t9=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,n9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,i9=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,r9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,a9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,s9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ln={alphahash_fragment:CV,alphahash_pars_fragment:RV,alphamap_fragment:OV,alphamap_pars_fragment:PV,alphatest_fragment:DV,alphatest_pars_fragment:LV,aomap_fragment:NV,aomap_pars_fragment:UV,batching_pars_vertex:zV,batching_vertex:IV,begin_vertex:BV,beginnormal_vertex:FV,bsdfs:HV,iridescence_fragment:kV,bumpmap_pars_fragment:jV,clipping_planes_fragment:VV,clipping_planes_pars_fragment:GV,clipping_planes_pars_vertex:qV,clipping_planes_vertex:WV,color_fragment:XV,color_pars_fragment:YV,color_pars_vertex:ZV,color_vertex:KV,common:QV,cube_uv_reflection_fragment:$V,defaultnormal_vertex:JV,displacementmap_pars_vertex:tG,displacementmap_vertex:eG,emissivemap_fragment:nG,emissivemap_pars_fragment:iG,colorspace_fragment:rG,colorspace_pars_fragment:aG,envmap_fragment:sG,envmap_common_pars_fragment:oG,envmap_pars_fragment:lG,envmap_pars_vertex:uG,envmap_physical_pars_fragment:xG,envmap_vertex:cG,fog_vertex:fG,fog_pars_vertex:hG,fog_fragment:dG,fog_pars_fragment:pG,gradientmap_pars_fragment:mG,lightmap_pars_fragment:gG,lights_lambert_fragment:vG,lights_lambert_pars_fragment:yG,lights_pars_begin:_G,lights_toon_fragment:bG,lights_toon_pars_fragment:SG,lights_phong_fragment:MG,lights_phong_pars_fragment:EG,lights_physical_fragment:TG,lights_physical_pars_fragment:wG,lights_fragment_begin:AG,lights_fragment_maps:CG,lights_fragment_end:RG,logdepthbuf_fragment:OG,logdepthbuf_pars_fragment:PG,logdepthbuf_pars_vertex:DG,logdepthbuf_vertex:LG,map_fragment:NG,map_pars_fragment:UG,map_particle_fragment:zG,map_particle_pars_fragment:IG,metalnessmap_fragment:BG,metalnessmap_pars_fragment:FG,morphinstance_vertex:HG,morphcolor_vertex:kG,morphnormal_vertex:jG,morphtarget_pars_vertex:VG,morphtarget_vertex:GG,normal_fragment_begin:qG,normal_fragment_maps:WG,normal_pars_fragment:XG,normal_pars_vertex:YG,normal_vertex:ZG,normalmap_pars_fragment:KG,clearcoat_normal_fragment_begin:QG,clearcoat_normal_fragment_maps:$G,clearcoat_pars_fragment:JG,iridescence_pars_fragment:t7,opaque_fragment:e7,packing:n7,premultiplied_alpha_fragment:i7,project_vertex:r7,dithering_fragment:a7,dithering_pars_fragment:s7,roughnessmap_fragment:o7,roughnessmap_pars_fragment:l7,shadowmap_pars_fragment:u7,shadowmap_pars_vertex:c7,shadowmap_vertex:f7,shadowmask_pars_fragment:h7,skinbase_vertex:d7,skinning_pars_vertex:p7,skinning_vertex:m7,skinnormal_vertex:g7,specularmap_fragment:v7,specularmap_pars_fragment:y7,tonemapping_fragment:_7,tonemapping_pars_fragment:x7,transmission_fragment:b7,transmission_pars_fragment:S7,uv_pars_fragment:M7,uv_pars_vertex:E7,uv_vertex:T7,worldpos_vertex:w7,background_vert:A7,background_frag:C7,backgroundCube_vert:R7,backgroundCube_frag:O7,cube_vert:P7,cube_frag:D7,depth_vert:L7,depth_frag:N7,distanceRGBA_vert:U7,distanceRGBA_frag:z7,equirect_vert:I7,equirect_frag:B7,linedashed_vert:F7,linedashed_frag:H7,meshbasic_vert:k7,meshbasic_frag:j7,meshlambert_vert:V7,meshlambert_frag:G7,meshmatcap_vert:q7,meshmatcap_frag:W7,meshnormal_vert:X7,meshnormal_frag:Y7,meshphong_vert:Z7,meshphong_frag:K7,meshphysical_vert:Q7,meshphysical_frag:$7,meshtoon_vert:J7,meshtoon_frag:t9,points_vert:e9,points_frag:n9,shadow_vert:i9,shadow_frag:r9,sprite_vert:a9,sprite_frag:s9},Re={common:{diffuse:{value:new Ee(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Cn}},envmap:{envMap:{value:null},envMapRotation:{value:new Cn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Cn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Cn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Cn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Cn},normalScale:{value:new Jt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Cn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Cn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Cn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Cn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ee(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ee(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0},uvTransform:{value:new Cn}},sprite:{diffuse:{value:new Ee(16777215)},opacity:{value:1},center:{value:new Jt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}}},vu={basic:{uniforms:Cs([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.fog]),vertexShader:Ln.meshbasic_vert,fragmentShader:Ln.meshbasic_frag},lambert:{uniforms:Cs([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,Re.lights,{emissive:{value:new Ee(0)}}]),vertexShader:Ln.meshlambert_vert,fragmentShader:Ln.meshlambert_frag},phong:{uniforms:Cs([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,Re.lights,{emissive:{value:new Ee(0)},specular:{value:new Ee(1118481)},shininess:{value:30}}]),vertexShader:Ln.meshphong_vert,fragmentShader:Ln.meshphong_frag},standard:{uniforms:Cs([Re.common,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.roughnessmap,Re.metalnessmap,Re.fog,Re.lights,{emissive:{value:new Ee(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag},toon:{uniforms:Cs([Re.common,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.gradientmap,Re.fog,Re.lights,{emissive:{value:new Ee(0)}}]),vertexShader:Ln.meshtoon_vert,fragmentShader:Ln.meshtoon_frag},matcap:{uniforms:Cs([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,{matcap:{value:null}}]),vertexShader:Ln.meshmatcap_vert,fragmentShader:Ln.meshmatcap_frag},points:{uniforms:Cs([Re.points,Re.fog]),vertexShader:Ln.points_vert,fragmentShader:Ln.points_frag},dashed:{uniforms:Cs([Re.common,Re.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ln.linedashed_vert,fragmentShader:Ln.linedashed_frag},depth:{uniforms:Cs([Re.common,Re.displacementmap]),vertexShader:Ln.depth_vert,fragmentShader:Ln.depth_frag},normal:{uniforms:Cs([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,{opacity:{value:1}}]),vertexShader:Ln.meshnormal_vert,fragmentShader:Ln.meshnormal_frag},sprite:{uniforms:Cs([Re.sprite,Re.fog]),vertexShader:Ln.sprite_vert,fragmentShader:Ln.sprite_frag},background:{uniforms:{uvTransform:{value:new Cn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ln.background_vert,fragmentShader:Ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Cn}},vertexShader:Ln.backgroundCube_vert,fragmentShader:Ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ln.cube_vert,fragmentShader:Ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ln.equirect_vert,fragmentShader:Ln.equirect_frag},distanceRGBA:{uniforms:Cs([Re.common,Re.displacementmap,{referencePosition:{value:new at},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ln.distanceRGBA_vert,fragmentShader:Ln.distanceRGBA_frag},shadow:{uniforms:Cs([Re.lights,Re.fog,{color:{value:new Ee(0)},opacity:{value:1}}]),vertexShader:Ln.shadow_vert,fragmentShader:Ln.shadow_frag}};vu.physical={uniforms:Cs([vu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Cn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Cn},clearcoatNormalScale:{value:new Jt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Cn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Cn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Cn},sheen:{value:0},sheenColor:{value:new Ee(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Cn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Cn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Cn},transmissionSamplerSize:{value:new Jt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Cn},attenuationDistance:{value:0},attenuationColor:{value:new Ee(0)},specularColor:{value:new Ee(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Cn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Cn},anisotropyVector:{value:new Jt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Cn}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag};const wx={r:0,b:0,g:0},Gd=new Fo,o9=new mn;function l9(n,t,e,i,r,a,o){const l=new Ee(0);let h=a===!0?0:1,d,g,v=null,_=0,b=null;function M(P){let z=P.isScene===!0?P.background:null;return z&&z.isTexture&&(z=(P.backgroundBlurriness>0?e:t).get(z)),z}function A(P){let z=!1;const F=M(P);F===null?E(l,h):F&&F.isColor&&(E(F,1),z=!0);const I=n.xr.getEnvironmentBlendMode();I==="additive"?i.buffers.color.setClear(0,0,0,1,o):I==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||z)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function T(P,z){const F=M(z);F&&(F.isCubeTexture||F.mapping===Pg)?(g===void 0&&(g=new Dr(new Dp(1,1,1),new xr({name:"BackgroundCubeMaterial",uniforms:yg(vu.backgroundCube.uniforms),vertexShader:vu.backgroundCube.vertexShader,fragmentShader:vu.backgroundCube.fragmentShader,side:as,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(I,q,Y){this.matrixWorld.copyPosition(Y.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(g)),Gd.copy(z.backgroundRotation),Gd.x*=-1,Gd.y*=-1,Gd.z*=-1,F.isCubeTexture&&F.isRenderTargetTexture===!1&&(Gd.y*=-1,Gd.z*=-1),g.material.uniforms.envMap.value=F,g.material.uniforms.flipEnvMap.value=F.isCubeTexture&&F.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=z.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=z.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(o9.makeRotationFromEuler(Gd)),g.material.toneMapped=qn.getTransfer(F.colorSpace)!==mi,(v!==F||_!==F.version||b!==n.toneMapping)&&(g.material.needsUpdate=!0,v=F,_=F.version,b=n.toneMapping),g.layers.enableAll(),P.unshift(g,g.geometry,g.material,0,0,null)):F&&F.isTexture&&(d===void 0&&(d=new Dr(new Lg(2,2),new xr({name:"BackgroundMaterial",uniforms:yg(vu.background.uniforms),vertexShader:vu.background.vertexShader,fragmentShader:vu.background.fragmentShader,side:Sf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=F,d.material.uniforms.backgroundIntensity.value=z.backgroundIntensity,d.material.toneMapped=qn.getTransfer(F.colorSpace)!==mi,F.matrixAutoUpdate===!0&&F.updateMatrix(),d.material.uniforms.uvTransform.value.copy(F.matrix),(v!==F||_!==F.version||b!==n.toneMapping)&&(d.material.needsUpdate=!0,v=F,_=F.version,b=n.toneMapping),d.layers.enableAll(),P.unshift(d,d.geometry,d.material,0,0,null))}function E(P,z){P.getRGB(wx,vz(n)),i.buffers.color.setClear(wx.r,wx.g,wx.b,z,o)}function O(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return l},setClearColor:function(P,z=1){l.set(P),h=z,E(l,h)},getClearAlpha:function(){return h},setClearAlpha:function(P){h=P,E(l,h)},render:A,addToRenderList:T,dispose:O}}function u9(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=_(null);let a=r,o=!1;function l(j,K,st,lt,dt){let vt=!1;const X=v(lt,st,K);a!==X&&(a=X,d(a.object)),vt=b(j,lt,st,dt),vt&&M(j,lt,st,dt),dt!==null&&t.update(dt,n.ELEMENT_ARRAY_BUFFER),(vt||o)&&(o=!1,z(j,K,st,lt),dt!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(dt).buffer))}function h(){return n.createVertexArray()}function d(j){return n.bindVertexArray(j)}function g(j){return n.deleteVertexArray(j)}function v(j,K,st){const lt=st.wireframe===!0;let dt=i[j.id];dt===void 0&&(dt={},i[j.id]=dt);let vt=dt[K.id];vt===void 0&&(vt={},dt[K.id]=vt);let X=vt[lt];return X===void 0&&(X=_(h()),vt[lt]=X),X}function _(j){const K=[],st=[],lt=[];for(let dt=0;dt<e;dt++)K[dt]=0,st[dt]=0,lt[dt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:st,attributeDivisors:lt,object:j,attributes:{},index:null}}function b(j,K,st,lt){const dt=a.attributes,vt=K.attributes;let X=0;const it=st.getAttributes();for(const tt in it)if(it[tt].location>=0){const Q=dt[tt];let ut=vt[tt];if(ut===void 0&&(tt==="instanceMatrix"&&j.instanceMatrix&&(ut=j.instanceMatrix),tt==="instanceColor"&&j.instanceColor&&(ut=j.instanceColor)),Q===void 0||Q.attribute!==ut||ut&&Q.data!==ut.data)return!0;X++}return a.attributesNum!==X||a.index!==lt}function M(j,K,st,lt){const dt={},vt=K.attributes;let X=0;const it=st.getAttributes();for(const tt in it)if(it[tt].location>=0){let Q=vt[tt];Q===void 0&&(tt==="instanceMatrix"&&j.instanceMatrix&&(Q=j.instanceMatrix),tt==="instanceColor"&&j.instanceColor&&(Q=j.instanceColor));const ut={};ut.attribute=Q,Q&&Q.data&&(ut.data=Q.data),dt[tt]=ut,X++}a.attributes=dt,a.attributesNum=X,a.index=lt}function A(){const j=a.newAttributes;for(let K=0,st=j.length;K<st;K++)j[K]=0}function T(j){E(j,0)}function E(j,K){const st=a.newAttributes,lt=a.enabledAttributes,dt=a.attributeDivisors;st[j]=1,lt[j]===0&&(n.enableVertexAttribArray(j),lt[j]=1),dt[j]!==K&&(n.vertexAttribDivisor(j,K),dt[j]=K)}function O(){const j=a.newAttributes,K=a.enabledAttributes;for(let st=0,lt=K.length;st<lt;st++)K[st]!==j[st]&&(n.disableVertexAttribArray(st),K[st]=0)}function P(j,K,st,lt,dt,vt,X){X===!0?n.vertexAttribIPointer(j,K,st,dt,vt):n.vertexAttribPointer(j,K,st,lt,dt,vt)}function z(j,K,st,lt){A();const dt=lt.attributes,vt=st.getAttributes(),X=K.defaultAttributeValues;for(const it in vt){const tt=vt[it];if(tt.location>=0){let yt=dt[it];if(yt===void 0&&(it==="instanceMatrix"&&j.instanceMatrix&&(yt=j.instanceMatrix),it==="instanceColor"&&j.instanceColor&&(yt=j.instanceColor)),yt!==void 0){const Q=yt.normalized,ut=yt.itemSize,gt=t.get(yt);if(gt===void 0)continue;const Lt=gt.buffer,Dt=gt.type,Zt=gt.bytesPerElement,_t=Dt===n.INT||Dt===n.UNSIGNED_INT||yt.gpuType===I1;if(yt.isInterleavedBufferAttribute){const Qt=yt.data,ae=Qt.stride,Xt=yt.offset;if(Qt.isInstancedInterleavedBuffer){for(let le=0;le<tt.locationSize;le++)E(tt.location+le,Qt.meshPerAttribute);j.isInstancedMesh!==!0&&lt._maxInstanceCount===void 0&&(lt._maxInstanceCount=Qt.meshPerAttribute*Qt.count)}else for(let le=0;le<tt.locationSize;le++)T(tt.location+le);n.bindBuffer(n.ARRAY_BUFFER,Lt);for(let le=0;le<tt.locationSize;le++)P(tt.location+le,ut/tt.locationSize,Dt,Q,ae*Zt,(Xt+ut/tt.locationSize*le)*Zt,_t)}else{if(yt.isInstancedBufferAttribute){for(let Qt=0;Qt<tt.locationSize;Qt++)E(tt.location+Qt,yt.meshPerAttribute);j.isInstancedMesh!==!0&&lt._maxInstanceCount===void 0&&(lt._maxInstanceCount=yt.meshPerAttribute*yt.count)}else for(let Qt=0;Qt<tt.locationSize;Qt++)T(tt.location+Qt);n.bindBuffer(n.ARRAY_BUFFER,Lt);for(let Qt=0;Qt<tt.locationSize;Qt++)P(tt.location+Qt,ut/tt.locationSize,Dt,Q,ut*Zt,ut/tt.locationSize*Qt*Zt,_t)}}else if(X!==void 0){const Q=X[it];if(Q!==void 0)switch(Q.length){case 2:n.vertexAttrib2fv(tt.location,Q);break;case 3:n.vertexAttrib3fv(tt.location,Q);break;case 4:n.vertexAttrib4fv(tt.location,Q);break;default:n.vertexAttrib1fv(tt.location,Q)}}}}O()}function F(){Y();for(const j in i){const K=i[j];for(const st in K){const lt=K[st];for(const dt in lt)g(lt[dt].object),delete lt[dt];delete K[st]}delete i[j]}}function I(j){if(i[j.id]===void 0)return;const K=i[j.id];for(const st in K){const lt=K[st];for(const dt in lt)g(lt[dt].object),delete lt[dt];delete K[st]}delete i[j.id]}function q(j){for(const K in i){const st=i[K];if(st[j.id]===void 0)continue;const lt=st[j.id];for(const dt in lt)g(lt[dt].object),delete lt[dt];delete st[j.id]}}function Y(){G(),o=!0,a!==r&&(a=r,d(a.object))}function G(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:Y,resetDefaultState:G,dispose:F,releaseStatesOfGeometry:I,releaseStatesOfProgram:q,initAttributes:A,enableAttribute:T,disableUnusedAttributes:O}}function c9(n,t,e){let i;function r(d){i=d}function a(d,g){n.drawArrays(i,d,g),e.update(g,i,1)}function o(d,g,v){v!==0&&(n.drawArraysInstanced(i,d,g,v),e.update(g,i,v))}function l(d,g,v){if(v===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,g,0,v);let b=0;for(let M=0;M<v;M++)b+=g[M];e.update(b,i,1)}function h(d,g,v,_){if(v===0)return;const b=t.get("WEBGL_multi_draw");if(b===null)for(let M=0;M<d.length;M++)o(d[M],g[M],_[M]);else{b.multiDrawArraysInstancedWEBGL(i,d,0,g,0,_,0,v);let M=0;for(let A=0;A<v;A++)M+=g[A]*_[A];e.update(M,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=h}function f9(n,t,e,i){let r;function a(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const q=t.get("EXT_texture_filter_anisotropic");r=n.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(q){return!(q!==is&&i.convert(q)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(q){const Y=q===gc&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(q!==Cl&&i.convert(q)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&q!==$s&&!Y)}function h(q){if(q==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";q="mediump"}return q==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=e.precision!==void 0?e.precision:"highp";const g=h(d);g!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",g,"instead."),d=g);const v=e.logarithmicDepthBuffer===!0,_=e.reversedDepthBuffer===!0&&t.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),E=n.getParameter(n.MAX_VERTEX_ATTRIBS),O=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),P=n.getParameter(n.MAX_VARYING_VECTORS),z=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),F=M>0,I=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:h,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:v,reversedDepthBuffer:_,maxTextures:b,maxVertexTextures:M,maxTextureSize:A,maxCubemapSize:T,maxAttributes:E,maxVertexUniforms:O,maxVaryings:P,maxFragmentUniforms:z,vertexTextures:F,maxSamples:I}}function h9(n){const t=this;let e=null,i=0,r=!1,a=!1;const o=new uf,l=new Cn,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,_){const b=v.length!==0||_||i!==0||r;return r=_,i=v.length,b},this.beginShadows=function(){a=!0,g(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(v,_){e=g(v,_,0)},this.setState=function(v,_,b){const M=v.clippingPlanes,A=v.clipIntersection,T=v.clipShadows,E=n.get(v);if(!r||M===null||M.length===0||a&&!T)a?g(null):d();else{const O=a?0:i,P=O*4;let z=E.clippingState||null;h.value=z,z=g(M,_,P,b);for(let F=0;F!==P;++F)z[F]=e[F];E.clippingState=z,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=O}};function d(){h.value!==e&&(h.value=e,h.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function g(v,_,b,M){const A=v!==null?v.length:0;let T=null;if(A!==0){if(T=h.value,M!==!0||T===null){const E=b+A*4,O=_.matrixWorldInverse;l.getNormalMatrix(O),(T===null||T.length<E)&&(T=new Float32Array(E));for(let P=0,z=b;P!==A;++P,z+=4)o.copy(v[P]).applyMatrix4(O,l),o.normal.toArray(T,z),T[z+3]=o.constant}h.value=T,h.needsUpdate=!0}return t.numPlanes=A,t.numIntersection=0,T}}function d9(n){let t=new WeakMap;function e(o,l){return l===Ey?o.mapping=Mf:l===Ty&&(o.mapping=Fh),o}function i(o){if(o&&o.isTexture){const l=o.mapping;if(l===Ey||l===Ty)if(t.has(o)){const h=t.get(o).texture;return e(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const d=new _z(h.height);return d.fromEquirectangularTexture(n,o),t.set(o,d),o.addEventListener("dispose",r),e(d.texture,o.mapping)}else return null}}return o}function r(o){const l=o.target;l.removeEventListener("dispose",r);const h=t.get(l);h!==void 0&&(t.delete(l),h.dispose())}function a(){t=new WeakMap}return{get:i,dispose:a}}const rg=4,EP=[.125,.215,.35,.446,.526,.582],ep=20,gE=new _f,TP=new Ee;let vE=null,yE=0,_E=0,xE=!1;const Kd=(1+Math.sqrt(5))/2,Km=1/Kd,wP=[new at(-Kd,Km,0),new at(Kd,Km,0),new at(-Km,0,Kd),new at(Km,0,Kd),new at(0,Kd,-Km),new at(0,Kd,Km),new at(-1,1,-1),new at(1,1,-1),new at(-1,1,1),new at(1,1,1)],p9=new at;class Dw{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100,a={}){const{size:o=256,position:l=p9}=a;vE=this._renderer.getRenderTarget(),yE=this._renderer.getActiveCubeFace(),_E=this._renderer.getActiveMipmapLevel(),xE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(t,i,r,h,l),e>0&&this._blur(h,0,0,e),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=RP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=CP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(vE,yE,_E),this._renderer.xr.enabled=xE,t.scissorTest=!1,Ax(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Mf||t.mapping===Fh?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),vE=this._renderer.getRenderTarget(),yE=this._renderer.getActiveCubeFace(),_E=this._renderer.getActiveMipmapLevel(),xE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:cr,minFilter:cr,generateMipmaps:!1,type:gc,format:is,colorSpace:Hh,depthBuffer:!1},r=AP(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=AP(t,e,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=m9(a)),this._blurMaterial=g9(a,t,e)}return r}_compileMaterial(t){const e=new Dr(this._lodPlanes[0],t);this._renderer.compile(e,gE)}_sceneToCubeUV(t,e,i,r,a){const h=new Pr(90,1,e,i),d=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],v=this._renderer,_=v.autoClear,b=v.toneMapping;v.getClearColor(TP),v.toneMapping=bu,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(r),v.clearDepth(),v.setRenderTarget(null));const A=new Rl({name:"PMREM.Background",side:as,depthWrite:!1,depthTest:!1}),T=new Dr(new Dp,A);let E=!1;const O=t.background;O?O.isColor&&(A.color.copy(O),t.background=null,E=!0):(A.color.copy(TP),E=!0);for(let P=0;P<6;P++){const z=P%3;z===0?(h.up.set(0,d[P],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x+g[P],a.y,a.z)):z===1?(h.up.set(0,0,d[P]),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y+g[P],a.z)):(h.up.set(0,d[P],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y,a.z+g[P]));const F=this._cubeSize;Ax(r,z*F,P>2?F:0,F,F),v.setRenderTarget(r),E&&v.render(T,h),v.render(t,h)}T.geometry.dispose(),T.material.dispose(),v.toneMapping=b,v.autoClear=_,t.background=O}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===Mf||t.mapping===Fh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=RP()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=CP());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new Dr(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=t;const h=this._cubeSize;Ax(e,0,0,3*h,2*h),i.setRenderTarget(e),i.render(o,gE)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=wP[(r-a-1)%wP.length];this._blur(t,a-1,a,o,l)}e.autoClear=i}_blur(t,e,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,r,"latitudinal",a),this._halfBlur(o,t,i,i,r,"longitudinal",a)}_halfBlur(t,e,i,r,a,o,l){const h=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const g=3,v=new Dr(this._lodPlanes[r],d),_=d.uniforms,b=this._sizeLods[i]-1,M=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*ep-1),A=a/M,T=isFinite(a)?1+Math.floor(g*A):ep;T>ep&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${ep}`);const E=[];let O=0;for(let q=0;q<ep;++q){const Y=q/A,G=Math.exp(-Y*Y/2);E.push(G),q===0?O+=G:q<T&&(O+=2*G)}for(let q=0;q<E.length;q++)E[q]=E[q]/O;_.envMap.value=t.texture,_.samples.value=T,_.weights.value=E,_.latitudinal.value=o==="latitudinal",l&&(_.poleAxis.value=l);const{_lodMax:P}=this;_.dTheta.value=M,_.mipInt.value=P-i;const z=this._sizeLods[r],F=3*z*(r>P-rg?r-P+rg:0),I=4*(this._cubeSize-z);Ax(e,F,I,3*z,2*z),h.setRenderTarget(e),h.render(v,gE)}}function m9(n){const t=[],e=[],i=[];let r=n;const a=n-rg+1+EP.length;for(let o=0;o<a;o++){const l=Math.pow(2,r);e.push(l);let h=1/l;o>n-rg?h=EP[o-n+rg-1]:o===0&&(h=0),i.push(h);const d=1/(l-2),g=-d,v=1+d,_=[g,g,v,g,v,v,g,g,v,v,g,v],b=6,M=6,A=3,T=2,E=1,O=new Float32Array(A*M*b),P=new Float32Array(T*M*b),z=new Float32Array(E*M*b);for(let I=0;I<b;I++){const q=I%3*2/3-1,Y=I>2?0:-1,G=[q,Y,0,q+2/3,Y,0,q+2/3,Y+1,0,q,Y,0,q+2/3,Y+1,0,q,Y+1,0];O.set(G,A*M*I),P.set(_,T*M*I);const j=[I,I,I,I,I,I];z.set(j,E*M*I)}const F=new xn;F.setAttribute("position",new wi(O,A)),F.setAttribute("uv",new wi(P,T)),F.setAttribute("faceIndex",new wi(z,E)),t.push(F),r>rg&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function AP(n,t,e){const i=new Ba(n,t,e);return i.texture.mapping=Pg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ax(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function g9(n,t,e){const i=new Float32Array(ep),r=new at(0,1,0);return new xr({name:"SphericalGaussianBlur",defines:{n:ep,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:bC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:mc,depthTest:!1,depthWrite:!1})}function CP(){return new xr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:bC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:mc,depthTest:!1,depthWrite:!1})}function RP(){return new xr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:bC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:mc,depthTest:!1,depthWrite:!1})}function bC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function v9(n){let t=new WeakMap,e=null;function i(l){if(l&&l.isTexture){const h=l.mapping,d=h===Ey||h===Ty,g=h===Mf||h===Fh;if(d||g){let v=t.get(l);const _=v!==void 0?v.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==_)return e===null&&(e=new Dw(n)),v=d?e.fromEquirectangular(l,v):e.fromCubemap(l,v),v.texture.pmremVersion=l.pmremVersion,t.set(l,v),v.texture;if(v!==void 0)return v.texture;{const b=l.image;return d&&b&&b.height>0||g&&b&&r(b)?(e===null&&(e=new Dw(n)),v=d?e.fromEquirectangular(l):e.fromCubemap(l),v.texture.pmremVersion=l.pmremVersion,t.set(l,v),l.addEventListener("dispose",a),v.texture):null}}}return l}function r(l){let h=0;const d=6;for(let g=0;g<d;g++)l[g]!==void 0&&h++;return h===d}function a(l){const h=l.target;h.removeEventListener("dispose",a);const d=t.get(h);d!==void 0&&(t.delete(h),d.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:o}}function y9(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const r=e(i);return r===null&&Dy("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function _9(n,t,e,i){const r={},a=new WeakMap;function o(v){const _=v.target;_.index!==null&&t.remove(_.index);for(const M in _.attributes)t.remove(_.attributes[M]);_.removeEventListener("dispose",o),delete r[_.id];const b=a.get(_);b&&(t.remove(b),a.delete(_)),i.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,e.memory.geometries--}function l(v,_){return r[_.id]===!0||(_.addEventListener("dispose",o),r[_.id]=!0,e.memory.geometries++),_}function h(v){const _=v.attributes;for(const b in _)t.update(_[b],n.ARRAY_BUFFER)}function d(v){const _=[],b=v.index,M=v.attributes.position;let A=0;if(b!==null){const O=b.array;A=b.version;for(let P=0,z=O.length;P<z;P+=3){const F=O[P+0],I=O[P+1],q=O[P+2];_.push(F,I,I,q,q,F)}}else if(M!==void 0){const O=M.array;A=M.version;for(let P=0,z=O.length/3-1;P<z;P+=3){const F=P+0,I=P+1,q=P+2;_.push(F,I,I,q,q,F)}}else return;const T=new(dz(_)?ZA:YA)(_,1);T.version=A;const E=a.get(v);E&&t.remove(E),a.set(v,T)}function g(v){const _=a.get(v);if(_){const b=v.index;b!==null&&_.version<b.version&&d(v)}else d(v);return a.get(v)}return{get:l,update:h,getWireframeAttribute:g}}function x9(n,t,e){let i;function r(_){i=_}let a,o;function l(_){a=_.type,o=_.bytesPerElement}function h(_,b){n.drawElements(i,b,a,_*o),e.update(b,i,1)}function d(_,b,M){M!==0&&(n.drawElementsInstanced(i,b,a,_*o,M),e.update(b,i,M))}function g(_,b,M){if(M===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,_,0,M);let T=0;for(let E=0;E<M;E++)T+=b[E];e.update(T,i,1)}function v(_,b,M,A){if(M===0)return;const T=t.get("WEBGL_multi_draw");if(T===null)for(let E=0;E<_.length;E++)d(_[E]/o,b[E],A[E]);else{T.multiDrawElementsInstancedWEBGL(i,b,0,a,_,0,A,0,M);let E=0;for(let O=0;O<M;O++)E+=b[O]*A[O];e.update(E,i,1)}}this.setMode=r,this.setIndex=l,this.render=h,this.renderInstances=d,this.renderMultiDraw=g,this.renderMultiDrawInstances=v}function b9(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,l){switch(e.calls++,o){case n.TRIANGLES:e.triangles+=l*(a/3);break;case n.LINES:e.lines+=l*(a/2);break;case n.LINE_STRIP:e.lines+=l*(a-1);break;case n.LINE_LOOP:e.lines+=l*a;break;case n.POINTS:e.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:i}}function S9(n,t,e){const i=new WeakMap,r=new Jn;function a(o,l,h){const d=o.morphTargetInfluences,g=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,v=g!==void 0?g.length:0;let _=i.get(l);if(_===void 0||_.count!==v){let j=function(){Y.dispose(),i.delete(l),l.removeEventListener("dispose",j)};var b=j;_!==void 0&&_.texture.dispose();const M=l.morphAttributes.position!==void 0,A=l.morphAttributes.normal!==void 0,T=l.morphAttributes.color!==void 0,E=l.morphAttributes.position||[],O=l.morphAttributes.normal||[],P=l.morphAttributes.color||[];let z=0;M===!0&&(z=1),A===!0&&(z=2),T===!0&&(z=3);let F=l.attributes.position.count*z,I=1;F>t.maxTextureSize&&(I=Math.ceil(F/t.maxTextureSize),F=t.maxTextureSize);const q=new Float32Array(F*I*4*v),Y=new G1(q,F,I,v);Y.type=$s,Y.needsUpdate=!0;const G=z*4;for(let K=0;K<v;K++){const st=E[K],lt=O[K],dt=P[K],vt=F*I*4*K;for(let X=0;X<st.count;X++){const it=X*G;M===!0&&(r.fromBufferAttribute(st,X),q[vt+it+0]=r.x,q[vt+it+1]=r.y,q[vt+it+2]=r.z,q[vt+it+3]=0),A===!0&&(r.fromBufferAttribute(lt,X),q[vt+it+4]=r.x,q[vt+it+5]=r.y,q[vt+it+6]=r.z,q[vt+it+7]=0),T===!0&&(r.fromBufferAttribute(dt,X),q[vt+it+8]=r.x,q[vt+it+9]=r.y,q[vt+it+10]=r.z,q[vt+it+11]=dt.itemSize===4?r.w:1)}}_={count:v,texture:Y,size:new Jt(F,I)},i.set(l,_),l.addEventListener("dispose",j)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",o.morphTexture,e);else{let M=0;for(let T=0;T<d.length;T++)M+=d[T];const A=l.morphTargetsRelative?1:1-M;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",d)}h.getUniforms().setValue(n,"morphTargetsTexture",_.texture,e),h.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}return{update:a}}function M9(n,t,e,i){let r=new WeakMap;function a(h){const d=i.render.frame,g=h.geometry,v=t.get(h,g);if(r.get(v)!==d&&(t.update(v),r.set(v,d)),h.isInstancedMesh&&(h.hasEventListener("dispose",l)===!1&&h.addEventListener("dispose",l),r.get(h)!==d&&(e.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&e.update(h.instanceColor,n.ARRAY_BUFFER),r.set(h,d))),h.isSkinnedMesh){const _=h.skeleton;r.get(_)!==d&&(_.update(),r.set(_,d))}return v}function o(){r=new WeakMap}function l(h){const d=h.target;d.removeEventListener("dispose",l),e.remove(d.instanceMatrix),d.instanceColor!==null&&e.remove(d.instanceColor)}return{update:a,dispose:o}}const yI=new $i,OP=new eC(1,1),_I=new G1,xI=new q1,bI=new i0,PP=[],DP=[],LP=new Float32Array(16),NP=new Float32Array(9),UP=new Float32Array(4);function zg(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let a=PP[r];if(a===void 0&&(a=new Float32Array(r),PP[r]=a),t!==0){i.toArray(a,0);for(let o=1,l=0;o!==t;++o)l+=e,n[o].toArray(a,l)}return a}function Zr(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function Kr(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function hS(n,t){let e=DP[t];e===void 0&&(e=new Int32Array(t),DP[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function E9(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function T9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Zr(e,t))return;n.uniform2fv(this.addr,t),Kr(e,t)}}function w9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Zr(e,t))return;n.uniform3fv(this.addr,t),Kr(e,t)}}function A9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Zr(e,t))return;n.uniform4fv(this.addr,t),Kr(e,t)}}function C9(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(Zr(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),Kr(e,t)}else{if(Zr(e,i))return;UP.set(i),n.uniformMatrix2fv(this.addr,!1,UP),Kr(e,i)}}function R9(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(Zr(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),Kr(e,t)}else{if(Zr(e,i))return;NP.set(i),n.uniformMatrix3fv(this.addr,!1,NP),Kr(e,i)}}function O9(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(Zr(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),Kr(e,t)}else{if(Zr(e,i))return;LP.set(i),n.uniformMatrix4fv(this.addr,!1,LP),Kr(e,i)}}function P9(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function D9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Zr(e,t))return;n.uniform2iv(this.addr,t),Kr(e,t)}}function L9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Zr(e,t))return;n.uniform3iv(this.addr,t),Kr(e,t)}}function N9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Zr(e,t))return;n.uniform4iv(this.addr,t),Kr(e,t)}}function U9(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function z9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Zr(e,t))return;n.uniform2uiv(this.addr,t),Kr(e,t)}}function I9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Zr(e,t))return;n.uniform3uiv(this.addr,t),Kr(e,t)}}function B9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Zr(e,t))return;n.uniform4uiv(this.addr,t),Kr(e,t)}}function F9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(OP.compareFunction=qA,a=OP):a=yI,e.setTexture2D(t||a,r)}function H9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||xI,r)}function k9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||bI,r)}function j9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||_I,r)}function V9(n){switch(n){case 5126:return E9;case 35664:return T9;case 35665:return w9;case 35666:return A9;case 35674:return C9;case 35675:return R9;case 35676:return O9;case 5124:case 35670:return P9;case 35667:case 35671:return D9;case 35668:case 35672:return L9;case 35669:case 35673:return N9;case 5125:return U9;case 36294:return z9;case 36295:return I9;case 36296:return B9;case 35678:case 36198:case 36298:case 36306:case 35682:return F9;case 35679:case 36299:case 36307:return H9;case 35680:case 36300:case 36308:case 36293:return k9;case 36289:case 36303:case 36311:case 36292:return j9}}function G9(n,t){n.uniform1fv(this.addr,t)}function q9(n,t){const e=zg(t,this.size,2);n.uniform2fv(this.addr,e)}function W9(n,t){const e=zg(t,this.size,3);n.uniform3fv(this.addr,e)}function X9(n,t){const e=zg(t,this.size,4);n.uniform4fv(this.addr,e)}function Y9(n,t){const e=zg(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function Z9(n,t){const e=zg(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function K9(n,t){const e=zg(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function Q9(n,t){n.uniform1iv(this.addr,t)}function $9(n,t){n.uniform2iv(this.addr,t)}function J9(n,t){n.uniform3iv(this.addr,t)}function tq(n,t){n.uniform4iv(this.addr,t)}function eq(n,t){n.uniform1uiv(this.addr,t)}function nq(n,t){n.uniform2uiv(this.addr,t)}function iq(n,t){n.uniform3uiv(this.addr,t)}function rq(n,t){n.uniform4uiv(this.addr,t)}function aq(n,t,e){const i=this.cache,r=t.length,a=hS(e,r);Zr(i,a)||(n.uniform1iv(this.addr,a),Kr(i,a));for(let o=0;o!==r;++o)e.setTexture2D(t[o]||yI,a[o])}function sq(n,t,e){const i=this.cache,r=t.length,a=hS(e,r);Zr(i,a)||(n.uniform1iv(this.addr,a),Kr(i,a));for(let o=0;o!==r;++o)e.setTexture3D(t[o]||xI,a[o])}function oq(n,t,e){const i=this.cache,r=t.length,a=hS(e,r);Zr(i,a)||(n.uniform1iv(this.addr,a),Kr(i,a));for(let o=0;o!==r;++o)e.setTextureCube(t[o]||bI,a[o])}function lq(n,t,e){const i=this.cache,r=t.length,a=hS(e,r);Zr(i,a)||(n.uniform1iv(this.addr,a),Kr(i,a));for(let o=0;o!==r;++o)e.setTexture2DArray(t[o]||_I,a[o])}function uq(n){switch(n){case 5126:return G9;case 35664:return q9;case 35665:return W9;case 35666:return X9;case 35674:return Y9;case 35675:return Z9;case 35676:return K9;case 5124:case 35670:return Q9;case 35667:case 35671:return $9;case 35668:case 35672:return J9;case 35669:case 35673:return tq;case 5125:return eq;case 36294:return nq;case 36295:return iq;case 36296:return rq;case 35678:case 36198:case 36298:case 36306:case 35682:return aq;case 35679:case 36299:case 36307:return sq;case 35680:case 36300:case 36308:case 36293:return oq;case 36289:case 36303:case 36311:case 36292:return lq}}class cq{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=V9(e.type)}}class fq{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=uq(e.type)}}class hq{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const l=r[a];l.setValue(t,e[l.id],i)}}}const bE=/(\w+)(\])?(\[|\.)?/g;function zP(n,t){n.seq.push(t),n.map[t.id]=t}function dq(n,t,e){const i=n.name,r=i.length;for(bE.lastIndex=0;;){const a=bE.exec(i),o=bE.lastIndex;let l=a[1];const h=a[2]==="]",d=a[3];if(h&&(l=l|0),d===void 0||d==="["&&o+2===r){zP(e,d===void 0?new cq(l,n,t):new fq(l,n,t));break}else{let v=e.map[l];v===void 0&&(v=new hq(l),zP(e,v)),e=v}}}class Jx{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=t.getActiveUniform(e,r),o=t.getUniformLocation(e,a.name);dq(a,o,this)}}setValue(t,e,i,r){const a=this.map[e];a!==void 0&&a.setValue(t,i,r)}setOptional(t,e,i){const r=e[i];r!==void 0&&this.setValue(t,i,r)}static upload(t,e,i,r){for(let a=0,o=e.length;a!==o;++a){const l=e[a],h=i[l.id];h.needsUpdate!==!1&&l.setValue(t,h.value,r)}}static seqWithValue(t,e){const i=[];for(let r=0,a=t.length;r!==a;++r){const o=t[r];o.id in e&&i.push(o)}return i}}function IP(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const pq=37297;let mq=0;function gq(n,t){const e=n.split(`
`),i=[],r=Math.max(t-6,0),a=Math.min(t+6,e.length);for(let o=r;o<a;o++){const l=o+1;i.push(`${l===t?">":" "} ${l}: ${e[o]}`)}return i.join(`
`)}const BP=new Cn;function vq(n){qn._getMatrix(BP,qn.workingColorSpace,n);const t=`mat3( ${BP.elements.map(e=>e.toFixed(4))} )`;switch(qn.getTransfer(n)){case Ry:return[t,"LinearTransferOETF"];case mi:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function FP(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),a=(n.getShaderInfoLog(t)||"").trim();if(i&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const l=parseInt(o[1]);return e.toUpperCase()+`

`+a+`

`+gq(n.getShaderSource(t),l)}else return a}function yq(n,t){const e=vq(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function _q(n,t){let e;switch(t){case WU:e="Linear";break;case XU:e="Reinhard";break;case YU:e="Cineon";break;case U1:e="ACESFilmic";break;case KU:e="AgX";break;case QU:e="Neutral";break;case ZU:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const Cx=new at;function xq(){qn.getLuminanceCoefficients(Cx);const n=Cx.x.toFixed(4),t=Cx.y.toFixed(4),e=Cx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function bq(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ay).join(`
`)}function Sq(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function Mq(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(t,r),o=a.name;let l=1;a.type===n.FLOAT_MAT2&&(l=2),a.type===n.FLOAT_MAT3&&(l=3),a.type===n.FLOAT_MAT4&&(l=4),e[o]={type:a.type,location:n.getAttribLocation(t,o),locationSize:l}}return e}function ay(n){return n!==""}function HP(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function kP(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Eq=/^[ \t]*#include +<([\w\d./]+)>/gm;function Lw(n){return n.replace(Eq,wq)}const Tq=new Map;function wq(n,t){let e=Ln[t];if(e===void 0){const i=Tq.get(t);if(i!==void 0)e=Ln[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return Lw(e)}const Aq=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jP(n){return n.replace(Aq,Cq)}function Cq(n,t,e,i){let r="";for(let a=parseInt(t);a<parseInt(e);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function VP(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Rq(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===N1?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===uy?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===gu&&(t="SHADOWMAP_TYPE_VSM"),t}function Oq(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Mf:case Fh:t="ENVMAP_TYPE_CUBE";break;case Pg:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Pq(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Fh:t="ENVMAP_MODE_REFRACTION";break}return t}function Dq(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case e0:t="ENVMAP_BLENDING_MULTIPLY";break;case GU:t="ENVMAP_BLENDING_MIX";break;case qU:t="ENVMAP_BLENDING_ADD";break}return t}function Lq(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:i,maxMip:e}}function Nq(n,t,e,i){const r=n.getContext(),a=e.defines;let o=e.vertexShader,l=e.fragmentShader;const h=Rq(e),d=Oq(e),g=Pq(e),v=Dq(e),_=Lq(e),b=bq(e),M=Sq(a),A=r.createProgram();let T,E,O=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(T=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M].filter(ay).join(`
`),T.length>0&&(T+=`
`),E=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M].filter(ay).join(`
`),E.length>0&&(E+=`
`)):(T=[VP(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+g:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ay).join(`
`),E=[VP(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.envMap?"#define "+g:"",e.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==bu?"#define TONE_MAPPING":"",e.toneMapping!==bu?Ln.tonemapping_pars_fragment:"",e.toneMapping!==bu?_q("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Ln.colorspace_pars_fragment,yq("linearToOutputTexel",e.outputColorSpace),xq(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(ay).join(`
`)),o=Lw(o),o=HP(o,e),o=kP(o,e),l=Lw(l),l=HP(l,e),l=kP(l,e),o=jP(o),l=jP(l),e.isRawShaderMaterial!==!0&&(O=`#version 300 es
`,T=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,E=["#define varying in",e.glslVersion===Ew?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===Ew?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const P=O+T+o,z=O+E+l,F=IP(r,r.VERTEX_SHADER,P),I=IP(r,r.FRAGMENT_SHADER,z);r.attachShader(A,F),r.attachShader(A,I),e.index0AttributeName!==void 0?r.bindAttribLocation(A,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A);function q(K){if(n.debug.checkShaderErrors){const st=r.getProgramInfoLog(A)||"",lt=r.getShaderInfoLog(F)||"",dt=r.getShaderInfoLog(I)||"",vt=st.trim(),X=lt.trim(),it=dt.trim();let tt=!0,yt=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(tt=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,A,F,I);else{const Q=FP(r,F,"vertex"),ut=FP(r,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Material Name: `+K.name+`
Material Type: `+K.type+`

Program Info Log: `+vt+`
`+Q+`
`+ut)}else vt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",vt):(X===""||it==="")&&(yt=!1);yt&&(K.diagnostics={runnable:tt,programLog:vt,vertexShader:{log:X,prefix:T},fragmentShader:{log:it,prefix:E}})}r.deleteShader(F),r.deleteShader(I),Y=new Jx(r,A),G=Mq(r,A)}let Y;this.getUniforms=function(){return Y===void 0&&q(this),Y};let G;this.getAttributes=function(){return G===void 0&&q(this),G};let j=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return j===!1&&(j=r.getProgramParameter(A,pq)),j},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=mq++,this.cacheKey=t,this.usedTimes=1,this.program=A,this.vertexShader=F,this.fragmentShader=I,this}let Uq=0;class zq{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(e),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new Iq(t),e.set(t,i)),i}}class Iq{constructor(t){this.id=Uq++,this.code=t,this.usedTimes=0}}function Bq(n,t,e,i,r,a,o){const l=new _p,h=new zq,d=new Set,g=[],v=r.logarithmicDepthBuffer,_=r.vertexTextures;let b=r.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(G){return d.add(G),G===0?"uv":`uv${G}`}function T(G,j,K,st,lt){const dt=st.fog,vt=lt.geometry,X=G.isMeshStandardMaterial?st.environment:null,it=(G.isMeshStandardMaterial?e:t).get(G.envMap||X),tt=it&&it.mapping===Pg?it.image.height:null,yt=M[G.type];G.precision!==null&&(b=r.getMaxPrecision(G.precision),b!==G.precision&&console.warn("THREE.WebGLProgram.getParameters:",G.precision,"not supported, using",b,"instead."));const Q=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,ut=Q!==void 0?Q.length:0;let gt=0;vt.morphAttributes.position!==void 0&&(gt=1),vt.morphAttributes.normal!==void 0&&(gt=2),vt.morphAttributes.color!==void 0&&(gt=3);let Lt,Dt,Zt,_t;if(yt){const gn=vu[yt];Lt=gn.vertexShader,Dt=gn.fragmentShader}else Lt=G.vertexShader,Dt=G.fragmentShader,h.update(G),Zt=h.getVertexShaderID(G),_t=h.getFragmentShaderID(G);const Qt=n.getRenderTarget(),ae=n.state.buffers.depth.getReversed(),Xt=lt.isInstancedMesh===!0,le=lt.isBatchedMesh===!0,pe=!!G.map,jt=!!G.matcap,ot=!!it,Ht=!!G.aoMap,Gt=!!G.lightMap,Yt=!!G.bumpMap,At=!!G.normalMap,me=!!G.displacementMap,qt=!!G.emissiveMap,te=!!G.metalnessMap,Le=!!G.roughnessMap,He=G.anisotropy>0,$=G.clearcoat>0,Z=G.dispersion>0,Mt=G.iridescence>0,Nt=G.sheen>0,$t=G.transmission>0,It=He&&!!G.anisotropyMap,Me=$&&!!G.clearcoatMap,ve=$&&!!G.clearcoatNormalMap,Oe=$&&!!G.clearcoatRoughnessMap,Pe=Mt&&!!G.iridescenceMap,oe=Mt&&!!G.iridescenceThicknessMap,ye=Nt&&!!G.sheenColorMap,De=Nt&&!!G.sheenRoughnessMap,ct=!!G.specularMap,Et=!!G.specularColorMap,fe=!!G.specularIntensityMap,pt=$t&&!!G.transmissionMap,ie=$t&&!!G.thicknessMap,he=!!G.gradientMap,_e=!!G.alphaMap,de=G.alphaTest>0,re=!!G.alphaHash,we=!!G.extensions;let ke=bu;G.toneMapped&&(Qt===null||Qt.isXRRenderTarget===!0)&&(ke=n.toneMapping);const bn={shaderID:yt,shaderType:G.type,shaderName:G.name,vertexShader:Lt,fragmentShader:Dt,defines:G.defines,customVertexShaderID:Zt,customFragmentShaderID:_t,isRawShaderMaterial:G.isRawShaderMaterial===!0,glslVersion:G.glslVersion,precision:b,batching:le,batchingColor:le&&lt._colorsTexture!==null,instancing:Xt,instancingColor:Xt&&lt.instanceColor!==null,instancingMorph:Xt&&lt.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:Qt===null?n.outputColorSpace:Qt.isXRRenderTarget===!0?Qt.texture.colorSpace:Hh,alphaToCoverage:!!G.alphaToCoverage,map:pe,matcap:jt,envMap:ot,envMapMode:ot&&it.mapping,envMapCubeUVHeight:tt,aoMap:Ht,lightMap:Gt,bumpMap:Yt,normalMap:At,displacementMap:_&&me,emissiveMap:qt,normalMapObjectSpace:At&&G.normalMapType===rz,normalMapTangentSpace:At&&G.normalMapType===jh,metalnessMap:te,roughnessMap:Le,anisotropy:He,anisotropyMap:It,clearcoat:$,clearcoatMap:Me,clearcoatNormalMap:ve,clearcoatRoughnessMap:Oe,dispersion:Z,iridescence:Mt,iridescenceMap:Pe,iridescenceThicknessMap:oe,sheen:Nt,sheenColorMap:ye,sheenRoughnessMap:De,specularMap:ct,specularColorMap:Et,specularIntensityMap:fe,transmission:$t,transmissionMap:pt,thicknessMap:ie,gradientMap:he,opaque:G.transparent===!1&&G.blending===cp&&G.alphaToCoverage===!1,alphaMap:_e,alphaTest:de,alphaHash:re,combine:G.combine,mapUv:pe&&A(G.map.channel),aoMapUv:Ht&&A(G.aoMap.channel),lightMapUv:Gt&&A(G.lightMap.channel),bumpMapUv:Yt&&A(G.bumpMap.channel),normalMapUv:At&&A(G.normalMap.channel),displacementMapUv:me&&A(G.displacementMap.channel),emissiveMapUv:qt&&A(G.emissiveMap.channel),metalnessMapUv:te&&A(G.metalnessMap.channel),roughnessMapUv:Le&&A(G.roughnessMap.channel),anisotropyMapUv:It&&A(G.anisotropyMap.channel),clearcoatMapUv:Me&&A(G.clearcoatMap.channel),clearcoatNormalMapUv:ve&&A(G.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Oe&&A(G.clearcoatRoughnessMap.channel),iridescenceMapUv:Pe&&A(G.iridescenceMap.channel),iridescenceThicknessMapUv:oe&&A(G.iridescenceThicknessMap.channel),sheenColorMapUv:ye&&A(G.sheenColorMap.channel),sheenRoughnessMapUv:De&&A(G.sheenRoughnessMap.channel),specularMapUv:ct&&A(G.specularMap.channel),specularColorMapUv:Et&&A(G.specularColorMap.channel),specularIntensityMapUv:fe&&A(G.specularIntensityMap.channel),transmissionMapUv:pt&&A(G.transmissionMap.channel),thicknessMapUv:ie&&A(G.thicknessMap.channel),alphaMapUv:_e&&A(G.alphaMap.channel),vertexTangents:!!vt.attributes.tangent&&(At||He),vertexColors:G.vertexColors,vertexAlphas:G.vertexColors===!0&&!!vt.attributes.color&&vt.attributes.color.itemSize===4,pointsUvs:lt.isPoints===!0&&!!vt.attributes.uv&&(pe||_e),fog:!!dt,useFog:G.fog===!0,fogExp2:!!dt&&dt.isFogExp2,flatShading:G.flatShading===!0&&G.wireframe===!1,sizeAttenuation:G.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:ae,skinning:lt.isSkinnedMesh===!0,morphTargets:vt.morphAttributes.position!==void 0,morphNormals:vt.morphAttributes.normal!==void 0,morphColors:vt.morphAttributes.color!==void 0,morphTargetsCount:ut,morphTextureStride:gt,numDirLights:j.directional.length,numPointLights:j.point.length,numSpotLights:j.spot.length,numSpotLightMaps:j.spotLightMap.length,numRectAreaLights:j.rectArea.length,numHemiLights:j.hemi.length,numDirLightShadows:j.directionalShadowMap.length,numPointLightShadows:j.pointShadowMap.length,numSpotLightShadows:j.spotShadowMap.length,numSpotLightShadowsWithMaps:j.numSpotLightShadowsWithMaps,numLightProbes:j.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:G.dithering,shadowMapEnabled:n.shadowMap.enabled&&K.length>0,shadowMapType:n.shadowMap.type,toneMapping:ke,decodeVideoTexture:pe&&G.map.isVideoTexture===!0&&qn.getTransfer(G.map.colorSpace)===mi,decodeVideoTextureEmissive:qt&&G.emissiveMap.isVideoTexture===!0&&qn.getTransfer(G.emissiveMap.colorSpace)===mi,premultipliedAlpha:G.premultipliedAlpha,doubleSided:G.side===Tl,flipSided:G.side===as,useDepthPacking:G.depthPacking>=0,depthPacking:G.depthPacking||0,index0AttributeName:G.index0AttributeName,extensionClipCullDistance:we&&G.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(we&&G.extensions.multiDraw===!0||le)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:G.customProgramCacheKey()};return bn.vertexUv1s=d.has(1),bn.vertexUv2s=d.has(2),bn.vertexUv3s=d.has(3),d.clear(),bn}function E(G){const j=[];if(G.shaderID?j.push(G.shaderID):(j.push(G.customVertexShaderID),j.push(G.customFragmentShaderID)),G.defines!==void 0)for(const K in G.defines)j.push(K),j.push(G.defines[K]);return G.isRawShaderMaterial===!1&&(O(j,G),P(j,G),j.push(n.outputColorSpace)),j.push(G.customProgramCacheKey),j.join()}function O(G,j){G.push(j.precision),G.push(j.outputColorSpace),G.push(j.envMapMode),G.push(j.envMapCubeUVHeight),G.push(j.mapUv),G.push(j.alphaMapUv),G.push(j.lightMapUv),G.push(j.aoMapUv),G.push(j.bumpMapUv),G.push(j.normalMapUv),G.push(j.displacementMapUv),G.push(j.emissiveMapUv),G.push(j.metalnessMapUv),G.push(j.roughnessMapUv),G.push(j.anisotropyMapUv),G.push(j.clearcoatMapUv),G.push(j.clearcoatNormalMapUv),G.push(j.clearcoatRoughnessMapUv),G.push(j.iridescenceMapUv),G.push(j.iridescenceThicknessMapUv),G.push(j.sheenColorMapUv),G.push(j.sheenRoughnessMapUv),G.push(j.specularMapUv),G.push(j.specularColorMapUv),G.push(j.specularIntensityMapUv),G.push(j.transmissionMapUv),G.push(j.thicknessMapUv),G.push(j.combine),G.push(j.fogExp2),G.push(j.sizeAttenuation),G.push(j.morphTargetsCount),G.push(j.morphAttributeCount),G.push(j.numDirLights),G.push(j.numPointLights),G.push(j.numSpotLights),G.push(j.numSpotLightMaps),G.push(j.numHemiLights),G.push(j.numRectAreaLights),G.push(j.numDirLightShadows),G.push(j.numPointLightShadows),G.push(j.numSpotLightShadows),G.push(j.numSpotLightShadowsWithMaps),G.push(j.numLightProbes),G.push(j.shadowMapType),G.push(j.toneMapping),G.push(j.numClippingPlanes),G.push(j.numClipIntersection),G.push(j.depthPacking)}function P(G,j){l.disableAll(),j.supportsVertexTextures&&l.enable(0),j.instancing&&l.enable(1),j.instancingColor&&l.enable(2),j.instancingMorph&&l.enable(3),j.matcap&&l.enable(4),j.envMap&&l.enable(5),j.normalMapObjectSpace&&l.enable(6),j.normalMapTangentSpace&&l.enable(7),j.clearcoat&&l.enable(8),j.iridescence&&l.enable(9),j.alphaTest&&l.enable(10),j.vertexColors&&l.enable(11),j.vertexAlphas&&l.enable(12),j.vertexUv1s&&l.enable(13),j.vertexUv2s&&l.enable(14),j.vertexUv3s&&l.enable(15),j.vertexTangents&&l.enable(16),j.anisotropy&&l.enable(17),j.alphaHash&&l.enable(18),j.batching&&l.enable(19),j.dispersion&&l.enable(20),j.batchingColor&&l.enable(21),j.gradientMap&&l.enable(22),G.push(l.mask),l.disableAll(),j.fog&&l.enable(0),j.useFog&&l.enable(1),j.flatShading&&l.enable(2),j.logarithmicDepthBuffer&&l.enable(3),j.reversedDepthBuffer&&l.enable(4),j.skinning&&l.enable(5),j.morphTargets&&l.enable(6),j.morphNormals&&l.enable(7),j.morphColors&&l.enable(8),j.premultipliedAlpha&&l.enable(9),j.shadowMapEnabled&&l.enable(10),j.doubleSided&&l.enable(11),j.flipSided&&l.enable(12),j.useDepthPacking&&l.enable(13),j.dithering&&l.enable(14),j.transmission&&l.enable(15),j.sheen&&l.enable(16),j.opaque&&l.enable(17),j.pointsUvs&&l.enable(18),j.decodeVideoTexture&&l.enable(19),j.decodeVideoTextureEmissive&&l.enable(20),j.alphaToCoverage&&l.enable(21),G.push(l.mask)}function z(G){const j=M[G.type];let K;if(j){const st=vu[j];K=Ly.clone(st.uniforms)}else K=G.uniforms;return K}function F(G,j){let K;for(let st=0,lt=g.length;st<lt;st++){const dt=g[st];if(dt.cacheKey===j){K=dt,++K.usedTimes;break}}return K===void 0&&(K=new Nq(n,j,G,a),g.push(K)),K}function I(G){if(--G.usedTimes===0){const j=g.indexOf(G);g[j]=g[g.length-1],g.pop(),G.destroy()}}function q(G){h.remove(G)}function Y(){h.dispose()}return{getParameters:T,getProgramCacheKey:E,getUniforms:z,acquireProgram:F,releaseProgram:I,releaseShaderCache:q,programs:g,dispose:Y}}function Fq(){let n=new WeakMap;function t(o){return n.has(o)}function e(o){let l=n.get(o);return l===void 0&&(l={},n.set(o,l)),l}function i(o){n.delete(o)}function r(o,l,h){n.get(o)[l]=h}function a(){n=new WeakMap}return{has:t,get:e,remove:i,update:r,dispose:a}}function Hq(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function GP(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function qP(){const n=[];let t=0;const e=[],i=[],r=[];function a(){t=0,e.length=0,i.length=0,r.length=0}function o(v,_,b,M,A,T){let E=n[t];return E===void 0?(E={id:v.id,object:v,geometry:_,material:b,groupOrder:M,renderOrder:v.renderOrder,z:A,group:T},n[t]=E):(E.id=v.id,E.object=v,E.geometry=_,E.material=b,E.groupOrder=M,E.renderOrder=v.renderOrder,E.z=A,E.group=T),t++,E}function l(v,_,b,M,A,T){const E=o(v,_,b,M,A,T);b.transmission>0?i.push(E):b.transparent===!0?r.push(E):e.push(E)}function h(v,_,b,M,A,T){const E=o(v,_,b,M,A,T);b.transmission>0?i.unshift(E):b.transparent===!0?r.unshift(E):e.unshift(E)}function d(v,_){e.length>1&&e.sort(v||Hq),i.length>1&&i.sort(_||GP),r.length>1&&r.sort(_||GP)}function g(){for(let v=t,_=n.length;v<_;v++){const b=n[v];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:e,transmissive:i,transparent:r,init:a,push:l,unshift:h,finish:g,sort:d}}function kq(){let n=new WeakMap;function t(i,r){const a=n.get(i);let o;return a===void 0?(o=new qP,n.set(i,[o])):r>=a.length?(o=new qP,a.push(o)):o=a[r],o}function e(){n=new WeakMap}return{get:t,dispose:e}}function jq(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new at,color:new Ee};break;case"SpotLight":e={position:new at,direction:new at,color:new Ee,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new at,color:new Ee,distance:0,decay:0};break;case"HemisphereLight":e={direction:new at,skyColor:new Ee,groundColor:new Ee};break;case"RectAreaLight":e={color:new Ee,position:new at,halfWidth:new at,halfHeight:new at};break}return n[t.id]=e,e}}}function Vq(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jt};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jt};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let Gq=0;function qq(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function Wq(n){const t=new jq,e=Vq(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new at);const r=new at,a=new mn,o=new mn;function l(d){let g=0,v=0,_=0;for(let G=0;G<9;G++)i.probe[G].set(0,0,0);let b=0,M=0,A=0,T=0,E=0,O=0,P=0,z=0,F=0,I=0,q=0;d.sort(qq);for(let G=0,j=d.length;G<j;G++){const K=d[G],st=K.color,lt=K.intensity,dt=K.distance,vt=K.shadow&&K.shadow.map?K.shadow.map.texture:null;if(K.isAmbientLight)g+=st.r*lt,v+=st.g*lt,_+=st.b*lt;else if(K.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(K.sh.coefficients[X],lt);q++}else if(K.isDirectionalLight){const X=t.get(K);if(X.color.copy(K.color).multiplyScalar(K.intensity),K.castShadow){const it=K.shadow,tt=e.get(K);tt.shadowIntensity=it.intensity,tt.shadowBias=it.bias,tt.shadowNormalBias=it.normalBias,tt.shadowRadius=it.radius,tt.shadowMapSize=it.mapSize,i.directionalShadow[b]=tt,i.directionalShadowMap[b]=vt,i.directionalShadowMatrix[b]=K.shadow.matrix,O++}i.directional[b]=X,b++}else if(K.isSpotLight){const X=t.get(K);X.position.setFromMatrixPosition(K.matrixWorld),X.color.copy(st).multiplyScalar(lt),X.distance=dt,X.coneCos=Math.cos(K.angle),X.penumbraCos=Math.cos(K.angle*(1-K.penumbra)),X.decay=K.decay,i.spot[A]=X;const it=K.shadow;if(K.map&&(i.spotLightMap[F]=K.map,F++,it.updateMatrices(K),K.castShadow&&I++),i.spotLightMatrix[A]=it.matrix,K.castShadow){const tt=e.get(K);tt.shadowIntensity=it.intensity,tt.shadowBias=it.bias,tt.shadowNormalBias=it.normalBias,tt.shadowRadius=it.radius,tt.shadowMapSize=it.mapSize,i.spotShadow[A]=tt,i.spotShadowMap[A]=vt,z++}A++}else if(K.isRectAreaLight){const X=t.get(K);X.color.copy(st).multiplyScalar(lt),X.halfWidth.set(K.width*.5,0,0),X.halfHeight.set(0,K.height*.5,0),i.rectArea[T]=X,T++}else if(K.isPointLight){const X=t.get(K);if(X.color.copy(K.color).multiplyScalar(K.intensity),X.distance=K.distance,X.decay=K.decay,K.castShadow){const it=K.shadow,tt=e.get(K);tt.shadowIntensity=it.intensity,tt.shadowBias=it.bias,tt.shadowNormalBias=it.normalBias,tt.shadowRadius=it.radius,tt.shadowMapSize=it.mapSize,tt.shadowCameraNear=it.camera.near,tt.shadowCameraFar=it.camera.far,i.pointShadow[M]=tt,i.pointShadowMap[M]=vt,i.pointShadowMatrix[M]=K.shadow.matrix,P++}i.point[M]=X,M++}else if(K.isHemisphereLight){const X=t.get(K);X.skyColor.copy(K.color).multiplyScalar(lt),X.groundColor.copy(K.groundColor).multiplyScalar(lt),i.hemi[E]=X,E++}}T>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Re.LTC_FLOAT_1,i.rectAreaLTC2=Re.LTC_FLOAT_2):(i.rectAreaLTC1=Re.LTC_HALF_1,i.rectAreaLTC2=Re.LTC_HALF_2)),i.ambient[0]=g,i.ambient[1]=v,i.ambient[2]=_;const Y=i.hash;(Y.directionalLength!==b||Y.pointLength!==M||Y.spotLength!==A||Y.rectAreaLength!==T||Y.hemiLength!==E||Y.numDirectionalShadows!==O||Y.numPointShadows!==P||Y.numSpotShadows!==z||Y.numSpotMaps!==F||Y.numLightProbes!==q)&&(i.directional.length=b,i.spot.length=A,i.rectArea.length=T,i.point.length=M,i.hemi.length=E,i.directionalShadow.length=O,i.directionalShadowMap.length=O,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=z,i.spotShadowMap.length=z,i.directionalShadowMatrix.length=O,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=z+F-I,i.spotLightMap.length=F,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=q,Y.directionalLength=b,Y.pointLength=M,Y.spotLength=A,Y.rectAreaLength=T,Y.hemiLength=E,Y.numDirectionalShadows=O,Y.numPointShadows=P,Y.numSpotShadows=z,Y.numSpotMaps=F,Y.numLightProbes=q,i.version=Gq++)}function h(d,g){let v=0,_=0,b=0,M=0,A=0;const T=g.matrixWorldInverse;for(let E=0,O=d.length;E<O;E++){const P=d[E];if(P.isDirectionalLight){const z=i.directional[v];z.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),z.direction.sub(r),z.direction.transformDirection(T),v++}else if(P.isSpotLight){const z=i.spot[b];z.position.setFromMatrixPosition(P.matrixWorld),z.position.applyMatrix4(T),z.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),z.direction.sub(r),z.direction.transformDirection(T),b++}else if(P.isRectAreaLight){const z=i.rectArea[M];z.position.setFromMatrixPosition(P.matrixWorld),z.position.applyMatrix4(T),o.identity(),a.copy(P.matrixWorld),a.premultiply(T),o.extractRotation(a),z.halfWidth.set(P.width*.5,0,0),z.halfHeight.set(0,P.height*.5,0),z.halfWidth.applyMatrix4(o),z.halfHeight.applyMatrix4(o),M++}else if(P.isPointLight){const z=i.point[_];z.position.setFromMatrixPosition(P.matrixWorld),z.position.applyMatrix4(T),_++}else if(P.isHemisphereLight){const z=i.hemi[A];z.direction.setFromMatrixPosition(P.matrixWorld),z.direction.transformDirection(T),A++}}}return{setup:l,setupView:h,state:i}}function WP(n){const t=new Wq(n),e=[],i=[];function r(g){d.camera=g,e.length=0,i.length=0}function a(g){e.push(g)}function o(g){i.push(g)}function l(){t.setup(e)}function h(g){t.setupView(e,g)}const d={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:d,setupLights:l,setupLightsView:h,pushLight:a,pushShadow:o}}function Xq(n){let t=new WeakMap;function e(r,a=0){const o=t.get(r);let l;return o===void 0?(l=new WP(n),t.set(r,[l])):a>=o.length?(l=new WP(n),o.push(l)):l=o[a],l}function i(){t=new WeakMap}return{get:e,dispose:i}}const Yq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Zq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Kq(n,t,e){let i=new Dg;const r=new Jt,a=new Jt,o=new Jn,l=new uC({depthPacking:iz}),h=new cC,d={},g=e.maxTextureSize,v={[Sf]:as,[as]:Sf,[Tl]:Tl},_=new xr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Jt},radius:{value:4}},vertexShader:Yq,fragmentShader:Zq}),b=_.clone();b.defines.HORIZONTAL_PASS=1;const M=new xn;M.setAttribute("position",new wi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Dr(M,_),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=N1;let E=this.type;this.render=function(I,q,Y){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||I.length===0)return;const G=n.getRenderTarget(),j=n.getActiveCubeFace(),K=n.getActiveMipmapLevel(),st=n.state;st.setBlending(mc),st.buffers.depth.getReversed()===!0?st.buffers.color.setClear(0,0,0,0):st.buffers.color.setClear(1,1,1,1),st.buffers.depth.setTest(!0),st.setScissorTest(!1);const lt=E!==gu&&this.type===gu,dt=E===gu&&this.type!==gu;for(let vt=0,X=I.length;vt<X;vt++){const it=I[vt],tt=it.shadow;if(tt===void 0){console.warn("THREE.WebGLShadowMap:",it,"has no shadow.");continue}if(tt.autoUpdate===!1&&tt.needsUpdate===!1)continue;r.copy(tt.mapSize);const yt=tt.getFrameExtents();if(r.multiply(yt),a.copy(tt.mapSize),(r.x>g||r.y>g)&&(r.x>g&&(a.x=Math.floor(g/yt.x),r.x=a.x*yt.x,tt.mapSize.x=a.x),r.y>g&&(a.y=Math.floor(g/yt.y),r.y=a.y*yt.y,tt.mapSize.y=a.y)),tt.map===null||lt===!0||dt===!0){const ut=this.type!==gu?{minFilter:Ia,magFilter:Ia}:{};tt.map!==null&&tt.map.dispose(),tt.map=new Ba(r.x,r.y,ut),tt.map.texture.name=it.name+".shadowMap",tt.camera.updateProjectionMatrix()}n.setRenderTarget(tt.map),n.clear();const Q=tt.getViewportCount();for(let ut=0;ut<Q;ut++){const gt=tt.getViewport(ut);o.set(a.x*gt.x,a.y*gt.y,a.x*gt.z,a.y*gt.w),st.viewport(o),tt.updateMatrices(it,ut),i=tt.getFrustum(),z(q,Y,tt.camera,it,this.type)}tt.isPointLightShadow!==!0&&this.type===gu&&O(tt,Y),tt.needsUpdate=!1}E=this.type,T.needsUpdate=!1,n.setRenderTarget(G,j,K)};function O(I,q){const Y=t.update(A);_.defines.VSM_SAMPLES!==I.blurSamples&&(_.defines.VSM_SAMPLES=I.blurSamples,b.defines.VSM_SAMPLES=I.blurSamples,_.needsUpdate=!0,b.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new Ba(r.x,r.y)),_.uniforms.shadow_pass.value=I.map.texture,_.uniforms.resolution.value=I.mapSize,_.uniforms.radius.value=I.radius,n.setRenderTarget(I.mapPass),n.clear(),n.renderBufferDirect(q,null,Y,_,A,null),b.uniforms.shadow_pass.value=I.mapPass.texture,b.uniforms.resolution.value=I.mapSize,b.uniforms.radius.value=I.radius,n.setRenderTarget(I.map),n.clear(),n.renderBufferDirect(q,null,Y,b,A,null)}function P(I,q,Y,G){let j=null;const K=Y.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(K!==void 0)j=K;else if(j=Y.isPointLight===!0?h:l,n.localClippingEnabled&&q.clipShadows===!0&&Array.isArray(q.clippingPlanes)&&q.clippingPlanes.length!==0||q.displacementMap&&q.displacementScale!==0||q.alphaMap&&q.alphaTest>0||q.map&&q.alphaTest>0||q.alphaToCoverage===!0){const st=j.uuid,lt=q.uuid;let dt=d[st];dt===void 0&&(dt={},d[st]=dt);let vt=dt[lt];vt===void 0&&(vt=j.clone(),dt[lt]=vt,q.addEventListener("dispose",F)),j=vt}if(j.visible=q.visible,j.wireframe=q.wireframe,G===gu?j.side=q.shadowSide!==null?q.shadowSide:q.side:j.side=q.shadowSide!==null?q.shadowSide:v[q.side],j.alphaMap=q.alphaMap,j.alphaTest=q.alphaToCoverage===!0?.5:q.alphaTest,j.map=q.map,j.clipShadows=q.clipShadows,j.clippingPlanes=q.clippingPlanes,j.clipIntersection=q.clipIntersection,j.displacementMap=q.displacementMap,j.displacementScale=q.displacementScale,j.displacementBias=q.displacementBias,j.wireframeLinewidth=q.wireframeLinewidth,j.linewidth=q.linewidth,Y.isPointLight===!0&&j.isMeshDistanceMaterial===!0){const st=n.properties.get(j);st.light=Y}return j}function z(I,q,Y,G,j){if(I.visible===!1)return;if(I.layers.test(q.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&j===gu)&&(!I.frustumCulled||i.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,I.matrixWorld);const lt=t.update(I),dt=I.material;if(Array.isArray(dt)){const vt=lt.groups;for(let X=0,it=vt.length;X<it;X++){const tt=vt[X],yt=dt[tt.materialIndex];if(yt&&yt.visible){const Q=P(I,yt,G,j);I.onBeforeShadow(n,I,q,Y,lt,Q,tt),n.renderBufferDirect(Y,null,lt,Q,I,tt),I.onAfterShadow(n,I,q,Y,lt,Q,tt)}}}else if(dt.visible){const vt=P(I,dt,G,j);I.onBeforeShadow(n,I,q,Y,lt,vt,null),n.renderBufferDirect(Y,null,lt,vt,I,null),I.onAfterShadow(n,I,q,Y,lt,vt,null)}}const st=I.children;for(let lt=0,dt=st.length;lt<dt;lt++)z(st[lt],q,Y,G,j)}function F(I){I.target.removeEventListener("dispose",F);for(const Y in d){const G=d[Y],j=I.target.uuid;j in G&&(G[j].dispose(),delete G[j])}}}const Qq={[lb]:ub,[cb]:db,[fb]:pb,[vp]:hb,[ub]:lb,[db]:cb,[pb]:fb,[hb]:vp};function $q(n,t){function e(){let pt=!1;const ie=new Jn;let he=null;const _e=new Jn(0,0,0,0);return{setMask:function(de){he!==de&&!pt&&(n.colorMask(de,de,de,de),he=de)},setLocked:function(de){pt=de},setClear:function(de,re,we,ke,bn){bn===!0&&(de*=ke,re*=ke,we*=ke),ie.set(de,re,we,ke),_e.equals(ie)===!1&&(n.clearColor(de,re,we,ke),_e.copy(ie))},reset:function(){pt=!1,he=null,_e.set(-1,0,0,0)}}}function i(){let pt=!1,ie=!1,he=null,_e=null,de=null;return{setReversed:function(re){if(ie!==re){const we=t.get("EXT_clip_control");re?we.clipControlEXT(we.LOWER_LEFT_EXT,we.ZERO_TO_ONE_EXT):we.clipControlEXT(we.LOWER_LEFT_EXT,we.NEGATIVE_ONE_TO_ONE_EXT),ie=re;const ke=de;de=null,this.setClear(ke)}},getReversed:function(){return ie},setTest:function(re){re?Qt(n.DEPTH_TEST):ae(n.DEPTH_TEST)},setMask:function(re){he!==re&&!pt&&(n.depthMask(re),he=re)},setFunc:function(re){if(ie&&(re=Qq[re]),_e!==re){switch(re){case lb:n.depthFunc(n.NEVER);break;case ub:n.depthFunc(n.ALWAYS);break;case cb:n.depthFunc(n.LESS);break;case vp:n.depthFunc(n.LEQUAL);break;case fb:n.depthFunc(n.EQUAL);break;case hb:n.depthFunc(n.GEQUAL);break;case db:n.depthFunc(n.GREATER);break;case pb:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}_e=re}},setLocked:function(re){pt=re},setClear:function(re){de!==re&&(ie&&(re=1-re),n.clearDepth(re),de=re)},reset:function(){pt=!1,he=null,_e=null,de=null,ie=!1}}}function r(){let pt=!1,ie=null,he=null,_e=null,de=null,re=null,we=null,ke=null,bn=null;return{setTest:function(gn){pt||(gn?Qt(n.STENCIL_TEST):ae(n.STENCIL_TEST))},setMask:function(gn){ie!==gn&&!pt&&(n.stencilMask(gn),ie=gn)},setFunc:function(gn,Fi,ci){(he!==gn||_e!==Fi||de!==ci)&&(n.stencilFunc(gn,Fi,ci),he=gn,_e=Fi,de=ci)},setOp:function(gn,Fi,ci){(re!==gn||we!==Fi||ke!==ci)&&(n.stencilOp(gn,Fi,ci),re=gn,we=Fi,ke=ci)},setLocked:function(gn){pt=gn},setClear:function(gn){bn!==gn&&(n.clearStencil(gn),bn=gn)},reset:function(){pt=!1,ie=null,he=null,_e=null,de=null,re=null,we=null,ke=null,bn=null}}}const a=new e,o=new i,l=new r,h=new WeakMap,d=new WeakMap;let g={},v={},_=new WeakMap,b=[],M=null,A=!1,T=null,E=null,O=null,P=null,z=null,F=null,I=null,q=new Ee(0,0,0),Y=0,G=!1,j=null,K=null,st=null,lt=null,dt=null;const vt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,it=0;const tt=n.getParameter(n.VERSION);tt.indexOf("WebGL")!==-1?(it=parseFloat(/^WebGL (\d)/.exec(tt)[1]),X=it>=1):tt.indexOf("OpenGL ES")!==-1&&(it=parseFloat(/^OpenGL ES (\d)/.exec(tt)[1]),X=it>=2);let yt=null,Q={};const ut=n.getParameter(n.SCISSOR_BOX),gt=n.getParameter(n.VIEWPORT),Lt=new Jn().fromArray(ut),Dt=new Jn().fromArray(gt);function Zt(pt,ie,he,_e){const de=new Uint8Array(4),re=n.createTexture();n.bindTexture(pt,re),n.texParameteri(pt,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(pt,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let we=0;we<he;we++)pt===n.TEXTURE_3D||pt===n.TEXTURE_2D_ARRAY?n.texImage3D(ie,0,n.RGBA,1,1,_e,0,n.RGBA,n.UNSIGNED_BYTE,de):n.texImage2D(ie+we,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,de);return re}const _t={};_t[n.TEXTURE_2D]=Zt(n.TEXTURE_2D,n.TEXTURE_2D,1),_t[n.TEXTURE_CUBE_MAP]=Zt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),_t[n.TEXTURE_2D_ARRAY]=Zt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),_t[n.TEXTURE_3D]=Zt(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Qt(n.DEPTH_TEST),o.setFunc(vp),Yt(!1),At(_w),Qt(n.CULL_FACE),Ht(mc);function Qt(pt){g[pt]!==!0&&(n.enable(pt),g[pt]=!0)}function ae(pt){g[pt]!==!1&&(n.disable(pt),g[pt]=!1)}function Xt(pt,ie){return v[pt]!==ie?(n.bindFramebuffer(pt,ie),v[pt]=ie,pt===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=ie),pt===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=ie),!0):!1}function le(pt,ie){let he=b,_e=!1;if(pt){he=_.get(ie),he===void 0&&(he=[],_.set(ie,he));const de=pt.textures;if(he.length!==de.length||he[0]!==n.COLOR_ATTACHMENT0){for(let re=0,we=de.length;re<we;re++)he[re]=n.COLOR_ATTACHMENT0+re;he.length=de.length,_e=!0}}else he[0]!==n.BACK&&(he[0]=n.BACK,_e=!0);_e&&n.drawBuffers(he)}function pe(pt){return M!==pt?(n.useProgram(pt),M=pt,!0):!1}const jt={[Ph]:n.FUNC_ADD,[AU]:n.FUNC_SUBTRACT,[CU]:n.FUNC_REVERSE_SUBTRACT};jt[RU]=n.MIN,jt[OU]=n.MAX;const ot={[PU]:n.ZERO,[DU]:n.ONE,[LU]:n.SRC_COLOR,[sb]:n.SRC_ALPHA,[FU]:n.SRC_ALPHA_SATURATE,[IU]:n.DST_COLOR,[UU]:n.DST_ALPHA,[NU]:n.ONE_MINUS_SRC_COLOR,[ob]:n.ONE_MINUS_SRC_ALPHA,[BU]:n.ONE_MINUS_DST_COLOR,[zU]:n.ONE_MINUS_DST_ALPHA,[HU]:n.CONSTANT_COLOR,[kU]:n.ONE_MINUS_CONSTANT_COLOR,[jU]:n.CONSTANT_ALPHA,[VU]:n.ONE_MINUS_CONSTANT_ALPHA};function Ht(pt,ie,he,_e,de,re,we,ke,bn,gn){if(pt===mc){A===!0&&(ae(n.BLEND),A=!1);return}if(A===!1&&(Qt(n.BLEND),A=!0),pt!==wU){if(pt!==T||gn!==G){if((E!==Ph||z!==Ph)&&(n.blendEquation(n.FUNC_ADD),E=Ph,z=Ph),gn)switch(pt){case cp:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Bh:n.blendFunc(n.ONE,n.ONE);break;case xw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case bw:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",pt);break}else switch(pt){case cp:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Bh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case xw:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case bw:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",pt);break}O=null,P=null,F=null,I=null,q.set(0,0,0),Y=0,T=pt,G=gn}return}de=de||ie,re=re||he,we=we||_e,(ie!==E||de!==z)&&(n.blendEquationSeparate(jt[ie],jt[de]),E=ie,z=de),(he!==O||_e!==P||re!==F||we!==I)&&(n.blendFuncSeparate(ot[he],ot[_e],ot[re],ot[we]),O=he,P=_e,F=re,I=we),(ke.equals(q)===!1||bn!==Y)&&(n.blendColor(ke.r,ke.g,ke.b,bn),q.copy(ke),Y=bn),T=pt,G=!1}function Gt(pt,ie){pt.side===Tl?ae(n.CULL_FACE):Qt(n.CULL_FACE);let he=pt.side===as;ie&&(he=!he),Yt(he),pt.blending===cp&&pt.transparent===!1?Ht(mc):Ht(pt.blending,pt.blendEquation,pt.blendSrc,pt.blendDst,pt.blendEquationAlpha,pt.blendSrcAlpha,pt.blendDstAlpha,pt.blendColor,pt.blendAlpha,pt.premultipliedAlpha),o.setFunc(pt.depthFunc),o.setTest(pt.depthTest),o.setMask(pt.depthWrite),a.setMask(pt.colorWrite);const _e=pt.stencilWrite;l.setTest(_e),_e&&(l.setMask(pt.stencilWriteMask),l.setFunc(pt.stencilFunc,pt.stencilRef,pt.stencilFuncMask),l.setOp(pt.stencilFail,pt.stencilZFail,pt.stencilZPass)),qt(pt.polygonOffset,pt.polygonOffsetFactor,pt.polygonOffsetUnits),pt.alphaToCoverage===!0?Qt(n.SAMPLE_ALPHA_TO_COVERAGE):ae(n.SAMPLE_ALPHA_TO_COVERAGE)}function Yt(pt){j!==pt&&(pt?n.frontFace(n.CW):n.frontFace(n.CCW),j=pt)}function At(pt){pt!==MU?(Qt(n.CULL_FACE),pt!==K&&(pt===_w?n.cullFace(n.BACK):pt===EU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ae(n.CULL_FACE),K=pt}function me(pt){pt!==st&&(X&&n.lineWidth(pt),st=pt)}function qt(pt,ie,he){pt?(Qt(n.POLYGON_OFFSET_FILL),(lt!==ie||dt!==he)&&(n.polygonOffset(ie,he),lt=ie,dt=he)):ae(n.POLYGON_OFFSET_FILL)}function te(pt){pt?Qt(n.SCISSOR_TEST):ae(n.SCISSOR_TEST)}function Le(pt){pt===void 0&&(pt=n.TEXTURE0+vt-1),yt!==pt&&(n.activeTexture(pt),yt=pt)}function He(pt,ie,he){he===void 0&&(yt===null?he=n.TEXTURE0+vt-1:he=yt);let _e=Q[he];_e===void 0&&(_e={type:void 0,texture:void 0},Q[he]=_e),(_e.type!==pt||_e.texture!==ie)&&(yt!==he&&(n.activeTexture(he),yt=he),n.bindTexture(pt,ie||_t[pt]),_e.type=pt,_e.texture=ie)}function $(){const pt=Q[yt];pt!==void 0&&pt.type!==void 0&&(n.bindTexture(pt.type,null),pt.type=void 0,pt.texture=void 0)}function Z(){try{n.compressedTexImage2D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Mt(){try{n.compressedTexImage3D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Nt(){try{n.texSubImage2D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function $t(){try{n.texSubImage3D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function It(){try{n.compressedTexSubImage2D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Me(){try{n.compressedTexSubImage3D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function ve(){try{n.texStorage2D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Oe(){try{n.texStorage3D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Pe(){try{n.texImage2D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function oe(){try{n.texImage3D(...arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function ye(pt){Lt.equals(pt)===!1&&(n.scissor(pt.x,pt.y,pt.z,pt.w),Lt.copy(pt))}function De(pt){Dt.equals(pt)===!1&&(n.viewport(pt.x,pt.y,pt.z,pt.w),Dt.copy(pt))}function ct(pt,ie){let he=d.get(ie);he===void 0&&(he=new WeakMap,d.set(ie,he));let _e=he.get(pt);_e===void 0&&(_e=n.getUniformBlockIndex(ie,pt.name),he.set(pt,_e))}function Et(pt,ie){const _e=d.get(ie).get(pt);h.get(ie)!==_e&&(n.uniformBlockBinding(ie,_e,pt.__bindingPointIndex),h.set(ie,_e))}function fe(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},yt=null,Q={},v={},_=new WeakMap,b=[],M=null,A=!1,T=null,E=null,O=null,P=null,z=null,F=null,I=null,q=new Ee(0,0,0),Y=0,G=!1,j=null,K=null,st=null,lt=null,dt=null,Lt.set(0,0,n.canvas.width,n.canvas.height),Dt.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:Qt,disable:ae,bindFramebuffer:Xt,drawBuffers:le,useProgram:pe,setBlending:Ht,setMaterial:Gt,setFlipSided:Yt,setCullFace:At,setLineWidth:me,setPolygonOffset:qt,setScissorTest:te,activeTexture:Le,bindTexture:He,unbindTexture:$,compressedTexImage2D:Z,compressedTexImage3D:Mt,texImage2D:Pe,texImage3D:oe,updateUBOMapping:ct,uniformBlockBinding:Et,texStorage2D:ve,texStorage3D:Oe,texSubImage2D:Nt,texSubImage3D:$t,compressedTexSubImage2D:It,compressedTexSubImage3D:Me,scissor:ye,viewport:De,reset:fe}}function Jq(n,t,e,i,r,a,o){const l=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Jt,g=new WeakMap;let v;const _=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M($,Z){return b?new OffscreenCanvas($,Z):Py("canvas")}function A($,Z,Mt){let Nt=1;const $t=He($);if(($t.width>Mt||$t.height>Mt)&&(Nt=Mt/Math.max($t.width,$t.height)),Nt<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const It=Math.floor(Nt*$t.width),Me=Math.floor(Nt*$t.height);v===void 0&&(v=M(It,Me));const ve=Z?M(It,Me):v;return ve.width=It,ve.height=Me,ve.getContext("2d").drawImage($,0,0,It,Me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$t.width+"x"+$t.height+") to ("+It+"x"+Me+")."),ve}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$t.width+"x"+$t.height+")."),$;return $}function T($){return $.generateMipmaps}function E($){n.generateMipmap($)}function O($){return $.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?n.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function P($,Z,Mt,Nt,$t=!1){if($!==null){if(n[$]!==void 0)return n[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let It=Z;if(Z===n.RED&&(Mt===n.FLOAT&&(It=n.R32F),Mt===n.HALF_FLOAT&&(It=n.R16F),Mt===n.UNSIGNED_BYTE&&(It=n.R8)),Z===n.RED_INTEGER&&(Mt===n.UNSIGNED_BYTE&&(It=n.R8UI),Mt===n.UNSIGNED_SHORT&&(It=n.R16UI),Mt===n.UNSIGNED_INT&&(It=n.R32UI),Mt===n.BYTE&&(It=n.R8I),Mt===n.SHORT&&(It=n.R16I),Mt===n.INT&&(It=n.R32I)),Z===n.RG&&(Mt===n.FLOAT&&(It=n.RG32F),Mt===n.HALF_FLOAT&&(It=n.RG16F),Mt===n.UNSIGNED_BYTE&&(It=n.RG8)),Z===n.RG_INTEGER&&(Mt===n.UNSIGNED_BYTE&&(It=n.RG8UI),Mt===n.UNSIGNED_SHORT&&(It=n.RG16UI),Mt===n.UNSIGNED_INT&&(It=n.RG32UI),Mt===n.BYTE&&(It=n.RG8I),Mt===n.SHORT&&(It=n.RG16I),Mt===n.INT&&(It=n.RG32I)),Z===n.RGB_INTEGER&&(Mt===n.UNSIGNED_BYTE&&(It=n.RGB8UI),Mt===n.UNSIGNED_SHORT&&(It=n.RGB16UI),Mt===n.UNSIGNED_INT&&(It=n.RGB32UI),Mt===n.BYTE&&(It=n.RGB8I),Mt===n.SHORT&&(It=n.RGB16I),Mt===n.INT&&(It=n.RGB32I)),Z===n.RGBA_INTEGER&&(Mt===n.UNSIGNED_BYTE&&(It=n.RGBA8UI),Mt===n.UNSIGNED_SHORT&&(It=n.RGBA16UI),Mt===n.UNSIGNED_INT&&(It=n.RGBA32UI),Mt===n.BYTE&&(It=n.RGBA8I),Mt===n.SHORT&&(It=n.RGBA16I),Mt===n.INT&&(It=n.RGBA32I)),Z===n.RGB&&(Mt===n.UNSIGNED_INT_5_9_9_9_REV&&(It=n.RGB9_E5),Mt===n.UNSIGNED_INT_10F_11F_11F_REV&&(It=n.R11F_G11F_B10F)),Z===n.RGBA){const Me=$t?Ry:qn.getTransfer(Nt);Mt===n.FLOAT&&(It=n.RGBA32F),Mt===n.HALF_FLOAT&&(It=n.RGBA16F),Mt===n.UNSIGNED_BYTE&&(It=Me===mi?n.SRGB8_ALPHA8:n.RGBA8),Mt===n.UNSIGNED_SHORT_4_4_4_4&&(It=n.RGBA4),Mt===n.UNSIGNED_SHORT_5_5_5_1&&(It=n.RGB5_A1)}return(It===n.R16F||It===n.R32F||It===n.RG16F||It===n.RG32F||It===n.RGBA16F||It===n.RGBA32F)&&t.get("EXT_color_buffer_float"),It}function z($,Z){let Mt;return $?Z===null||Z===Ef||Z===dg?Mt=n.DEPTH24_STENCIL8:Z===$s?Mt=n.DEPTH32F_STENCIL8:Z===hg&&(Mt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Ef||Z===dg?Mt=n.DEPTH_COMPONENT24:Z===$s?Mt=n.DEPTH_COMPONENT32F:Z===hg&&(Mt=n.DEPTH_COMPONENT16),Mt}function F($,Z){return T($)===!0||$.isFramebufferTexture&&$.minFilter!==Ia&&$.minFilter!==cr?Math.log2(Math.max(Z.width,Z.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?Z.mipmaps.length:1}function I($){const Z=$.target;Z.removeEventListener("dispose",I),Y(Z),Z.isVideoTexture&&g.delete(Z)}function q($){const Z=$.target;Z.removeEventListener("dispose",q),j(Z)}function Y($){const Z=i.get($);if(Z.__webglInit===void 0)return;const Mt=$.source,Nt=_.get(Mt);if(Nt){const $t=Nt[Z.__cacheKey];$t.usedTimes--,$t.usedTimes===0&&G($),Object.keys(Nt).length===0&&_.delete(Mt)}i.remove($)}function G($){const Z=i.get($);n.deleteTexture(Z.__webglTexture);const Mt=$.source,Nt=_.get(Mt);delete Nt[Z.__cacheKey],o.memory.textures--}function j($){const Z=i.get($);if($.depthTexture&&($.depthTexture.dispose(),i.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Nt=0;Nt<6;Nt++){if(Array.isArray(Z.__webglFramebuffer[Nt]))for(let $t=0;$t<Z.__webglFramebuffer[Nt].length;$t++)n.deleteFramebuffer(Z.__webglFramebuffer[Nt][$t]);else n.deleteFramebuffer(Z.__webglFramebuffer[Nt]);Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[Nt])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Nt=0;Nt<Z.__webglFramebuffer.length;Nt++)n.deleteFramebuffer(Z.__webglFramebuffer[Nt]);else n.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Nt=0;Nt<Z.__webglColorRenderbuffer.length;Nt++)Z.__webglColorRenderbuffer[Nt]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[Nt]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const Mt=$.textures;for(let Nt=0,$t=Mt.length;Nt<$t;Nt++){const It=i.get(Mt[Nt]);It.__webglTexture&&(n.deleteTexture(It.__webglTexture),o.memory.textures--),i.remove(Mt[Nt])}i.remove($)}let K=0;function st(){K=0}function lt(){const $=K;return $>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+r.maxTextures),K+=1,$}function dt($){const Z=[];return Z.push($.wrapS),Z.push($.wrapT),Z.push($.wrapR||0),Z.push($.magFilter),Z.push($.minFilter),Z.push($.anisotropy),Z.push($.internalFormat),Z.push($.format),Z.push($.type),Z.push($.generateMipmaps),Z.push($.premultiplyAlpha),Z.push($.flipY),Z.push($.unpackAlignment),Z.push($.colorSpace),Z.join()}function vt($,Z){const Mt=i.get($);if($.isVideoTexture&&te($),$.isRenderTargetTexture===!1&&$.isExternalTexture!==!0&&$.version>0&&Mt.__version!==$.version){const Nt=$.image;if(Nt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Nt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_t(Mt,$,Z);return}}else $.isExternalTexture&&(Mt.__webglTexture=$.sourceTexture?$.sourceTexture:null);e.bindTexture(n.TEXTURE_2D,Mt.__webglTexture,n.TEXTURE0+Z)}function X($,Z){const Mt=i.get($);if($.isRenderTargetTexture===!1&&$.version>0&&Mt.__version!==$.version){_t(Mt,$,Z);return}e.bindTexture(n.TEXTURE_2D_ARRAY,Mt.__webglTexture,n.TEXTURE0+Z)}function it($,Z){const Mt=i.get($);if($.isRenderTargetTexture===!1&&$.version>0&&Mt.__version!==$.version){_t(Mt,$,Z);return}e.bindTexture(n.TEXTURE_3D,Mt.__webglTexture,n.TEXTURE0+Z)}function tt($,Z){const Mt=i.get($);if($.version>0&&Mt.__version!==$.version){Qt(Mt,$,Z);return}e.bindTexture(n.TEXTURE_CUBE_MAP,Mt.__webglTexture,n.TEXTURE0+Z)}const yt={[yp]:n.REPEAT,[ga]:n.CLAMP_TO_EDGE,[wy]:n.MIRRORED_REPEAT},Q={[Ia]:n.NEAREST,[zA]:n.NEAREST_MIPMAP_NEAREST,[eg]:n.NEAREST_MIPMAP_LINEAR,[cr]:n.LINEAR,[cy]:n.LINEAR_MIPMAP_NEAREST,[Qs]:n.LINEAR_MIPMAP_LINEAR},ut={[az]:n.NEVER,[fz]:n.ALWAYS,[sz]:n.LESS,[qA]:n.LEQUAL,[oz]:n.EQUAL,[cz]:n.GEQUAL,[lz]:n.GREATER,[uz]:n.NOTEQUAL};function gt($,Z){if(Z.type===$s&&t.has("OES_texture_float_linear")===!1&&(Z.magFilter===cr||Z.magFilter===cy||Z.magFilter===eg||Z.magFilter===Qs||Z.minFilter===cr||Z.minFilter===cy||Z.minFilter===eg||Z.minFilter===Qs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri($,n.TEXTURE_WRAP_S,yt[Z.wrapS]),n.texParameteri($,n.TEXTURE_WRAP_T,yt[Z.wrapT]),($===n.TEXTURE_3D||$===n.TEXTURE_2D_ARRAY)&&n.texParameteri($,n.TEXTURE_WRAP_R,yt[Z.wrapR]),n.texParameteri($,n.TEXTURE_MAG_FILTER,Q[Z.magFilter]),n.texParameteri($,n.TEXTURE_MIN_FILTER,Q[Z.minFilter]),Z.compareFunction&&(n.texParameteri($,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri($,n.TEXTURE_COMPARE_FUNC,ut[Z.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===Ia||Z.minFilter!==eg&&Z.minFilter!==Qs||Z.type===$s&&t.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||i.get(Z).__currentAnisotropy){const Mt=t.get("EXT_texture_filter_anisotropic");n.texParameterf($,Mt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,r.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy}}}function Lt($,Z){let Mt=!1;$.__webglInit===void 0&&($.__webglInit=!0,Z.addEventListener("dispose",I));const Nt=Z.source;let $t=_.get(Nt);$t===void 0&&($t={},_.set(Nt,$t));const It=dt(Z);if(It!==$.__cacheKey){$t[It]===void 0&&($t[It]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Mt=!0),$t[It].usedTimes++;const Me=$t[$.__cacheKey];Me!==void 0&&($t[$.__cacheKey].usedTimes--,Me.usedTimes===0&&G(Z)),$.__cacheKey=It,$.__webglTexture=$t[It].texture}return Mt}function Dt($,Z,Mt){return Math.floor(Math.floor($/Mt)/Z)}function Zt($,Z,Mt,Nt){const It=$.updateRanges;if(It.length===0)e.texSubImage2D(n.TEXTURE_2D,0,0,0,Z.width,Z.height,Mt,Nt,Z.data);else{It.sort((oe,ye)=>oe.start-ye.start);let Me=0;for(let oe=1;oe<It.length;oe++){const ye=It[Me],De=It[oe],ct=ye.start+ye.count,Et=Dt(De.start,Z.width,4),fe=Dt(ye.start,Z.width,4);De.start<=ct+1&&Et===fe&&Dt(De.start+De.count-1,Z.width,4)===Et?ye.count=Math.max(ye.count,De.start+De.count-ye.start):(++Me,It[Me]=De)}It.length=Me+1;const ve=n.getParameter(n.UNPACK_ROW_LENGTH),Oe=n.getParameter(n.UNPACK_SKIP_PIXELS),Pe=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Z.width);for(let oe=0,ye=It.length;oe<ye;oe++){const De=It[oe],ct=Math.floor(De.start/4),Et=Math.ceil(De.count/4),fe=ct%Z.width,pt=Math.floor(ct/Z.width),ie=Et,he=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,fe),n.pixelStorei(n.UNPACK_SKIP_ROWS,pt),e.texSubImage2D(n.TEXTURE_2D,0,fe,pt,ie,he,Mt,Nt,Z.data)}$.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,ve),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Oe),n.pixelStorei(n.UNPACK_SKIP_ROWS,Pe)}}function _t($,Z,Mt){let Nt=n.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Nt=n.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Nt=n.TEXTURE_3D);const $t=Lt($,Z),It=Z.source;e.bindTexture(Nt,$.__webglTexture,n.TEXTURE0+Mt);const Me=i.get(It);if(It.version!==Me.__version||$t===!0){e.activeTexture(n.TEXTURE0+Mt);const ve=qn.getPrimaries(qn.workingColorSpace),Oe=Z.colorSpace===cf?null:qn.getPrimaries(Z.colorSpace),Pe=Z.colorSpace===cf||ve===Oe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Pe);let oe=A(Z.image,!1,r.maxTextureSize);oe=Le(Z,oe);const ye=a.convert(Z.format,Z.colorSpace),De=a.convert(Z.type);let ct=P(Z.internalFormat,ye,De,Z.colorSpace,Z.isVideoTexture);gt(Nt,Z);let Et;const fe=Z.mipmaps,pt=Z.isVideoTexture!==!0,ie=Me.__version===void 0||$t===!0,he=It.dataReady,_e=F(Z,oe);if(Z.isDepthTexture)ct=z(Z.format===mg,Z.type),ie&&(pt?e.texStorage2D(n.TEXTURE_2D,1,ct,oe.width,oe.height):e.texImage2D(n.TEXTURE_2D,0,ct,oe.width,oe.height,0,ye,De,null));else if(Z.isDataTexture)if(fe.length>0){pt&&ie&&e.texStorage2D(n.TEXTURE_2D,_e,ct,fe[0].width,fe[0].height);for(let de=0,re=fe.length;de<re;de++)Et=fe[de],pt?he&&e.texSubImage2D(n.TEXTURE_2D,de,0,0,Et.width,Et.height,ye,De,Et.data):e.texImage2D(n.TEXTURE_2D,de,ct,Et.width,Et.height,0,ye,De,Et.data);Z.generateMipmaps=!1}else pt?(ie&&e.texStorage2D(n.TEXTURE_2D,_e,ct,oe.width,oe.height),he&&Zt(Z,oe,ye,De)):e.texImage2D(n.TEXTURE_2D,0,ct,oe.width,oe.height,0,ye,De,oe.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){pt&&ie&&e.texStorage3D(n.TEXTURE_2D_ARRAY,_e,ct,fe[0].width,fe[0].height,oe.depth);for(let de=0,re=fe.length;de<re;de++)if(Et=fe[de],Z.format!==is)if(ye!==null)if(pt){if(he)if(Z.layerUpdates.size>0){const we=Pw(Et.width,Et.height,Z.format,Z.type);for(const ke of Z.layerUpdates){const bn=Et.data.subarray(ke*we/Et.data.BYTES_PER_ELEMENT,(ke+1)*we/Et.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,ke,Et.width,Et.height,1,ye,bn)}Z.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,Et.width,Et.height,oe.depth,ye,Et.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,de,ct,Et.width,Et.height,oe.depth,0,Et.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else pt?he&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,Et.width,Et.height,oe.depth,ye,De,Et.data):e.texImage3D(n.TEXTURE_2D_ARRAY,de,ct,Et.width,Et.height,oe.depth,0,ye,De,Et.data)}else{pt&&ie&&e.texStorage2D(n.TEXTURE_2D,_e,ct,fe[0].width,fe[0].height);for(let de=0,re=fe.length;de<re;de++)Et=fe[de],Z.format!==is?ye!==null?pt?he&&e.compressedTexSubImage2D(n.TEXTURE_2D,de,0,0,Et.width,Et.height,ye,Et.data):e.compressedTexImage2D(n.TEXTURE_2D,de,ct,Et.width,Et.height,0,Et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pt?he&&e.texSubImage2D(n.TEXTURE_2D,de,0,0,Et.width,Et.height,ye,De,Et.data):e.texImage2D(n.TEXTURE_2D,de,ct,Et.width,Et.height,0,ye,De,Et.data)}else if(Z.isDataArrayTexture)if(pt){if(ie&&e.texStorage3D(n.TEXTURE_2D_ARRAY,_e,ct,oe.width,oe.height,oe.depth),he)if(Z.layerUpdates.size>0){const de=Pw(oe.width,oe.height,Z.format,Z.type);for(const re of Z.layerUpdates){const we=oe.data.subarray(re*de/oe.data.BYTES_PER_ELEMENT,(re+1)*de/oe.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,re,oe.width,oe.height,1,ye,De,we)}Z.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,oe.width,oe.height,oe.depth,ye,De,oe.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,ct,oe.width,oe.height,oe.depth,0,ye,De,oe.data);else if(Z.isData3DTexture)pt?(ie&&e.texStorage3D(n.TEXTURE_3D,_e,ct,oe.width,oe.height,oe.depth),he&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,oe.width,oe.height,oe.depth,ye,De,oe.data)):e.texImage3D(n.TEXTURE_3D,0,ct,oe.width,oe.height,oe.depth,0,ye,De,oe.data);else if(Z.isFramebufferTexture){if(ie)if(pt)e.texStorage2D(n.TEXTURE_2D,_e,ct,oe.width,oe.height);else{let de=oe.width,re=oe.height;for(let we=0;we<_e;we++)e.texImage2D(n.TEXTURE_2D,we,ct,de,re,0,ye,De,null),de>>=1,re>>=1}}else if(fe.length>0){if(pt&&ie){const de=He(fe[0]);e.texStorage2D(n.TEXTURE_2D,_e,ct,de.width,de.height)}for(let de=0,re=fe.length;de<re;de++)Et=fe[de],pt?he&&e.texSubImage2D(n.TEXTURE_2D,de,0,0,ye,De,Et):e.texImage2D(n.TEXTURE_2D,de,ct,ye,De,Et);Z.generateMipmaps=!1}else if(pt){if(ie){const de=He(oe);e.texStorage2D(n.TEXTURE_2D,_e,ct,de.width,de.height)}he&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,ye,De,oe)}else e.texImage2D(n.TEXTURE_2D,0,ct,ye,De,oe);T(Z)&&E(Nt),Me.__version=It.version,Z.onUpdate&&Z.onUpdate(Z)}$.__version=Z.version}function Qt($,Z,Mt){if(Z.image.length!==6)return;const Nt=Lt($,Z),$t=Z.source;e.bindTexture(n.TEXTURE_CUBE_MAP,$.__webglTexture,n.TEXTURE0+Mt);const It=i.get($t);if($t.version!==It.__version||Nt===!0){e.activeTexture(n.TEXTURE0+Mt);const Me=qn.getPrimaries(qn.workingColorSpace),ve=Z.colorSpace===cf?null:qn.getPrimaries(Z.colorSpace),Oe=Z.colorSpace===cf||Me===ve?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Oe);const Pe=Z.isCompressedTexture||Z.image[0].isCompressedTexture,oe=Z.image[0]&&Z.image[0].isDataTexture,ye=[];for(let re=0;re<6;re++)!Pe&&!oe?ye[re]=A(Z.image[re],!0,r.maxCubemapSize):ye[re]=oe?Z.image[re].image:Z.image[re],ye[re]=Le(Z,ye[re]);const De=ye[0],ct=a.convert(Z.format,Z.colorSpace),Et=a.convert(Z.type),fe=P(Z.internalFormat,ct,Et,Z.colorSpace),pt=Z.isVideoTexture!==!0,ie=It.__version===void 0||Nt===!0,he=$t.dataReady;let _e=F(Z,De);gt(n.TEXTURE_CUBE_MAP,Z);let de;if(Pe){pt&&ie&&e.texStorage2D(n.TEXTURE_CUBE_MAP,_e,fe,De.width,De.height);for(let re=0;re<6;re++){de=ye[re].mipmaps;for(let we=0;we<de.length;we++){const ke=de[we];Z.format!==is?ct!==null?pt?he&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,0,0,ke.width,ke.height,ct,ke.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,fe,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):pt?he&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,0,0,ke.width,ke.height,ct,Et,ke.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,fe,ke.width,ke.height,0,ct,Et,ke.data)}}}else{if(de=Z.mipmaps,pt&&ie){de.length>0&&_e++;const re=He(ye[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,_e,fe,re.width,re.height)}for(let re=0;re<6;re++)if(oe){pt?he&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,0,0,ye[re].width,ye[re].height,ct,Et,ye[re].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,fe,ye[re].width,ye[re].height,0,ct,Et,ye[re].data);for(let we=0;we<de.length;we++){const bn=de[we].image[re].image;pt?he&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,0,0,bn.width,bn.height,ct,Et,bn.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,fe,bn.width,bn.height,0,ct,Et,bn.data)}}else{pt?he&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,0,0,ct,Et,ye[re]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,fe,ct,Et,ye[re]);for(let we=0;we<de.length;we++){const ke=de[we];pt?he&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,0,0,ct,Et,ke.image[re]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,fe,ct,Et,ke.image[re])}}}T(Z)&&E(n.TEXTURE_CUBE_MAP),It.__version=$t.version,Z.onUpdate&&Z.onUpdate(Z)}$.__version=Z.version}function ae($,Z,Mt,Nt,$t,It){const Me=a.convert(Mt.format,Mt.colorSpace),ve=a.convert(Mt.type),Oe=P(Mt.internalFormat,Me,ve,Mt.colorSpace),Pe=i.get(Z),oe=i.get(Mt);if(oe.__renderTarget=Z,!Pe.__hasExternalTextures){const ye=Math.max(1,Z.width>>It),De=Math.max(1,Z.height>>It);$t===n.TEXTURE_3D||$t===n.TEXTURE_2D_ARRAY?e.texImage3D($t,It,Oe,ye,De,Z.depth,0,Me,ve,null):e.texImage2D($t,It,Oe,ye,De,0,Me,ve,null)}e.bindFramebuffer(n.FRAMEBUFFER,$),qt(Z)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Nt,$t,oe.__webglTexture,0,me(Z)):($t===n.TEXTURE_2D||$t>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&$t<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Nt,$t,oe.__webglTexture,It),e.bindFramebuffer(n.FRAMEBUFFER,null)}function Xt($,Z,Mt){if(n.bindRenderbuffer(n.RENDERBUFFER,$),Z.depthBuffer){const Nt=Z.depthTexture,$t=Nt&&Nt.isDepthTexture?Nt.type:null,It=z(Z.stencilBuffer,$t),Me=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ve=me(Z);qt(Z)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ve,It,Z.width,Z.height):Mt?n.renderbufferStorageMultisample(n.RENDERBUFFER,ve,It,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,It,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Me,n.RENDERBUFFER,$)}else{const Nt=Z.textures;for(let $t=0;$t<Nt.length;$t++){const It=Nt[$t],Me=a.convert(It.format,It.colorSpace),ve=a.convert(It.type),Oe=P(It.internalFormat,Me,ve,It.colorSpace),Pe=me(Z);Mt&&qt(Z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Pe,Oe,Z.width,Z.height):qt(Z)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Pe,Oe,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,Oe,Z.width,Z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function le($,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,$),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Nt=i.get(Z.depthTexture);Nt.__renderTarget=Z,(!Nt.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),vt(Z.depthTexture,0);const $t=Nt.__webglTexture,It=me(Z);if(Z.depthTexture.format===pg)qt(Z)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,$t,0,It):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,$t,0);else if(Z.depthTexture.format===mg)qt(Z)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,$t,0,It):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,$t,0);else throw new Error("Unknown depthTexture format")}function pe($){const Z=i.get($),Mt=$.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==$.depthTexture){const Nt=$.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Nt){const $t=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Nt.removeEventListener("dispose",$t)};Nt.addEventListener("dispose",$t),Z.__depthDisposeCallback=$t}Z.__boundDepthTexture=Nt}if($.depthTexture&&!Z.__autoAllocateDepthBuffer){if(Mt)throw new Error("target.depthTexture not supported in Cube render targets");const Nt=$.texture.mipmaps;Nt&&Nt.length>0?le(Z.__webglFramebuffer[0],$):le(Z.__webglFramebuffer,$)}else if(Mt){Z.__webglDepthbuffer=[];for(let Nt=0;Nt<6;Nt++)if(e.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[Nt]),Z.__webglDepthbuffer[Nt]===void 0)Z.__webglDepthbuffer[Nt]=n.createRenderbuffer(),Xt(Z.__webglDepthbuffer[Nt],$,!1);else{const $t=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,It=Z.__webglDepthbuffer[Nt];n.bindRenderbuffer(n.RENDERBUFFER,It),n.framebufferRenderbuffer(n.FRAMEBUFFER,$t,n.RENDERBUFFER,It)}}else{const Nt=$.texture.mipmaps;if(Nt&&Nt.length>0?e.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[0]):e.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=n.createRenderbuffer(),Xt(Z.__webglDepthbuffer,$,!1);else{const $t=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,It=Z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,It),n.framebufferRenderbuffer(n.FRAMEBUFFER,$t,n.RENDERBUFFER,It)}}e.bindFramebuffer(n.FRAMEBUFFER,null)}function jt($,Z,Mt){const Nt=i.get($);Z!==void 0&&ae(Nt.__webglFramebuffer,$,$.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Mt!==void 0&&pe($)}function ot($){const Z=$.texture,Mt=i.get($),Nt=i.get(Z);$.addEventListener("dispose",q);const $t=$.textures,It=$.isWebGLCubeRenderTarget===!0,Me=$t.length>1;if(Me||(Nt.__webglTexture===void 0&&(Nt.__webglTexture=n.createTexture()),Nt.__version=Z.version,o.memory.textures++),It){Mt.__webglFramebuffer=[];for(let ve=0;ve<6;ve++)if(Z.mipmaps&&Z.mipmaps.length>0){Mt.__webglFramebuffer[ve]=[];for(let Oe=0;Oe<Z.mipmaps.length;Oe++)Mt.__webglFramebuffer[ve][Oe]=n.createFramebuffer()}else Mt.__webglFramebuffer[ve]=n.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){Mt.__webglFramebuffer=[];for(let ve=0;ve<Z.mipmaps.length;ve++)Mt.__webglFramebuffer[ve]=n.createFramebuffer()}else Mt.__webglFramebuffer=n.createFramebuffer();if(Me)for(let ve=0,Oe=$t.length;ve<Oe;ve++){const Pe=i.get($t[ve]);Pe.__webglTexture===void 0&&(Pe.__webglTexture=n.createTexture(),o.memory.textures++)}if($.samples>0&&qt($)===!1){Mt.__webglMultisampledFramebuffer=n.createFramebuffer(),Mt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer);for(let ve=0;ve<$t.length;ve++){const Oe=$t[ve];Mt.__webglColorRenderbuffer[ve]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Mt.__webglColorRenderbuffer[ve]);const Pe=a.convert(Oe.format,Oe.colorSpace),oe=a.convert(Oe.type),ye=P(Oe.internalFormat,Pe,oe,Oe.colorSpace,$.isXRRenderTarget===!0),De=me($);n.renderbufferStorageMultisample(n.RENDERBUFFER,De,ye,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ve,n.RENDERBUFFER,Mt.__webglColorRenderbuffer[ve])}n.bindRenderbuffer(n.RENDERBUFFER,null),$.depthBuffer&&(Mt.__webglDepthRenderbuffer=n.createRenderbuffer(),Xt(Mt.__webglDepthRenderbuffer,$,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(It){e.bindTexture(n.TEXTURE_CUBE_MAP,Nt.__webglTexture),gt(n.TEXTURE_CUBE_MAP,Z);for(let ve=0;ve<6;ve++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let Oe=0;Oe<Z.mipmaps.length;Oe++)ae(Mt.__webglFramebuffer[ve][Oe],$,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Oe);else ae(Mt.__webglFramebuffer[ve],$,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0);T(Z)&&E(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(Me){for(let ve=0,Oe=$t.length;ve<Oe;ve++){const Pe=$t[ve],oe=i.get(Pe);let ye=n.TEXTURE_2D;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(ye=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(ye,oe.__webglTexture),gt(ye,Pe),ae(Mt.__webglFramebuffer,$,Pe,n.COLOR_ATTACHMENT0+ve,ye,0),T(Pe)&&E(ye)}e.unbindTexture()}else{let ve=n.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(ve=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(ve,Nt.__webglTexture),gt(ve,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let Oe=0;Oe<Z.mipmaps.length;Oe++)ae(Mt.__webglFramebuffer[Oe],$,Z,n.COLOR_ATTACHMENT0,ve,Oe);else ae(Mt.__webglFramebuffer,$,Z,n.COLOR_ATTACHMENT0,ve,0);T(Z)&&E(ve),e.unbindTexture()}$.depthBuffer&&pe($)}function Ht($){const Z=$.textures;for(let Mt=0,Nt=Z.length;Mt<Nt;Mt++){const $t=Z[Mt];if(T($t)){const It=O($),Me=i.get($t).__webglTexture;e.bindTexture(It,Me),E(It),e.unbindTexture()}}}const Gt=[],Yt=[];function At($){if($.samples>0){if(qt($)===!1){const Z=$.textures,Mt=$.width,Nt=$.height;let $t=n.COLOR_BUFFER_BIT;const It=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Me=i.get($),ve=Z.length>1;if(ve)for(let Pe=0;Pe<Z.length;Pe++)e.bindFramebuffer(n.FRAMEBUFFER,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Pe,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,Me.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Pe,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,Me.__webglMultisampledFramebuffer);const Oe=$.texture.mipmaps;Oe&&Oe.length>0?e.bindFramebuffer(n.DRAW_FRAMEBUFFER,Me.__webglFramebuffer[0]):e.bindFramebuffer(n.DRAW_FRAMEBUFFER,Me.__webglFramebuffer);for(let Pe=0;Pe<Z.length;Pe++){if($.resolveDepthBuffer&&($.depthBuffer&&($t|=n.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&($t|=n.STENCIL_BUFFER_BIT)),ve){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Me.__webglColorRenderbuffer[Pe]);const oe=i.get(Z[Pe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,oe,0)}n.blitFramebuffer(0,0,Mt,Nt,0,0,Mt,Nt,$t,n.NEAREST),h===!0&&(Gt.length=0,Yt.length=0,Gt.push(n.COLOR_ATTACHMENT0+Pe),$.depthBuffer&&$.resolveDepthBuffer===!1&&(Gt.push(It),Yt.push(It),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Yt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Gt))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ve)for(let Pe=0;Pe<Z.length;Pe++){e.bindFramebuffer(n.FRAMEBUFFER,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Pe,n.RENDERBUFFER,Me.__webglColorRenderbuffer[Pe]);const oe=i.get(Z[Pe]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,Me.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Pe,n.TEXTURE_2D,oe,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,Me.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&h){const Z=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Z])}}}function me($){return Math.min(r.maxSamples,$.samples)}function qt($){const Z=i.get($);return $.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function te($){const Z=o.render.frame;g.get($)!==Z&&(g.set($,Z),$.update())}function Le($,Z){const Mt=$.colorSpace,Nt=$.format,$t=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||Mt!==Hh&&Mt!==cf&&(qn.getTransfer(Mt)===mi?(Nt!==is||$t!==Cl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Mt)),Z}function He($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(d.width=$.naturalWidth||$.width,d.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(d.width=$.displayWidth,d.height=$.displayHeight):(d.width=$.width,d.height=$.height),d}this.allocateTextureUnit=lt,this.resetTextureUnits=st,this.setTexture2D=vt,this.setTexture2DArray=X,this.setTexture3D=it,this.setTextureCube=tt,this.rebindTextures=jt,this.setupRenderTarget=ot,this.updateRenderTargetMipmap=Ht,this.updateMultisampleRenderTarget=At,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=ae,this.useMultisampledRTT=qt}function SI(n,t){function e(i,r=cf){let a;const o=qn.getTransfer(r);if(i===Cl)return n.UNSIGNED_BYTE;if(i===B1)return n.UNSIGNED_SHORT_4_4_4_4;if(i===F1)return n.UNSIGNED_SHORT_5_5_5_1;if(i===FA)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===HA)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===IA)return n.BYTE;if(i===BA)return n.SHORT;if(i===hg)return n.UNSIGNED_SHORT;if(i===I1)return n.INT;if(i===Ef)return n.UNSIGNED_INT;if(i===$s)return n.FLOAT;if(i===gc)return n.HALF_FLOAT;if(i===kA)return n.ALPHA;if(i===jA)return n.RGB;if(i===is)return n.RGBA;if(i===pg)return n.DEPTH_COMPONENT;if(i===mg)return n.DEPTH_STENCIL;if(i===H1)return n.RED;if(i===n0)return n.RED_INTEGER;if(i===VA)return n.RG;if(i===k1)return n.RG_INTEGER;if(i===j1)return n.RGBA_INTEGER;if(i===fy||i===hy||i===dy||i===py)if(o===mi)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===fy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===hy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===dy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===py)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===fy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===hy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===dy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===py)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===mb||i===gb||i===vb||i===yb)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===mb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===gb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===vb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===yb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===_b||i===xb||i===bb)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(i===_b||i===xb)return o===mi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===bb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Sb||i===Mb||i===Eb||i===Tb||i===wb||i===Ab||i===Cb||i===Rb||i===Ob||i===Pb||i===Db||i===Lb||i===Nb||i===Ub)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Sb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Mb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Eb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Tb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===wb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Ab)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Cb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Rb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Ob)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Pb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Db)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Lb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Nb)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Ub)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===zb||i===Ib||i===Bb)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(i===zb)return o===mi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Ib)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Bb)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Fb||i===Hb||i===kb||i===jb)if(a=t.get("EXT_texture_compression_rgtc"),a!==null){if(i===Fb)return a.COMPRESSED_RED_RGTC1_EXT;if(i===Hb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===kb)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===jb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===dg?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const tW=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,eW=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class nW{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e){if(this.texture===null){const i=new nC(t.texture);(t.depthNear!==e.depthNear||t.depthFar!==e.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new xr({vertexShader:tW,fragmentShader:eW,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Dr(new Lg(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class iW extends bc{constructor(t,e){super();const i=this;let r=null,a=1,o=null,l="local-floor",h=1,d=null,g=null,v=null,_=null,b=null,M=null;const A=typeof XRWebGLBinding<"u",T=new nW,E={},O=e.getContextAttributes();let P=null,z=null;const F=[],I=[],q=new Jt;let Y=null;const G=new Pr;G.viewport=new Jn;const j=new Pr;j.viewport=new Jn;const K=[G,j],st=new fI;let lt=null,dt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(_t){let Qt=F[_t];return Qt===void 0&&(Qt=new $x,F[_t]=Qt),Qt.getTargetRaySpace()},this.getControllerGrip=function(_t){let Qt=F[_t];return Qt===void 0&&(Qt=new $x,F[_t]=Qt),Qt.getGripSpace()},this.getHand=function(_t){let Qt=F[_t];return Qt===void 0&&(Qt=new $x,F[_t]=Qt),Qt.getHandSpace()};function vt(_t){const Qt=I.indexOf(_t.inputSource);if(Qt===-1)return;const ae=F[Qt];ae!==void 0&&(ae.update(_t.inputSource,_t.frame,d||o),ae.dispatchEvent({type:_t.type,data:_t.inputSource}))}function X(){r.removeEventListener("select",vt),r.removeEventListener("selectstart",vt),r.removeEventListener("selectend",vt),r.removeEventListener("squeeze",vt),r.removeEventListener("squeezestart",vt),r.removeEventListener("squeezeend",vt),r.removeEventListener("end",X),r.removeEventListener("inputsourceschange",it);for(let _t=0;_t<F.length;_t++){const Qt=I[_t];Qt!==null&&(I[_t]=null,F[_t].disconnect(Qt))}lt=null,dt=null,T.reset();for(const _t in E)delete E[_t];t.setRenderTarget(P),b=null,_=null,v=null,r=null,z=null,Zt.stop(),i.isPresenting=!1,t.setPixelRatio(Y),t.setSize(q.width,q.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(_t){a=_t,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(_t){l=_t,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(_t){d=_t},this.getBaseLayer=function(){return _!==null?_:b},this.getBinding=function(){return v===null&&A&&(v=new XRWebGLBinding(r,e)),v},this.getFrame=function(){return M},this.getSession=function(){return r},this.setSession=async function(_t){if(r=_t,r!==null){if(P=t.getRenderTarget(),r.addEventListener("select",vt),r.addEventListener("selectstart",vt),r.addEventListener("selectend",vt),r.addEventListener("squeeze",vt),r.addEventListener("squeezestart",vt),r.addEventListener("squeezeend",vt),r.addEventListener("end",X),r.addEventListener("inputsourceschange",it),O.xrCompatible!==!0&&await e.makeXRCompatible(),Y=t.getPixelRatio(),t.getSize(q),A&&"createProjectionLayer"in XRWebGLBinding.prototype){let ae=null,Xt=null,le=null;O.depth&&(le=O.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,ae=O.stencil?mg:pg,Xt=O.stencil?dg:Ef);const pe={colorFormat:e.RGBA8,depthFormat:le,scaleFactor:a};v=this.getBinding(),_=v.createProjectionLayer(pe),r.updateRenderState({layers:[_]}),t.setPixelRatio(1),t.setSize(_.textureWidth,_.textureHeight,!1),z=new Ba(_.textureWidth,_.textureHeight,{format:is,type:Cl,depthTexture:new eC(_.textureWidth,_.textureHeight,Xt,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:O.stencil,colorSpace:t.outputColorSpace,samples:O.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const ae={antialias:O.antialias,alpha:!0,depth:O.depth,stencil:O.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(r,e,ae),r.updateRenderState({baseLayer:b}),t.setPixelRatio(1),t.setSize(b.framebufferWidth,b.framebufferHeight,!1),z=new Ba(b.framebufferWidth,b.framebufferHeight,{format:is,type:Cl,colorSpace:t.outputColorSpace,stencilBuffer:O.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}z.isXRRenderTarget=!0,this.setFoveation(h),d=null,o=await r.requestReferenceSpace(l),Zt.setContext(r),Zt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function it(_t){for(let Qt=0;Qt<_t.removed.length;Qt++){const ae=_t.removed[Qt],Xt=I.indexOf(ae);Xt>=0&&(I[Xt]=null,F[Xt].disconnect(ae))}for(let Qt=0;Qt<_t.added.length;Qt++){const ae=_t.added[Qt];let Xt=I.indexOf(ae);if(Xt===-1){for(let pe=0;pe<F.length;pe++)if(pe>=I.length){I.push(ae),Xt=pe;break}else if(I[pe]===null){I[pe]=ae,Xt=pe;break}if(Xt===-1)break}const le=F[Xt];le&&le.connect(ae)}}const tt=new at,yt=new at;function Q(_t,Qt,ae){tt.setFromMatrixPosition(Qt.matrixWorld),yt.setFromMatrixPosition(ae.matrixWorld);const Xt=tt.distanceTo(yt),le=Qt.projectionMatrix.elements,pe=ae.projectionMatrix.elements,jt=le[14]/(le[10]-1),ot=le[14]/(le[10]+1),Ht=(le[9]+1)/le[5],Gt=(le[9]-1)/le[5],Yt=(le[8]-1)/le[0],At=(pe[8]+1)/pe[0],me=jt*Yt,qt=jt*At,te=Xt/(-Yt+At),Le=te*-Yt;if(Qt.matrixWorld.decompose(_t.position,_t.quaternion,_t.scale),_t.translateX(Le),_t.translateZ(te),_t.matrixWorld.compose(_t.position,_t.quaternion,_t.scale),_t.matrixWorldInverse.copy(_t.matrixWorld).invert(),le[10]===-1)_t.projectionMatrix.copy(Qt.projectionMatrix),_t.projectionMatrixInverse.copy(Qt.projectionMatrixInverse);else{const He=jt+te,$=ot+te,Z=me-Le,Mt=qt+(Xt-Le),Nt=Ht*ot/$*He,$t=Gt*ot/$*He;_t.projectionMatrix.makePerspective(Z,Mt,Nt,$t,He,$),_t.projectionMatrixInverse.copy(_t.projectionMatrix).invert()}}function ut(_t,Qt){Qt===null?_t.matrixWorld.copy(_t.matrix):_t.matrixWorld.multiplyMatrices(Qt.matrixWorld,_t.matrix),_t.matrixWorldInverse.copy(_t.matrixWorld).invert()}this.updateCamera=function(_t){if(r===null)return;let Qt=_t.near,ae=_t.far;T.texture!==null&&(T.depthNear>0&&(Qt=T.depthNear),T.depthFar>0&&(ae=T.depthFar)),st.near=j.near=G.near=Qt,st.far=j.far=G.far=ae,(lt!==st.near||dt!==st.far)&&(r.updateRenderState({depthNear:st.near,depthFar:st.far}),lt=st.near,dt=st.far),st.layers.mask=_t.layers.mask|6,G.layers.mask=st.layers.mask&3,j.layers.mask=st.layers.mask&5;const Xt=_t.parent,le=st.cameras;ut(st,Xt);for(let pe=0;pe<le.length;pe++)ut(le[pe],Xt);le.length===2?Q(st,G,j):st.projectionMatrix.copy(G.projectionMatrix),gt(_t,st,Xt)};function gt(_t,Qt,ae){ae===null?_t.matrix.copy(Qt.matrixWorld):(_t.matrix.copy(ae.matrixWorld),_t.matrix.invert(),_t.matrix.multiply(Qt.matrixWorld)),_t.matrix.decompose(_t.position,_t.quaternion,_t.scale),_t.updateMatrixWorld(!0),_t.projectionMatrix.copy(Qt.projectionMatrix),_t.projectionMatrixInverse.copy(Qt.projectionMatrixInverse),_t.isPerspectiveCamera&&(_t.fov=vg*2*Math.atan(1/_t.projectionMatrix.elements[5]),_t.zoom=1)}this.getCamera=function(){return st},this.getFoveation=function(){if(!(_===null&&b===null))return h},this.setFoveation=function(_t){h=_t,_!==null&&(_.fixedFoveation=_t),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=_t)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(st)},this.getCameraTexture=function(_t){return E[_t]};let Lt=null;function Dt(_t,Qt){if(g=Qt.getViewerPose(d||o),M=Qt,g!==null){const ae=g.views;b!==null&&(t.setRenderTargetFramebuffer(z,b.framebuffer),t.setRenderTarget(z));let Xt=!1;ae.length!==st.cameras.length&&(st.cameras.length=0,Xt=!0);for(let ot=0;ot<ae.length;ot++){const Ht=ae[ot];let Gt=null;if(b!==null)Gt=b.getViewport(Ht);else{const At=v.getViewSubImage(_,Ht);Gt=At.viewport,ot===0&&(t.setRenderTargetTextures(z,At.colorTexture,At.depthStencilTexture),t.setRenderTarget(z))}let Yt=K[ot];Yt===void 0&&(Yt=new Pr,Yt.layers.enable(ot),Yt.viewport=new Jn,K[ot]=Yt),Yt.matrix.fromArray(Ht.transform.matrix),Yt.matrix.decompose(Yt.position,Yt.quaternion,Yt.scale),Yt.projectionMatrix.fromArray(Ht.projectionMatrix),Yt.projectionMatrixInverse.copy(Yt.projectionMatrix).invert(),Yt.viewport.set(Gt.x,Gt.y,Gt.width,Gt.height),ot===0&&(st.matrix.copy(Yt.matrix),st.matrix.decompose(st.position,st.quaternion,st.scale)),Xt===!0&&st.cameras.push(Yt)}const le=r.enabledFeatures;if(le&&le.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&A){v=i.getBinding();const ot=v.getDepthInformation(ae[0]);ot&&ot.isValid&&ot.texture&&T.init(ot,r.renderState)}if(le&&le.includes("camera-access")&&A){t.state.unbindTexture(),v=i.getBinding();for(let ot=0;ot<ae.length;ot++){const Ht=ae[ot].camera;if(Ht){let Gt=E[Ht];Gt||(Gt=new nC,E[Ht]=Gt);const Yt=v.getCameraImage(Ht);Gt.sourceTexture=Yt}}}}for(let ae=0;ae<F.length;ae++){const Xt=I[ae],le=F[ae];Xt!==null&&le!==void 0&&le.update(Xt,Qt,d||o)}Lt&&Lt(_t,Qt),Qt.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Qt}),M=null}const Zt=new vI;Zt.setAnimationLoop(Dt),this.setAnimationLoop=function(_t){Lt=_t},this.dispose=function(){}}}const qd=new Fo,rW=new mn;function aW(n,t){function e(T,E){T.matrixAutoUpdate===!0&&T.updateMatrix(),E.value.copy(T.matrix)}function i(T,E){E.color.getRGB(T.fogColor.value,vz(n)),E.isFog?(T.fogNear.value=E.near,T.fogFar.value=E.far):E.isFogExp2&&(T.fogDensity.value=E.density)}function r(T,E,O,P,z){E.isMeshBasicMaterial||E.isMeshLambertMaterial?a(T,E):E.isMeshToonMaterial?(a(T,E),v(T,E)):E.isMeshPhongMaterial?(a(T,E),g(T,E)):E.isMeshStandardMaterial?(a(T,E),_(T,E),E.isMeshPhysicalMaterial&&b(T,E,z)):E.isMeshMatcapMaterial?(a(T,E),M(T,E)):E.isMeshDepthMaterial?a(T,E):E.isMeshDistanceMaterial?(a(T,E),A(T,E)):E.isMeshNormalMaterial?a(T,E):E.isLineBasicMaterial?(o(T,E),E.isLineDashedMaterial&&l(T,E)):E.isPointsMaterial?h(T,E,O,P):E.isSpriteMaterial?d(T,E):E.isShadowMaterial?(T.color.value.copy(E.color),T.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function a(T,E){T.opacity.value=E.opacity,E.color&&T.diffuse.value.copy(E.color),E.emissive&&T.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(T.map.value=E.map,e(E.map,T.mapTransform)),E.alphaMap&&(T.alphaMap.value=E.alphaMap,e(E.alphaMap,T.alphaMapTransform)),E.bumpMap&&(T.bumpMap.value=E.bumpMap,e(E.bumpMap,T.bumpMapTransform),T.bumpScale.value=E.bumpScale,E.side===as&&(T.bumpScale.value*=-1)),E.normalMap&&(T.normalMap.value=E.normalMap,e(E.normalMap,T.normalMapTransform),T.normalScale.value.copy(E.normalScale),E.side===as&&T.normalScale.value.negate()),E.displacementMap&&(T.displacementMap.value=E.displacementMap,e(E.displacementMap,T.displacementMapTransform),T.displacementScale.value=E.displacementScale,T.displacementBias.value=E.displacementBias),E.emissiveMap&&(T.emissiveMap.value=E.emissiveMap,e(E.emissiveMap,T.emissiveMapTransform)),E.specularMap&&(T.specularMap.value=E.specularMap,e(E.specularMap,T.specularMapTransform)),E.alphaTest>0&&(T.alphaTest.value=E.alphaTest);const O=t.get(E),P=O.envMap,z=O.envMapRotation;P&&(T.envMap.value=P,qd.copy(z),qd.x*=-1,qd.y*=-1,qd.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(qd.y*=-1,qd.z*=-1),T.envMapRotation.value.setFromMatrix4(rW.makeRotationFromEuler(qd)),T.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=E.reflectivity,T.ior.value=E.ior,T.refractionRatio.value=E.refractionRatio),E.lightMap&&(T.lightMap.value=E.lightMap,T.lightMapIntensity.value=E.lightMapIntensity,e(E.lightMap,T.lightMapTransform)),E.aoMap&&(T.aoMap.value=E.aoMap,T.aoMapIntensity.value=E.aoMapIntensity,e(E.aoMap,T.aoMapTransform))}function o(T,E){T.diffuse.value.copy(E.color),T.opacity.value=E.opacity,E.map&&(T.map.value=E.map,e(E.map,T.mapTransform))}function l(T,E){T.dashSize.value=E.dashSize,T.totalSize.value=E.dashSize+E.gapSize,T.scale.value=E.scale}function h(T,E,O,P){T.diffuse.value.copy(E.color),T.opacity.value=E.opacity,T.size.value=E.size*O,T.scale.value=P*.5,E.map&&(T.map.value=E.map,e(E.map,T.uvTransform)),E.alphaMap&&(T.alphaMap.value=E.alphaMap,e(E.alphaMap,T.alphaMapTransform)),E.alphaTest>0&&(T.alphaTest.value=E.alphaTest)}function d(T,E){T.diffuse.value.copy(E.color),T.opacity.value=E.opacity,T.rotation.value=E.rotation,E.map&&(T.map.value=E.map,e(E.map,T.mapTransform)),E.alphaMap&&(T.alphaMap.value=E.alphaMap,e(E.alphaMap,T.alphaMapTransform)),E.alphaTest>0&&(T.alphaTest.value=E.alphaTest)}function g(T,E){T.specular.value.copy(E.specular),T.shininess.value=Math.max(E.shininess,1e-4)}function v(T,E){E.gradientMap&&(T.gradientMap.value=E.gradientMap)}function _(T,E){T.metalness.value=E.metalness,E.metalnessMap&&(T.metalnessMap.value=E.metalnessMap,e(E.metalnessMap,T.metalnessMapTransform)),T.roughness.value=E.roughness,E.roughnessMap&&(T.roughnessMap.value=E.roughnessMap,e(E.roughnessMap,T.roughnessMapTransform)),E.envMap&&(T.envMapIntensity.value=E.envMapIntensity)}function b(T,E,O){T.ior.value=E.ior,E.sheen>0&&(T.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),T.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(T.sheenColorMap.value=E.sheenColorMap,e(E.sheenColorMap,T.sheenColorMapTransform)),E.sheenRoughnessMap&&(T.sheenRoughnessMap.value=E.sheenRoughnessMap,e(E.sheenRoughnessMap,T.sheenRoughnessMapTransform))),E.clearcoat>0&&(T.clearcoat.value=E.clearcoat,T.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(T.clearcoatMap.value=E.clearcoatMap,e(E.clearcoatMap,T.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,e(E.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(T.clearcoatNormalMap.value=E.clearcoatNormalMap,e(E.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===as&&T.clearcoatNormalScale.value.negate())),E.dispersion>0&&(T.dispersion.value=E.dispersion),E.iridescence>0&&(T.iridescence.value=E.iridescence,T.iridescenceIOR.value=E.iridescenceIOR,T.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(T.iridescenceMap.value=E.iridescenceMap,e(E.iridescenceMap,T.iridescenceMapTransform)),E.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=E.iridescenceThicknessMap,e(E.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),E.transmission>0&&(T.transmission.value=E.transmission,T.transmissionSamplerMap.value=O.texture,T.transmissionSamplerSize.value.set(O.width,O.height),E.transmissionMap&&(T.transmissionMap.value=E.transmissionMap,e(E.transmissionMap,T.transmissionMapTransform)),T.thickness.value=E.thickness,E.thicknessMap&&(T.thicknessMap.value=E.thicknessMap,e(E.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=E.attenuationDistance,T.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(T.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(T.anisotropyMap.value=E.anisotropyMap,e(E.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=E.specularIntensity,T.specularColor.value.copy(E.specularColor),E.specularColorMap&&(T.specularColorMap.value=E.specularColorMap,e(E.specularColorMap,T.specularColorMapTransform)),E.specularIntensityMap&&(T.specularIntensityMap.value=E.specularIntensityMap,e(E.specularIntensityMap,T.specularIntensityMapTransform))}function M(T,E){E.matcap&&(T.matcap.value=E.matcap)}function A(T,E){const O=t.get(E).light;T.referencePosition.value.setFromMatrixPosition(O.matrixWorld),T.nearDistance.value=O.shadow.camera.near,T.farDistance.value=O.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function sW(n,t,e,i){let r={},a={},o=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(O,P){const z=P.program;i.uniformBlockBinding(O,z)}function d(O,P){let z=r[O.id];z===void 0&&(M(O),z=g(O),r[O.id]=z,O.addEventListener("dispose",T));const F=P.program;i.updateUBOMapping(O,F);const I=t.render.frame;a[O.id]!==I&&(_(O),a[O.id]=I)}function g(O){const P=v();O.__bindingPointIndex=P;const z=n.createBuffer(),F=O.__size,I=O.usage;return n.bindBuffer(n.UNIFORM_BUFFER,z),n.bufferData(n.UNIFORM_BUFFER,F,I),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,P,z),z}function v(){for(let O=0;O<l;O++)if(o.indexOf(O)===-1)return o.push(O),O;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(O){const P=r[O.id],z=O.uniforms,F=O.__cache;n.bindBuffer(n.UNIFORM_BUFFER,P);for(let I=0,q=z.length;I<q;I++){const Y=Array.isArray(z[I])?z[I]:[z[I]];for(let G=0,j=Y.length;G<j;G++){const K=Y[G];if(b(K,I,G,F)===!0){const st=K.__offset,lt=Array.isArray(K.value)?K.value:[K.value];let dt=0;for(let vt=0;vt<lt.length;vt++){const X=lt[vt],it=A(X);typeof X=="number"||typeof X=="boolean"?(K.__data[0]=X,n.bufferSubData(n.UNIFORM_BUFFER,st+dt,K.__data)):X.isMatrix3?(K.__data[0]=X.elements[0],K.__data[1]=X.elements[1],K.__data[2]=X.elements[2],K.__data[3]=0,K.__data[4]=X.elements[3],K.__data[5]=X.elements[4],K.__data[6]=X.elements[5],K.__data[7]=0,K.__data[8]=X.elements[6],K.__data[9]=X.elements[7],K.__data[10]=X.elements[8],K.__data[11]=0):(X.toArray(K.__data,dt),dt+=it.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,st,K.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(O,P,z,F){const I=O.value,q=P+"_"+z;if(F[q]===void 0)return typeof I=="number"||typeof I=="boolean"?F[q]=I:F[q]=I.clone(),!0;{const Y=F[q];if(typeof I=="number"||typeof I=="boolean"){if(Y!==I)return F[q]=I,!0}else if(Y.equals(I)===!1)return Y.copy(I),!0}return!1}function M(O){const P=O.uniforms;let z=0;const F=16;for(let q=0,Y=P.length;q<Y;q++){const G=Array.isArray(P[q])?P[q]:[P[q]];for(let j=0,K=G.length;j<K;j++){const st=G[j],lt=Array.isArray(st.value)?st.value:[st.value];for(let dt=0,vt=lt.length;dt<vt;dt++){const X=lt[dt],it=A(X),tt=z%F,yt=tt%it.boundary,Q=tt+yt;z+=yt,Q!==0&&F-Q<it.storage&&(z+=F-Q),st.__data=new Float32Array(it.storage/Float32Array.BYTES_PER_ELEMENT),st.__offset=z,z+=it.storage}}}const I=z%F;return I>0&&(z+=F-I),O.__size=z,O.__cache={},this}function A(O){const P={boundary:0,storage:0};return typeof O=="number"||typeof O=="boolean"?(P.boundary=4,P.storage=4):O.isVector2?(P.boundary=8,P.storage=8):O.isVector3||O.isColor?(P.boundary=16,P.storage=12):O.isVector4?(P.boundary=16,P.storage=16):O.isMatrix3?(P.boundary=48,P.storage=48):O.isMatrix4?(P.boundary=64,P.storage=64):O.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",O),P}function T(O){const P=O.target;P.removeEventListener("dispose",T);const z=o.indexOf(P.__bindingPointIndex);o.splice(z,1),n.deleteBuffer(r[P.id]),delete r[P.id],delete a[P.id]}function E(){for(const O in r)n.deleteBuffer(r[O]);o=[],r={},a={}}return{bind:h,update:d,dispose:E}}class MI{constructor(t={}){const{canvas:e=pz(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:d=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:_=!1}=t;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const M=new Uint32Array(4),A=new Int32Array(4);let T=null,E=null;const O=[],P=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=bu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const z=this;let F=!1;this._outputColorSpace=za;let I=0,q=0,Y=null,G=-1,j=null;const K=new Jn,st=new Jn;let lt=null;const dt=new Ee(0);let vt=0,X=e.width,it=e.height,tt=1,yt=null,Q=null;const ut=new Jn(0,0,X,it),gt=new Jn(0,0,X,it);let Lt=!1;const Dt=new Dg;let Zt=!1,_t=!1;const Qt=new mn,ae=new at,Xt=new Jn,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pe=!1;function jt(){return Y===null?tt:1}let ot=i;function Ht(nt,St){return e.getContext(nt,St)}try{const nt={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:g,failIfMajorPerformanceCaveat:v};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${t0}`),e.addEventListener("webglcontextlost",he,!1),e.addEventListener("webglcontextrestored",_e,!1),e.addEventListener("webglcontextcreationerror",de,!1),ot===null){const St="webgl2";if(ot=Ht(St,nt),ot===null)throw Ht(St)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(nt){throw console.error("THREE.WebGLRenderer: "+nt.message),nt}let Gt,Yt,At,me,qt,te,Le,He,$,Z,Mt,Nt,$t,It,Me,ve,Oe,Pe,oe,ye,De,ct,Et,fe;function pt(){Gt=new y9(ot),Gt.init(),ct=new SI(ot,Gt),Yt=new f9(ot,Gt,t,ct),At=new $q(ot,Gt),Yt.reversedDepthBuffer&&_&&At.buffers.depth.setReversed(!0),me=new b9(ot),qt=new Fq,te=new Jq(ot,Gt,At,qt,Yt,ct,me),Le=new d9(z),He=new v9(z),$=new AV(ot),Et=new u9(ot,$),Z=new _9(ot,$,me,Et),Mt=new M9(ot,Z,$,me),oe=new S9(ot,Yt,te),ve=new h9(qt),Nt=new Bq(z,Le,He,Gt,Yt,Et,ve),$t=new aW(z,qt),It=new kq,Me=new Xq(Gt),Pe=new l9(z,Le,He,At,Mt,b,h),Oe=new Kq(z,Mt,Yt),fe=new sW(ot,me,Yt,At),ye=new c9(ot,Gt,me),De=new x9(ot,Gt,me),me.programs=Nt.programs,z.capabilities=Yt,z.extensions=Gt,z.properties=qt,z.renderLists=It,z.shadowMap=Oe,z.state=At,z.info=me}pt();const ie=new iW(z,ot);this.xr=ie,this.getContext=function(){return ot},this.getContextAttributes=function(){return ot.getContextAttributes()},this.forceContextLoss=function(){const nt=Gt.get("WEBGL_lose_context");nt&&nt.loseContext()},this.forceContextRestore=function(){const nt=Gt.get("WEBGL_lose_context");nt&&nt.restoreContext()},this.getPixelRatio=function(){return tt},this.setPixelRatio=function(nt){nt!==void 0&&(tt=nt,this.setSize(X,it,!1))},this.getSize=function(nt){return nt.set(X,it)},this.setSize=function(nt,St,Ot=!0){if(ie.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=nt,it=St,e.width=Math.floor(nt*tt),e.height=Math.floor(St*tt),Ot===!0&&(e.style.width=nt+"px",e.style.height=St+"px"),this.setViewport(0,0,nt,St)},this.getDrawingBufferSize=function(nt){return nt.set(X*tt,it*tt).floor()},this.setDrawingBufferSize=function(nt,St,Ot){X=nt,it=St,tt=Ot,e.width=Math.floor(nt*Ot),e.height=Math.floor(St*Ot),this.setViewport(0,0,nt,St)},this.getCurrentViewport=function(nt){return nt.copy(K)},this.getViewport=function(nt){return nt.copy(ut)},this.setViewport=function(nt,St,Ot,Bt){nt.isVector4?ut.set(nt.x,nt.y,nt.z,nt.w):ut.set(nt,St,Ot,Bt),At.viewport(K.copy(ut).multiplyScalar(tt).round())},this.getScissor=function(nt){return nt.copy(gt)},this.setScissor=function(nt,St,Ot,Bt){nt.isVector4?gt.set(nt.x,nt.y,nt.z,nt.w):gt.set(nt,St,Ot,Bt),At.scissor(st.copy(gt).multiplyScalar(tt).round())},this.getScissorTest=function(){return Lt},this.setScissorTest=function(nt){At.setScissorTest(Lt=nt)},this.setOpaqueSort=function(nt){yt=nt},this.setTransparentSort=function(nt){Q=nt},this.getClearColor=function(nt){return nt.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor(...arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha(...arguments)},this.clear=function(nt=!0,St=!0,Ot=!0){let Bt=0;if(nt){let Tt=!1;if(Y!==null){const ge=Y.texture.format;Tt=ge===j1||ge===k1||ge===n0}if(Tt){const ge=Y.texture.type,Se=ge===Cl||ge===Ef||ge===hg||ge===dg||ge===B1||ge===F1,Ne=Pe.getClearColor(),Te=Pe.getClearAlpha(),We=Ne.r,Ze=Ne.g,Be=Ne.b;Se?(M[0]=We,M[1]=Ze,M[2]=Be,M[3]=Te,ot.clearBufferuiv(ot.COLOR,0,M)):(A[0]=We,A[1]=Ze,A[2]=Be,A[3]=Te,ot.clearBufferiv(ot.COLOR,0,A))}else Bt|=ot.COLOR_BUFFER_BIT}St&&(Bt|=ot.DEPTH_BUFFER_BIT),Ot&&(Bt|=ot.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ot.clear(Bt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",he,!1),e.removeEventListener("webglcontextrestored",_e,!1),e.removeEventListener("webglcontextcreationerror",de,!1),Pe.dispose(),It.dispose(),Me.dispose(),qt.dispose(),Le.dispose(),He.dispose(),Mt.dispose(),Et.dispose(),fe.dispose(),Nt.dispose(),ie.dispose(),ie.removeEventListener("sessionstart",ci),ie.removeEventListener("sessionend",Hi),vi.stop()};function he(nt){nt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),F=!0}function _e(){console.log("THREE.WebGLRenderer: Context Restored."),F=!1;const nt=me.autoReset,St=Oe.enabled,Ot=Oe.autoUpdate,Bt=Oe.needsUpdate,Tt=Oe.type;pt(),me.autoReset=nt,Oe.enabled=St,Oe.autoUpdate=Ot,Oe.needsUpdate=Bt,Oe.type=Tt}function de(nt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",nt.statusMessage)}function re(nt){const St=nt.target;St.removeEventListener("dispose",re),we(St)}function we(nt){ke(nt),qt.remove(nt)}function ke(nt){const St=qt.get(nt).programs;St!==void 0&&(St.forEach(function(Ot){Nt.releaseProgram(Ot)}),nt.isShaderMaterial&&Nt.releaseShaderCache(nt))}this.renderBufferDirect=function(nt,St,Ot,Bt,Tt,ge){St===null&&(St=le);const Se=Tt.isMesh&&Tt.matrixWorld.determinant()<0,Ne=us(nt,St,Ot,Bt,Tt);At.setMaterial(Bt,Se);let Te=Ot.index,We=1;if(Bt.wireframe===!0){if(Te=Z.getWireframeAttribute(Ot),Te===void 0)return;We=2}const Ze=Ot.drawRange,Be=Ot.attributes.position;let vn=Ze.start*We,Pn=(Ze.start+Ze.count)*We;ge!==null&&(vn=Math.max(vn,ge.start*We),Pn=Math.min(Pn,(ge.start+ge.count)*We)),Te!==null?(vn=Math.max(vn,0),Pn=Math.min(Pn,Te.count)):Be!=null&&(vn=Math.max(vn,0),Pn=Math.min(Pn,Be.count));const Xe=Pn-vn;if(Xe<0||Xe===1/0)return;Et.setup(Tt,Bt,Ne,Ot,Te);let Je,cn=ye;if(Te!==null&&(Je=$.get(Te),cn=De,cn.setIndex(Je)),Tt.isMesh)Bt.wireframe===!0?(At.setLineWidth(Bt.wireframeLinewidth*jt()),cn.setMode(ot.LINES)):cn.setMode(ot.TRIANGLES);else if(Tt.isLine){let Ve=Bt.linewidth;Ve===void 0&&(Ve=1),At.setLineWidth(Ve*jt()),Tt.isLineSegments?cn.setMode(ot.LINES):Tt.isLineLoop?cn.setMode(ot.LINE_LOOP):cn.setMode(ot.LINE_STRIP)}else Tt.isPoints?cn.setMode(ot.POINTS):Tt.isSprite&&cn.setMode(ot.TRIANGLES);if(Tt.isBatchedMesh)if(Tt._multiDrawInstances!==null)Dy("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),cn.renderMultiDrawInstances(Tt._multiDrawStarts,Tt._multiDrawCounts,Tt._multiDrawCount,Tt._multiDrawInstances);else if(Gt.get("WEBGL_multi_draw"))cn.renderMultiDraw(Tt._multiDrawStarts,Tt._multiDrawCounts,Tt._multiDrawCount);else{const Ve=Tt._multiDrawStarts,Wn=Tt._multiDrawCounts,Sn=Tt._multiDrawCount,Ye=Te?$.get(Te).bytesPerElement:1,Hn=qt.get(Bt).currentProgram.getUniforms();for(let tr=0;tr<Sn;tr++)Hn.setValue(ot,"_gl_DrawID",tr),cn.render(Ve[tr]/Ye,Wn[tr])}else if(Tt.isInstancedMesh)cn.renderInstances(vn,Xe,Tt.count);else if(Ot.isInstancedBufferGeometry){const Ve=Ot._maxInstanceCount!==void 0?Ot._maxInstanceCount:1/0,Wn=Math.min(Ot.instanceCount,Ve);cn.renderInstances(vn,Xe,Wn)}else cn.render(vn,Xe)};function bn(nt,St,Ot){nt.transparent===!0&&nt.side===Tl&&nt.forceSinglePass===!1?(nt.side=as,nt.needsUpdate=!0,ea(nt,St,Ot),nt.side=Sf,nt.needsUpdate=!0,ea(nt,St,Ot),nt.side=Tl):ea(nt,St,Ot)}this.compile=function(nt,St,Ot=null){Ot===null&&(Ot=nt),E=Me.get(Ot),E.init(St),P.push(E),Ot.traverseVisible(function(Tt){Tt.isLight&&Tt.layers.test(St.layers)&&(E.pushLight(Tt),Tt.castShadow&&E.pushShadow(Tt))}),nt!==Ot&&nt.traverseVisible(function(Tt){Tt.isLight&&Tt.layers.test(St.layers)&&(E.pushLight(Tt),Tt.castShadow&&E.pushShadow(Tt))}),E.setupLights();const Bt=new Set;return nt.traverse(function(Tt){if(!(Tt.isMesh||Tt.isPoints||Tt.isLine||Tt.isSprite))return;const ge=Tt.material;if(ge)if(Array.isArray(ge))for(let Se=0;Se<ge.length;Se++){const Ne=ge[Se];bn(Ne,Ot,Tt),Bt.add(Ne)}else bn(ge,Ot,Tt),Bt.add(ge)}),E=P.pop(),Bt},this.compileAsync=function(nt,St,Ot=null){const Bt=this.compile(nt,St,Ot);return new Promise(Tt=>{function ge(){if(Bt.forEach(function(Se){qt.get(Se).currentProgram.isReady()&&Bt.delete(Se)}),Bt.size===0){Tt(nt);return}setTimeout(ge,10)}Gt.get("KHR_parallel_shader_compile")!==null?ge():setTimeout(ge,10)})};let gn=null;function Fi(nt){gn&&gn(nt)}function ci(){vi.stop()}function Hi(){vi.start()}const vi=new vI;vi.setAnimationLoop(Fi),typeof self<"u"&&vi.setContext(self),this.setAnimationLoop=function(nt){gn=nt,ie.setAnimationLoop(nt),nt===null?vi.stop():vi.start()},ie.addEventListener("sessionstart",ci),ie.addEventListener("sessionend",Hi),this.render=function(nt,St){if(St!==void 0&&St.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;if(nt.matrixWorldAutoUpdate===!0&&nt.updateMatrixWorld(),St.parent===null&&St.matrixWorldAutoUpdate===!0&&St.updateMatrixWorld(),ie.enabled===!0&&ie.isPresenting===!0&&(ie.cameraAutoUpdate===!0&&ie.updateCamera(St),St=ie.getCamera()),nt.isScene===!0&&nt.onBeforeRender(z,nt,St,Y),E=Me.get(nt,P.length),E.init(St),P.push(E),Qt.multiplyMatrices(St.projectionMatrix,St.matrixWorldInverse),Dt.setFromProjectionMatrix(Qt,No,St.reversedDepth),_t=this.localClippingEnabled,Zt=ve.init(this.clippingPlanes,_t),T=It.get(nt,O.length),T.init(),O.push(T),ie.enabled===!0&&ie.isPresenting===!0){const ge=z.xr.getDepthSensingMesh();ge!==null&&Ha(ge,St,-1/0,z.sortObjects)}Ha(nt,St,0,z.sortObjects),T.finish(),z.sortObjects===!0&&T.sort(yt,Q),pe=ie.enabled===!1||ie.isPresenting===!1||ie.hasDepthSensing()===!1,pe&&Pe.addToRenderList(T,nt),this.info.render.frame++,Zt===!0&&ve.beginShadows();const Ot=E.state.shadowsArray;Oe.render(Ot,nt,St),Zt===!0&&ve.endShadows(),this.info.autoReset===!0&&this.info.reset();const Bt=T.opaque,Tt=T.transmissive;if(E.setupLights(),St.isArrayCamera){const ge=St.cameras;if(Tt.length>0)for(let Se=0,Ne=ge.length;Se<Ne;Se++){const Te=ge[Se];je(Bt,Tt,nt,Te)}pe&&Pe.render(nt);for(let Se=0,Ne=ge.length;Se<Ne;Se++){const Te=ge[Se];Di(T,nt,Te,Te.viewport)}}else Tt.length>0&&je(Bt,Tt,nt,St),pe&&Pe.render(nt),Di(T,nt,St);Y!==null&&q===0&&(te.updateMultisampleRenderTarget(Y),te.updateRenderTargetMipmap(Y)),nt.isScene===!0&&nt.onAfterRender(z,nt,St),Et.resetDefaultState(),G=-1,j=null,P.pop(),P.length>0?(E=P[P.length-1],Zt===!0&&ve.setGlobalState(z.clippingPlanes,E.state.camera)):E=null,O.pop(),O.length>0?T=O[O.length-1]:T=null};function Ha(nt,St,Ot,Bt){if(nt.visible===!1)return;if(nt.layers.test(St.layers)){if(nt.isGroup)Ot=nt.renderOrder;else if(nt.isLOD)nt.autoUpdate===!0&&nt.update(St);else if(nt.isLight)E.pushLight(nt),nt.castShadow&&E.pushShadow(nt);else if(nt.isSprite){if(!nt.frustumCulled||Dt.intersectsSprite(nt)){Bt&&Xt.setFromMatrixPosition(nt.matrixWorld).applyMatrix4(Qt);const Se=Mt.update(nt),Ne=nt.material;Ne.visible&&T.push(nt,Se,Ne,Ot,Xt.z,null)}}else if((nt.isMesh||nt.isLine||nt.isPoints)&&(!nt.frustumCulled||Dt.intersectsObject(nt))){const Se=Mt.update(nt),Ne=nt.material;if(Bt&&(nt.boundingSphere!==void 0?(nt.boundingSphere===null&&nt.computeBoundingSphere(),Xt.copy(nt.boundingSphere.center)):(Se.boundingSphere===null&&Se.computeBoundingSphere(),Xt.copy(Se.boundingSphere.center)),Xt.applyMatrix4(nt.matrixWorld).applyMatrix4(Qt)),Array.isArray(Ne)){const Te=Se.groups;for(let We=0,Ze=Te.length;We<Ze;We++){const Be=Te[We],vn=Ne[Be.materialIndex];vn&&vn.visible&&T.push(nt,Se,vn,Ot,Xt.z,Be)}}else Ne.visible&&T.push(nt,Se,Ne,Ot,Xt.z,null)}}const ge=nt.children;for(let Se=0,Ne=ge.length;Se<Ne;Se++)Ha(ge[Se],St,Ot,Bt)}function Di(nt,St,Ot,Bt){const Tt=nt.opaque,ge=nt.transmissive,Se=nt.transparent;E.setupLightsView(Ot),Zt===!0&&ve.setGlobalState(z.clippingPlanes,Ot),Bt&&At.viewport(K.copy(Bt)),Tt.length>0&&Jr(Tt,St,Ot),ge.length>0&&Jr(ge,St,Ot),Se.length>0&&Jr(Se,St,Ot),At.buffers.depth.setTest(!0),At.buffers.depth.setMask(!0),At.buffers.color.setMask(!0),At.setPolygonOffset(!1)}function je(nt,St,Ot,Bt){if((Ot.isScene===!0?Ot.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[Bt.id]===void 0&&(E.state.transmissionRenderTarget[Bt.id]=new Ba(1,1,{generateMipmaps:!0,type:Gt.has("EXT_color_buffer_half_float")||Gt.has("EXT_color_buffer_float")?gc:Cl,minFilter:Qs,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:qn.workingColorSpace}));const ge=E.state.transmissionRenderTarget[Bt.id],Se=Bt.viewport||K;ge.setSize(Se.z*z.transmissionResolutionScale,Se.w*z.transmissionResolutionScale);const Ne=z.getRenderTarget(),Te=z.getActiveCubeFace(),We=z.getActiveMipmapLevel();z.setRenderTarget(ge),z.getClearColor(dt),vt=z.getClearAlpha(),vt<1&&z.setClearColor(16777215,.5),z.clear(),pe&&Pe.render(Ot);const Ze=z.toneMapping;z.toneMapping=bu;const Be=Bt.viewport;if(Bt.viewport!==void 0&&(Bt.viewport=void 0),E.setupLightsView(Bt),Zt===!0&&ve.setGlobalState(z.clippingPlanes,Bt),Jr(nt,Ot,Bt),te.updateMultisampleRenderTarget(ge),te.updateRenderTargetMipmap(ge),Gt.has("WEBGL_multisampled_render_to_texture")===!1){let vn=!1;for(let Pn=0,Xe=St.length;Pn<Xe;Pn++){const Je=St[Pn],cn=Je.object,Ve=Je.geometry,Wn=Je.material,Sn=Je.group;if(Wn.side===Tl&&cn.layers.test(Bt.layers)){const Ye=Wn.side;Wn.side=as,Wn.needsUpdate=!0,ta(cn,Ot,Bt,Ve,Wn,Sn),Wn.side=Ye,Wn.needsUpdate=!0,vn=!0}}vn===!0&&(te.updateMultisampleRenderTarget(ge),te.updateRenderTargetMipmap(ge))}z.setRenderTarget(Ne,Te,We),z.setClearColor(dt,vt),Be!==void 0&&(Bt.viewport=Be),z.toneMapping=Ze}function Jr(nt,St,Ot){const Bt=St.isScene===!0?St.overrideMaterial:null;for(let Tt=0,ge=nt.length;Tt<ge;Tt++){const Se=nt[Tt],Ne=Se.object,Te=Se.geometry,We=Se.group;let Ze=Se.material;Ze.allowOverride===!0&&Bt!==null&&(Ze=Bt),Ne.layers.test(Ot.layers)&&ta(Ne,St,Ot,Te,Ze,We)}}function ta(nt,St,Ot,Bt,Tt,ge){nt.onBeforeRender(z,St,Ot,Bt,Tt,ge),nt.modelViewMatrix.multiplyMatrices(Ot.matrixWorldInverse,nt.matrixWorld),nt.normalMatrix.getNormalMatrix(nt.modelViewMatrix),Tt.onBeforeRender(z,St,Ot,Bt,nt,ge),Tt.transparent===!0&&Tt.side===Tl&&Tt.forceSinglePass===!1?(Tt.side=as,Tt.needsUpdate=!0,z.renderBufferDirect(Ot,St,Bt,Tt,nt,ge),Tt.side=Sf,Tt.needsUpdate=!0,z.renderBufferDirect(Ot,St,Bt,Tt,nt,ge),Tt.side=Tl):z.renderBufferDirect(Ot,St,Bt,Tt,nt,ge),nt.onAfterRender(z,St,Ot,Bt,Tt,ge)}function ea(nt,St,Ot){St.isScene!==!0&&(St=le);const Bt=qt.get(nt),Tt=E.state.lights,ge=E.state.shadowsArray,Se=Tt.state.version,Ne=Nt.getParameters(nt,Tt.state,ge,St,Ot),Te=Nt.getProgramCacheKey(Ne);let We=Bt.programs;Bt.environment=nt.isMeshStandardMaterial?St.environment:null,Bt.fog=St.fog,Bt.envMap=(nt.isMeshStandardMaterial?He:Le).get(nt.envMap||Bt.environment),Bt.envMapRotation=Bt.environment!==null&&nt.envMap===null?St.environmentRotation:nt.envMapRotation,We===void 0&&(nt.addEventListener("dispose",re),We=new Map,Bt.programs=We);let Ze=We.get(Te);if(Ze!==void 0){if(Bt.currentProgram===Ze&&Bt.lightsStateVersion===Se)return ba(nt,Ne),Ze}else Ne.uniforms=Nt.getUniforms(nt),nt.onBeforeCompile(Ne,z),Ze=Nt.acquireProgram(Ne,Te),We.set(Te,Ze),Bt.uniforms=Ne.uniforms;const Be=Bt.uniforms;return(!nt.isShaderMaterial&&!nt.isRawShaderMaterial||nt.clipping===!0)&&(Be.clippingPlanes=ve.uniform),ba(nt,Ne),Bt.needsLights=Ds(nt),Bt.lightsStateVersion=Se,Bt.needsLights&&(Be.ambientLightColor.value=Tt.state.ambient,Be.lightProbe.value=Tt.state.probe,Be.directionalLights.value=Tt.state.directional,Be.directionalLightShadows.value=Tt.state.directionalShadow,Be.spotLights.value=Tt.state.spot,Be.spotLightShadows.value=Tt.state.spotShadow,Be.rectAreaLights.value=Tt.state.rectArea,Be.ltc_1.value=Tt.state.rectAreaLTC1,Be.ltc_2.value=Tt.state.rectAreaLTC2,Be.pointLights.value=Tt.state.point,Be.pointLightShadows.value=Tt.state.pointShadow,Be.hemisphereLights.value=Tt.state.hemi,Be.directionalShadowMap.value=Tt.state.directionalShadowMap,Be.directionalShadowMatrix.value=Tt.state.directionalShadowMatrix,Be.spotShadowMap.value=Tt.state.spotShadowMap,Be.spotLightMatrix.value=Tt.state.spotLightMatrix,Be.spotLightMap.value=Tt.state.spotLightMap,Be.pointShadowMap.value=Tt.state.pointShadowMap,Be.pointShadowMatrix.value=Tt.state.pointShadowMatrix),Bt.currentProgram=Ze,Bt.uniformsList=null,Ze}function ri(nt){if(nt.uniformsList===null){const St=nt.currentProgram.getUniforms();nt.uniformsList=Jx.seqWithValue(St.seq,nt.uniforms)}return nt.uniformsList}function ba(nt,St){const Ot=qt.get(nt);Ot.outputColorSpace=St.outputColorSpace,Ot.batching=St.batching,Ot.batchingColor=St.batchingColor,Ot.instancing=St.instancing,Ot.instancingColor=St.instancingColor,Ot.instancingMorph=St.instancingMorph,Ot.skinning=St.skinning,Ot.morphTargets=St.morphTargets,Ot.morphNormals=St.morphNormals,Ot.morphColors=St.morphColors,Ot.morphTargetsCount=St.morphTargetsCount,Ot.numClippingPlanes=St.numClippingPlanes,Ot.numIntersection=St.numClipIntersection,Ot.vertexAlphas=St.vertexAlphas,Ot.vertexTangents=St.vertexTangents,Ot.toneMapping=St.toneMapping}function us(nt,St,Ot,Bt,Tt){St.isScene!==!0&&(St=le),te.resetTextureUnits();const ge=St.fog,Se=Bt.isMeshStandardMaterial?St.environment:null,Ne=Y===null?z.outputColorSpace:Y.isXRRenderTarget===!0?Y.texture.colorSpace:Hh,Te=(Bt.isMeshStandardMaterial?He:Le).get(Bt.envMap||Se),We=Bt.vertexColors===!0&&!!Ot.attributes.color&&Ot.attributes.color.itemSize===4,Ze=!!Ot.attributes.tangent&&(!!Bt.normalMap||Bt.anisotropy>0),Be=!!Ot.morphAttributes.position,vn=!!Ot.morphAttributes.normal,Pn=!!Ot.morphAttributes.color;let Xe=bu;Bt.toneMapped&&(Y===null||Y.isXRRenderTarget===!0)&&(Xe=z.toneMapping);const Je=Ot.morphAttributes.position||Ot.morphAttributes.normal||Ot.morphAttributes.color,cn=Je!==void 0?Je.length:0,Ve=qt.get(Bt),Wn=E.state.lights;if(Zt===!0&&(_t===!0||nt!==j)){const Kn=nt===j&&Bt.id===G;ve.setState(Bt,nt,Kn)}let Sn=!1;Bt.version===Ve.__version?(Ve.needsLights&&Ve.lightsStateVersion!==Wn.state.version||Ve.outputColorSpace!==Ne||Tt.isBatchedMesh&&Ve.batching===!1||!Tt.isBatchedMesh&&Ve.batching===!0||Tt.isBatchedMesh&&Ve.batchingColor===!0&&Tt.colorTexture===null||Tt.isBatchedMesh&&Ve.batchingColor===!1&&Tt.colorTexture!==null||Tt.isInstancedMesh&&Ve.instancing===!1||!Tt.isInstancedMesh&&Ve.instancing===!0||Tt.isSkinnedMesh&&Ve.skinning===!1||!Tt.isSkinnedMesh&&Ve.skinning===!0||Tt.isInstancedMesh&&Ve.instancingColor===!0&&Tt.instanceColor===null||Tt.isInstancedMesh&&Ve.instancingColor===!1&&Tt.instanceColor!==null||Tt.isInstancedMesh&&Ve.instancingMorph===!0&&Tt.morphTexture===null||Tt.isInstancedMesh&&Ve.instancingMorph===!1&&Tt.morphTexture!==null||Ve.envMap!==Te||Bt.fog===!0&&Ve.fog!==ge||Ve.numClippingPlanes!==void 0&&(Ve.numClippingPlanes!==ve.numPlanes||Ve.numIntersection!==ve.numIntersection)||Ve.vertexAlphas!==We||Ve.vertexTangents!==Ze||Ve.morphTargets!==Be||Ve.morphNormals!==vn||Ve.morphColors!==Pn||Ve.toneMapping!==Xe||Ve.morphTargetsCount!==cn)&&(Sn=!0):(Sn=!0,Ve.__version=Bt.version);let Ye=Ve.currentProgram;Sn===!0&&(Ye=ea(Bt,St,Tt));let Hn=!1,tr=!1,Li=!1;const Tn=Ye.getUniforms(),Nr=Ve.uniforms;if(At.useProgram(Ye.program)&&(Hn=!0,tr=!0,Li=!0),Bt.id!==G&&(G=Bt.id,tr=!0),Hn||j!==nt){At.buffers.depth.getReversed()&&nt.reversedDepth!==!0&&(nt._reversedDepth=!0,nt.updateProjectionMatrix()),Tn.setValue(ot,"projectionMatrix",nt.projectionMatrix),Tn.setValue(ot,"viewMatrix",nt.matrixWorldInverse);const Nn=Tn.map.cameraPosition;Nn!==void 0&&Nn.setValue(ot,ae.setFromMatrixPosition(nt.matrixWorld)),Yt.logarithmicDepthBuffer&&Tn.setValue(ot,"logDepthBufFC",2/(Math.log(nt.far+1)/Math.LN2)),(Bt.isMeshPhongMaterial||Bt.isMeshToonMaterial||Bt.isMeshLambertMaterial||Bt.isMeshBasicMaterial||Bt.isMeshStandardMaterial||Bt.isShaderMaterial)&&Tn.setValue(ot,"isOrthographic",nt.isOrthographicCamera===!0),j!==nt&&(j=nt,tr=!0,Li=!0)}if(Tt.isSkinnedMesh){Tn.setOptional(ot,Tt,"bindMatrix"),Tn.setOptional(ot,Tt,"bindMatrixInverse");const Kn=Tt.skeleton;Kn&&(Kn.boneTexture===null&&Kn.computeBoneTexture(),Tn.setValue(ot,"boneTexture",Kn.boneTexture,te))}Tt.isBatchedMesh&&(Tn.setOptional(ot,Tt,"batchingTexture"),Tn.setValue(ot,"batchingTexture",Tt._matricesTexture,te),Tn.setOptional(ot,Tt,"batchingIdTexture"),Tn.setValue(ot,"batchingIdTexture",Tt._indirectTexture,te),Tn.setOptional(ot,Tt,"batchingColorTexture"),Tt._colorsTexture!==null&&Tn.setValue(ot,"batchingColorTexture",Tt._colorsTexture,te));const ji=Ot.morphAttributes;if((ji.position!==void 0||ji.normal!==void 0||ji.color!==void 0)&&oe.update(Tt,Ot,Ye),(tr||Ve.receiveShadow!==Tt.receiveShadow)&&(Ve.receiveShadow=Tt.receiveShadow,Tn.setValue(ot,"receiveShadow",Tt.receiveShadow)),Bt.isMeshGouraudMaterial&&Bt.envMap!==null&&(Nr.envMap.value=Te,Nr.flipEnvMap.value=Te.isCubeTexture&&Te.isRenderTargetTexture===!1?-1:1),Bt.isMeshStandardMaterial&&Bt.envMap===null&&St.environment!==null&&(Nr.envMapIntensity.value=St.environmentIntensity),tr&&(Tn.setValue(ot,"toneMappingExposure",z.toneMappingExposure),Ve.needsLights&&Sa(Nr,Li),ge&&Bt.fog===!0&&$t.refreshFogUniforms(Nr,ge),$t.refreshMaterialUniforms(Nr,Bt,tt,it,E.state.transmissionRenderTarget[nt.id]),Jx.upload(ot,ri(Ve),Nr,te)),Bt.isShaderMaterial&&Bt.uniformsNeedUpdate===!0&&(Jx.upload(ot,ri(Ve),Nr,te),Bt.uniformsNeedUpdate=!1),Bt.isSpriteMaterial&&Tn.setValue(ot,"center",Tt.center),Tn.setValue(ot,"modelViewMatrix",Tt.modelViewMatrix),Tn.setValue(ot,"normalMatrix",Tt.normalMatrix),Tn.setValue(ot,"modelMatrix",Tt.matrixWorld),Bt.isShaderMaterial||Bt.isRawShaderMaterial){const Kn=Bt.uniformsGroups;for(let Nn=0,Ma=Kn.length;Nn<Ma;Nn++){const Ci=Kn[Nn];fe.update(Ci,Ye),fe.bind(Ci,Ye)}}return Ye}function Sa(nt,St){nt.ambientLightColor.needsUpdate=St,nt.lightProbe.needsUpdate=St,nt.directionalLights.needsUpdate=St,nt.directionalLightShadows.needsUpdate=St,nt.pointLights.needsUpdate=St,nt.pointLightShadows.needsUpdate=St,nt.spotLights.needsUpdate=St,nt.spotLightShadows.needsUpdate=St,nt.rectAreaLights.needsUpdate=St,nt.hemisphereLights.needsUpdate=St}function Ds(nt){return nt.isMeshLambertMaterial||nt.isMeshToonMaterial||nt.isMeshPhongMaterial||nt.isMeshStandardMaterial||nt.isShadowMaterial||nt.isShaderMaterial&&nt.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return q},this.getRenderTarget=function(){return Y},this.setRenderTargetTextures=function(nt,St,Ot){const Bt=qt.get(nt);Bt.__autoAllocateDepthBuffer=nt.resolveDepthBuffer===!1,Bt.__autoAllocateDepthBuffer===!1&&(Bt.__useRenderToTexture=!1),qt.get(nt.texture).__webglTexture=St,qt.get(nt.depthTexture).__webglTexture=Bt.__autoAllocateDepthBuffer?void 0:Ot,Bt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(nt,St){const Ot=qt.get(nt);Ot.__webglFramebuffer=St,Ot.__useDefaultFramebuffer=St===void 0};const ki=ot.createFramebuffer();this.setRenderTarget=function(nt,St=0,Ot=0){Y=nt,I=St,q=Ot;let Bt=!0,Tt=null,ge=!1,Se=!1;if(nt){const Te=qt.get(nt);if(Te.__useDefaultFramebuffer!==void 0)At.bindFramebuffer(ot.FRAMEBUFFER,null),Bt=!1;else if(Te.__webglFramebuffer===void 0)te.setupRenderTarget(nt);else if(Te.__hasExternalTextures)te.rebindTextures(nt,qt.get(nt.texture).__webglTexture,qt.get(nt.depthTexture).__webglTexture);else if(nt.depthBuffer){const Be=nt.depthTexture;if(Te.__boundDepthTexture!==Be){if(Be!==null&&qt.has(Be)&&(nt.width!==Be.image.width||nt.height!==Be.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer(nt)}}const We=nt.texture;(We.isData3DTexture||We.isDataArrayTexture||We.isCompressedArrayTexture)&&(Se=!0);const Ze=qt.get(nt).__webglFramebuffer;nt.isWebGLCubeRenderTarget?(Array.isArray(Ze[St])?Tt=Ze[St][Ot]:Tt=Ze[St],ge=!0):nt.samples>0&&te.useMultisampledRTT(nt)===!1?Tt=qt.get(nt).__webglMultisampledFramebuffer:Array.isArray(Ze)?Tt=Ze[Ot]:Tt=Ze,K.copy(nt.viewport),st.copy(nt.scissor),lt=nt.scissorTest}else K.copy(ut).multiplyScalar(tt).floor(),st.copy(gt).multiplyScalar(tt).floor(),lt=Lt;if(Ot!==0&&(Tt=ki),At.bindFramebuffer(ot.FRAMEBUFFER,Tt)&&Bt&&At.drawBuffers(nt,Tt),At.viewport(K),At.scissor(st),At.setScissorTest(lt),ge){const Te=qt.get(nt.texture);ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_CUBE_MAP_POSITIVE_X+St,Te.__webglTexture,Ot)}else if(Se){const Te=St;for(let We=0;We<nt.textures.length;We++){const Ze=qt.get(nt.textures[We]);ot.framebufferTextureLayer(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0+We,Ze.__webglTexture,Ot,Te)}}else if(nt!==null&&Ot!==0){const Te=qt.get(nt.texture);ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,Te.__webglTexture,Ot)}G=-1},this.readRenderTargetPixels=function(nt,St,Ot,Bt,Tt,ge,Se,Ne=0){if(!(nt&&nt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Te=qt.get(nt).__webglFramebuffer;if(nt.isWebGLCubeRenderTarget&&Se!==void 0&&(Te=Te[Se]),Te){At.bindFramebuffer(ot.FRAMEBUFFER,Te);try{const We=nt.textures[Ne],Ze=We.format,Be=We.type;if(!Yt.textureFormatReadable(Ze)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Yt.textureTypeReadable(Be)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}St>=0&&St<=nt.width-Bt&&Ot>=0&&Ot<=nt.height-Tt&&(nt.textures.length>1&&ot.readBuffer(ot.COLOR_ATTACHMENT0+Ne),ot.readPixels(St,Ot,Bt,Tt,ct.convert(Ze),ct.convert(Be),ge))}finally{const We=Y!==null?qt.get(Y).__webglFramebuffer:null;At.bindFramebuffer(ot.FRAMEBUFFER,We)}}},this.readRenderTargetPixelsAsync=async function(nt,St,Ot,Bt,Tt,ge,Se,Ne=0){if(!(nt&&nt.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Te=qt.get(nt).__webglFramebuffer;if(nt.isWebGLCubeRenderTarget&&Se!==void 0&&(Te=Te[Se]),Te)if(St>=0&&St<=nt.width-Bt&&Ot>=0&&Ot<=nt.height-Tt){At.bindFramebuffer(ot.FRAMEBUFFER,Te);const We=nt.textures[Ne],Ze=We.format,Be=We.type;if(!Yt.textureFormatReadable(Ze))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Yt.textureTypeReadable(Be))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const vn=ot.createBuffer();ot.bindBuffer(ot.PIXEL_PACK_BUFFER,vn),ot.bufferData(ot.PIXEL_PACK_BUFFER,ge.byteLength,ot.STREAM_READ),nt.textures.length>1&&ot.readBuffer(ot.COLOR_ATTACHMENT0+Ne),ot.readPixels(St,Ot,Bt,Tt,ct.convert(Ze),ct.convert(Be),0);const Pn=Y!==null?qt.get(Y).__webglFramebuffer:null;At.bindFramebuffer(ot.FRAMEBUFFER,Pn);const Xe=ot.fenceSync(ot.SYNC_GPU_COMMANDS_COMPLETE,0);return ot.flush(),await Xj(ot,Xe,4),ot.bindBuffer(ot.PIXEL_PACK_BUFFER,vn),ot.getBufferSubData(ot.PIXEL_PACK_BUFFER,0,ge),ot.deleteBuffer(vn),ot.deleteSync(Xe),ge}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(nt,St=null,Ot=0){const Bt=Math.pow(2,-Ot),Tt=Math.floor(nt.image.width*Bt),ge=Math.floor(nt.image.height*Bt),Se=St!==null?St.x:0,Ne=St!==null?St.y:0;te.setTexture2D(nt,0),ot.copyTexSubImage2D(ot.TEXTURE_2D,Ot,0,0,Se,Ne,Tt,ge),At.unbindTexture()};const Tu=ot.createFramebuffer(),wu=ot.createFramebuffer();this.copyTextureToTexture=function(nt,St,Ot=null,Bt=null,Tt=0,ge=null){ge===null&&(Tt!==0?(Dy("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ge=Tt,Tt=0):ge=0);let Se,Ne,Te,We,Ze,Be,vn,Pn,Xe;const Je=nt.isCompressedTexture?nt.mipmaps[ge]:nt.image;if(Ot!==null)Se=Ot.max.x-Ot.min.x,Ne=Ot.max.y-Ot.min.y,Te=Ot.isBox3?Ot.max.z-Ot.min.z:1,We=Ot.min.x,Ze=Ot.min.y,Be=Ot.isBox3?Ot.min.z:0;else{const ji=Math.pow(2,-Tt);Se=Math.floor(Je.width*ji),Ne=Math.floor(Je.height*ji),nt.isDataArrayTexture?Te=Je.depth:nt.isData3DTexture?Te=Math.floor(Je.depth*ji):Te=1,We=0,Ze=0,Be=0}Bt!==null?(vn=Bt.x,Pn=Bt.y,Xe=Bt.z):(vn=0,Pn=0,Xe=0);const cn=ct.convert(St.format),Ve=ct.convert(St.type);let Wn;St.isData3DTexture?(te.setTexture3D(St,0),Wn=ot.TEXTURE_3D):St.isDataArrayTexture||St.isCompressedArrayTexture?(te.setTexture2DArray(St,0),Wn=ot.TEXTURE_2D_ARRAY):(te.setTexture2D(St,0),Wn=ot.TEXTURE_2D),ot.pixelStorei(ot.UNPACK_FLIP_Y_WEBGL,St.flipY),ot.pixelStorei(ot.UNPACK_PREMULTIPLY_ALPHA_WEBGL,St.premultiplyAlpha),ot.pixelStorei(ot.UNPACK_ALIGNMENT,St.unpackAlignment);const Sn=ot.getParameter(ot.UNPACK_ROW_LENGTH),Ye=ot.getParameter(ot.UNPACK_IMAGE_HEIGHT),Hn=ot.getParameter(ot.UNPACK_SKIP_PIXELS),tr=ot.getParameter(ot.UNPACK_SKIP_ROWS),Li=ot.getParameter(ot.UNPACK_SKIP_IMAGES);ot.pixelStorei(ot.UNPACK_ROW_LENGTH,Je.width),ot.pixelStorei(ot.UNPACK_IMAGE_HEIGHT,Je.height),ot.pixelStorei(ot.UNPACK_SKIP_PIXELS,We),ot.pixelStorei(ot.UNPACK_SKIP_ROWS,Ze),ot.pixelStorei(ot.UNPACK_SKIP_IMAGES,Be);const Tn=nt.isDataArrayTexture||nt.isData3DTexture,Nr=St.isDataArrayTexture||St.isData3DTexture;if(nt.isDepthTexture){const ji=qt.get(nt),Kn=qt.get(St),Nn=qt.get(ji.__renderTarget),Ma=qt.get(Kn.__renderTarget);At.bindFramebuffer(ot.READ_FRAMEBUFFER,Nn.__webglFramebuffer),At.bindFramebuffer(ot.DRAW_FRAMEBUFFER,Ma.__webglFramebuffer);for(let Ci=0;Ci<Te;Ci++)Tn&&(ot.framebufferTextureLayer(ot.READ_FRAMEBUFFER,ot.COLOR_ATTACHMENT0,qt.get(nt).__webglTexture,Tt,Be+Ci),ot.framebufferTextureLayer(ot.DRAW_FRAMEBUFFER,ot.COLOR_ATTACHMENT0,qt.get(St).__webglTexture,ge,Xe+Ci)),ot.blitFramebuffer(We,Ze,Se,Ne,vn,Pn,Se,Ne,ot.DEPTH_BUFFER_BIT,ot.NEAREST);At.bindFramebuffer(ot.READ_FRAMEBUFFER,null),At.bindFramebuffer(ot.DRAW_FRAMEBUFFER,null)}else if(Tt!==0||nt.isRenderTargetTexture||qt.has(nt)){const ji=qt.get(nt),Kn=qt.get(St);At.bindFramebuffer(ot.READ_FRAMEBUFFER,Tu),At.bindFramebuffer(ot.DRAW_FRAMEBUFFER,wu);for(let Nn=0;Nn<Te;Nn++)Tn?ot.framebufferTextureLayer(ot.READ_FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ji.__webglTexture,Tt,Be+Nn):ot.framebufferTexture2D(ot.READ_FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,ji.__webglTexture,Tt),Nr?ot.framebufferTextureLayer(ot.DRAW_FRAMEBUFFER,ot.COLOR_ATTACHMENT0,Kn.__webglTexture,ge,Xe+Nn):ot.framebufferTexture2D(ot.DRAW_FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,Kn.__webglTexture,ge),Tt!==0?ot.blitFramebuffer(We,Ze,Se,Ne,vn,Pn,Se,Ne,ot.COLOR_BUFFER_BIT,ot.NEAREST):Nr?ot.copyTexSubImage3D(Wn,ge,vn,Pn,Xe+Nn,We,Ze,Se,Ne):ot.copyTexSubImage2D(Wn,ge,vn,Pn,We,Ze,Se,Ne);At.bindFramebuffer(ot.READ_FRAMEBUFFER,null),At.bindFramebuffer(ot.DRAW_FRAMEBUFFER,null)}else Nr?nt.isDataTexture||nt.isData3DTexture?ot.texSubImage3D(Wn,ge,vn,Pn,Xe,Se,Ne,Te,cn,Ve,Je.data):St.isCompressedArrayTexture?ot.compressedTexSubImage3D(Wn,ge,vn,Pn,Xe,Se,Ne,Te,cn,Je.data):ot.texSubImage3D(Wn,ge,vn,Pn,Xe,Se,Ne,Te,cn,Ve,Je):nt.isDataTexture?ot.texSubImage2D(ot.TEXTURE_2D,ge,vn,Pn,Se,Ne,cn,Ve,Je.data):nt.isCompressedTexture?ot.compressedTexSubImage2D(ot.TEXTURE_2D,ge,vn,Pn,Je.width,Je.height,cn,Je.data):ot.texSubImage2D(ot.TEXTURE_2D,ge,vn,Pn,Se,Ne,cn,Ve,Je);ot.pixelStorei(ot.UNPACK_ROW_LENGTH,Sn),ot.pixelStorei(ot.UNPACK_IMAGE_HEIGHT,Ye),ot.pixelStorei(ot.UNPACK_SKIP_PIXELS,Hn),ot.pixelStorei(ot.UNPACK_SKIP_ROWS,tr),ot.pixelStorei(ot.UNPACK_SKIP_IMAGES,Li),ge===0&&St.generateMipmaps&&ot.generateMipmap(Wn),At.unbindTexture()},this.initRenderTarget=function(nt){qt.get(nt).__webglFramebuffer===void 0&&te.setupRenderTarget(nt)},this.initTexture=function(nt){nt.isCubeTexture?te.setTextureCube(nt,0):nt.isData3DTexture?te.setTexture3D(nt,0):nt.isDataArrayTexture||nt.isCompressedArrayTexture?te.setTexture2DArray(nt,0):te.setTexture2D(nt,0),At.unbindTexture()},this.resetState=function(){I=0,q=0,Y=null,At.reset(),Et.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return No}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=qn._getDrawingBufferColorSpace(t),e.unpackColorSpace=qn._getUnpackColorSpace()}}const oW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:U1,AddEquation:Ph,AddOperation:qU,AdditiveAnimationBlendMode:GA,AdditiveBlending:Bh,AgXToneMapping:KU,AlphaFormat:kA,AlwaysCompare:fz,AlwaysDepth:ub,AlwaysStencilFunc:Mw,AmbientLight:aI,AnimationAction:pI,AnimationClip:Fy,AnimationLoader:_8,AnimationMixer:X8,AnimationObjectGroup:q8,AnimationUtils:m8,ArcCurve:Oz,ArrayCamera:fI,ArrowHelper:yV,AttachedBindMode:Sw,Audio:hI,AudioAnalyser:U8,AudioContext:gC,AudioListener:D8,AudioLoader:R8,AxesHelper:_V,BackSide:as,BasicDepthPacking:nz,BasicShadowMap:TU,BatchedMesh:Tz,Bone:$A,BooleanKeyframeTrack:Lp,Box2:nV,Box3:ss,Box3Helper:gV,BoxGeometry:Dp,BoxHelper:mV,BufferAttribute:wi,BufferGeometry:xn,BufferGeometryLoader:cI,ByteType:IA,Cache:dc,Camera:W1,CameraHelper:pV,CanvasTexture:tC,CapsuleGeometry:J1,CatmullRomCurve3:Pz,CineonToneMapping:YU,CircleGeometry:r0,ClampToEdgeWrapping:ga,Clock:fS,Color:Ee,ColorKeyframeTrack:dC,ColorManagement:qn,CompressedArrayTexture:I6,CompressedCubeTexture:B6,CompressedTexture:$1,CompressedTextureLoader:x8,ConeGeometry:s0,ConstantAlphaFactor:jU,ConstantColorFactor:HU,Controls:bV,CubeCamera:yz,CubeReflectionMapping:Mf,CubeRefractionMapping:Fh,CubeTexture:i0,CubeTextureLoader:b8,CubeUVReflectionMapping:Pg,CubicBezierCurve:rC,CubicBezierCurve3:Dz,CubicInterpolant:Qz,CullFaceBack:_w,CullFaceFront:EU,CullFaceFrontBack:Xk,CullFaceNone:MU,Curve:Mu,CurvePath:Nz,CustomBlending:wU,CustomToneMapping:ZU,CylinderGeometry:a0,Cylindrical:eV,Data3DTexture:q1,DataArrayTexture:G1,DataTexture:vc,DataTextureLoader:S8,DataUtils:l6,DecrementStencilOp:oj,DecrementWrapStencilOp:uj,DefaultLoadingManager:tI,DepthFormat:pg,DepthStencilFormat:mg,DepthTexture:eC,DetachedBindMode:$U,DirectionalLight:rI,DirectionalLightHelper:dV,DiscreteInterpolant:$z,DodecahedronGeometry:tS,DoubleSide:Tl,DstAlphaFactor:UU,DstColorFactor:IU,DynamicCopyUsage:Ej,DynamicDrawUsage:yj,DynamicReadUsage:bj,EdgesGeometry:Rz,EllipseCurve:eS,EqualCompare:oz,EqualDepth:fb,EqualStencilFunc:dj,EquirectangularReflectionMapping:Ey,EquirectangularRefractionMapping:Ty,Euler:Fo,EventDispatcher:bc,ExternalTexture:nC,ExtrudeGeometry:nS,FileLoader:wf,Float16BufferAttribute:m6,Float32BufferAttribute:ze,FloatType:$s,Fog:Y1,FogExp2:X1,FramebufferTexture:z6,FrontSide:Sf,Frustum:Dg,FrustumArray:Q1,GLBufferAttribute:$8,GLSL1:wj,GLSL3:Ew,GreaterCompare:lz,GreaterDepth:db,GreaterEqualCompare:cz,GreaterEqualDepth:hb,GreaterEqualStencilFunc:vj,GreaterStencilFunc:mj,GridHelper:fV,Group:ig,HalfFloatType:gc,HemisphereLight:eI,HemisphereLightHelper:cV,IcosahedronGeometry:o0,ImageBitmapLoader:C8,ImageLoader:Hy,ImageUtils:mz,IncrementStencilOp:sj,IncrementWrapStencilOp:lj,InstancedBufferAttribute:_g,InstancedBufferGeometry:uI,InstancedInterleavedBuffer:Q8,InstancedMesh:Ez,Int16BufferAttribute:d6,Int32BufferAttribute:p6,Int8BufferAttribute:c6,IntType:I1,InterleavedBuffer:Z1,InterleavedBufferAttribute:xp,Interpolant:c0,InterpolateDiscrete:Ay,InterpolateLinear:Vb,InterpolateSmooth:Qx,InterpolationSamplingMode:Rj,InterpolationSamplingType:Cj,InvertStencilOp:cj,KeepStencilOp:Zd,KeyframeTrack:Nl,LOD:Sz,LatheGeometry:iS,Layers:_p,LessCompare:sz,LessDepth:cb,LessEqualCompare:qA,LessEqualDepth:vp,LessEqualStencilFunc:pj,LessStencilFunc:hj,Light:Gh,LightProbe:lI,Line:Tf,Line3:aV,LineBasicMaterial:ls,LineCurve:aC,LineCurve3:Lz,LineDashedMaterial:Yz,LineLoop:wz,LineSegments:Sc,LinearFilter:cr,LinearInterpolant:hC,LinearMipMapLinearFilter:Qk,LinearMipMapNearestFilter:Kk,LinearMipmapLinearFilter:Qs,LinearMipmapNearestFilter:cy,LinearSRGBColorSpace:Hh,LinearToneMapping:WU,LinearTransfer:Ry,Loader:to,LoaderUtils:Rw,LoadingManager:pC,LoopOnce:JU,LoopPingPong:ez,LoopRepeat:tz,MOUSE:Xd,Material:os,MaterialLoader:cS,MathUtils:hz,Matrix2:xC,Matrix3:Cn,Matrix4:mn,MaxEquation:OU,Mesh:Dr,MeshBasicMaterial:Rl,MeshDepthMaterial:uC,MeshDistanceMaterial:cC,MeshLambertMaterial:Wz,MeshMatcapMaterial:Xz,MeshNormalMaterial:qz,MeshPhongMaterial:Vz,MeshPhysicalMaterial:jz,MeshStandardMaterial:uS,MeshToonMaterial:Gz,MinEquation:RU,MirroredRepeatWrapping:wy,MixOperation:GU,MultiplyBlending:bw,MultiplyOperation:e0,NearestFilter:Ia,NearestMipMapLinearFilter:Zk,NearestMipMapNearestFilter:Yk,NearestMipmapLinearFilter:eg,NearestMipmapNearestFilter:zA,NeutralToneMapping:QU,NeverCompare:az,NeverDepth:lb,NeverStencilFunc:fj,NoBlending:mc,NoColorSpace:cf,NoToneMapping:bu,NormalAnimationBlendMode:V1,NormalBlending:cp,NotEqualCompare:uz,NotEqualDepth:pb,NotEqualStencilFunc:gj,NumberKeyframeTrack:Iy,Object3D:Zn,ObjectLoader:w8,ObjectSpaceNormalMap:rz,OctahedronGeometry:l0,OneFactor:DU,OneMinusConstantAlphaFactor:VU,OneMinusConstantColorFactor:kU,OneMinusDstAlphaFactor:zU,OneMinusDstColorFactor:BU,OneMinusSrcAlphaFactor:ob,OneMinusSrcColorFactor:NU,OrthographicCamera:_f,PCFShadowMap:N1,PCFSoftShadowMap:uy,PMREMGenerator:Dw,Path:Xb,PerspectiveCamera:Pr,Plane:uf,PlaneGeometry:Lg,PlaneHelper:vV,PointLight:iI,PointLightHelper:lV,Points:Az,PointsMaterial:JA,PolarGridHelper:hV,PolyhedronGeometry:Vh,PositionalAudio:N8,PropertyBinding:$n,PropertyMixer:dI,QuadraticBezierCurve:sC,QuadraticBezierCurve3:oC,Quaternion:va,QuaternionKeyframeTrack:f0,QuaternionLinearInterpolant:Jz,RED_GREEN_RGTC2_Format:kb,RED_RGTC1_Format:Fb,REVISION:t0,RGBADepthPacking:iz,RGBAFormat:is,RGBAIntegerFormat:j1,RGBA_ASTC_10x10_Format:Lb,RGBA_ASTC_10x5_Format:Ob,RGBA_ASTC_10x6_Format:Pb,RGBA_ASTC_10x8_Format:Db,RGBA_ASTC_12x10_Format:Nb,RGBA_ASTC_12x12_Format:Ub,RGBA_ASTC_4x4_Format:Sb,RGBA_ASTC_5x4_Format:Mb,RGBA_ASTC_5x5_Format:Eb,RGBA_ASTC_6x5_Format:Tb,RGBA_ASTC_6x6_Format:wb,RGBA_ASTC_8x5_Format:Ab,RGBA_ASTC_8x6_Format:Cb,RGBA_ASTC_8x8_Format:Rb,RGBA_BPTC_Format:zb,RGBA_ETC2_EAC_Format:bb,RGBA_PVRTC_2BPPV1_Format:yb,RGBA_PVRTC_4BPPV1_Format:vb,RGBA_S3TC_DXT1_Format:hy,RGBA_S3TC_DXT3_Format:dy,RGBA_S3TC_DXT5_Format:py,RGBDepthPacking:nj,RGBFormat:jA,RGBIntegerFormat:$k,RGB_BPTC_SIGNED_Format:Ib,RGB_BPTC_UNSIGNED_Format:Bb,RGB_ETC1_Format:_b,RGB_ETC2_Format:xb,RGB_PVRTC_2BPPV1_Format:gb,RGB_PVRTC_4BPPV1_Format:mb,RGB_S3TC_DXT1_Format:fy,RGDepthPacking:ij,RGFormat:VA,RGIntegerFormat:k1,RawShaderMaterial:kz,Ray:Pp,Raycaster:mI,RectAreaLight:sI,RedFormat:H1,RedIntegerFormat:n0,ReinhardToneMapping:XU,RenderTarget:XA,RenderTarget3D:Y8,RepeatWrapping:yp,ReplaceStencilOp:aj,ReverseSubtractEquation:CU,RingGeometry:u0,SIGNED_RED_GREEN_RGTC2_Format:jb,SIGNED_RED_RGTC1_Format:Hb,SRGBColorSpace:za,SRGBTransfer:mi,Scene:KA,ShaderChunk:Ln,ShaderLib:vu,ShaderMaterial:xr,ShadowMaterial:Hz,Shape:hp,ShapeGeometry:rS,ShapePath:xV,ShapeUtils:xu,ShortType:BA,Skeleton:K1,SkeletonHelper:oV,SkinnedMesh:Mz,Source:Uh,Sphere:Fa,SphereGeometry:Ng,Spherical:Yb,SphericalHarmonics3:oI,SplineCurve:lC,SpotLight:nI,SpotLightHelper:sV,Sprite:bz,SpriteMaterial:QA,SrcAlphaFactor:sb,SrcAlphaSaturateFactor:FU,SrcColorFactor:LU,StaticCopyUsage:Mj,StaticDrawUsage:Oy,StaticReadUsage:xj,StereoCamera:O8,StreamCopyUsage:Tj,StreamDrawUsage:_j,StreamReadUsage:Sj,StringKeyframeTrack:Np,SubtractEquation:AU,SubtractiveBlending:xw,TOUCH:Yd,TangentSpaceNormalMap:jh,TetrahedronGeometry:aS,Texture:$i,TextureLoader:Ug,TextureUtils:wV,Timer:J8,TimestampQuery:Aj,TorusGeometry:sS,TorusKnotGeometry:oS,Triangle:Ks,TriangleFanDrawMode:ej,TriangleStripDrawMode:tj,TrianglesDrawMode:Jk,TubeGeometry:lS,UVMapping:z1,Uint16BufferAttribute:YA,Uint32BufferAttribute:ZA,Uint8BufferAttribute:f6,Uint8ClampedBufferAttribute:h6,Uniform:_C,UniformsGroup:K8,UniformsLib:Re,UniformsUtils:Ly,UnsignedByteType:Cl,UnsignedInt101111Type:HA,UnsignedInt248Type:dg,UnsignedInt5999Type:FA,UnsignedIntType:Ef,UnsignedShort4444Type:B1,UnsignedShort5551Type:F1,UnsignedShortType:hg,VSMShadowMap:gu,Vector2:Jt,Vector3:at,Vector4:Jn,VectorKeyframeTrack:By,VideoFrameTexture:U6,VideoTexture:Cz,WebGL3DRenderTarget:$j,WebGLArrayRenderTarget:Qj,WebGLCoordinateSystem:No,WebGLCubeRenderTarget:_z,WebGLRenderTarget:Ba,WebGLRenderer:MI,WebGLUtils:SI,WebGPUCoordinateSystem:gg,WebXRController:$x,WireframeGeometry:Fz,WrapAroundEnding:Cy,ZeroCurvatureEnding:np,ZeroFactor:PU,ZeroSlopeEnding:ip,ZeroStencilOp:rj,createCanvasElement:pz},Symbol.toStringTag,{value:"Module"}));var SE={exports:{}},lf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP;function lW(){return XP||(XP=1,lf.ConcurrentRoot=1,lf.ContinuousEventPriority=8,lf.DefaultEventPriority=32,lf.DiscreteEventPriority=2,lf.IdleEventPriority=268435456,lf.LegacyRoot=0,lf.NoEventPriority=0),lf}var YP;function uW(){return YP||(YP=1,SE.exports=lW()),SE.exports}var tb=uW(),ME={exports:{}},EE={},TE={exports:{}},wE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZP;function cW(){if(ZP)return wE;ZP=1;var n=Op();function t(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function l(v,_){var b=_(),M=i({inst:{value:b,getSnapshot:_}}),A=M[0].inst,T=M[1];return a(function(){A.value=b,A.getSnapshot=_,h(A)&&T({inst:A})},[v,b,_]),r(function(){return h(A)&&T({inst:A}),v(function(){h(A)&&T({inst:A})})},[v]),o(b),b}function h(v){var _=v.getSnapshot;v=v.value;try{var b=_();return!e(v,b)}catch{return!0}}function d(v,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return wE.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,wE}var KP;function fW(){return KP||(KP=1,TE.exports=cW()),TE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP;function hW(){if(QP)return EE;QP=1;var n=Op(),t=fW();function e(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var i=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=n.useRef,o=n.useEffect,l=n.useMemo,h=n.useDebugValue;return EE.useSyncExternalStoreWithSelector=function(d,g,v,_,b){var M=a(null);if(M.current===null){var A={hasValue:!1,value:null};M.current=A}else A=M.current;M=l(function(){function E(I){if(!O){if(O=!0,P=I,I=_(I),b!==void 0&&A.hasValue){var q=A.value;if(b(q,I))return z=q}return z=I}if(q=z,i(P,I))return q;var Y=_(I);return b!==void 0&&b(q,Y)?(P=I,q):(P=I,z=Y)}var O=!1,P,z,F=v===void 0?null:v;return[function(){return E(g())},F===null?void 0:function(){return E(F())}]},[g,v,_,b]);var T=r(d,M[0],M[1]);return o(function(){A.hasValue=!0,A.value=T},[T]),h(T),T},EE}var $P;function dW(){return $P||($P=1,ME.exports=hW()),ME.exports}var EI=dW();const pW=Ll(EI),JP=n=>{let t;const e=new Set,i=(d,g)=>{const v=typeof d=="function"?d(t):d;if(!Object.is(v,t)){const _=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(b=>b(t,_))}},r=()=>t,l={setState:i,getState:r,getInitialState:()=>h,subscribe:d=>(e.add(d),()=>e.delete(d))},h=t=n(i,r,l);return l},TI=(n=>n?JP(n):JP),{useSyncExternalStoreWithSelector:mW}=pW,gW=n=>n;function vW(n,t=gW,e){const i=mW(n.subscribe,n.getState,n.getInitialState,t,e);return mf.useDebugValue(i),i}const tD=(n,t)=>{const e=TI(n),i=(r,a=t)=>vW(e,r,a);return Object.assign(i,e),i},yW=((n,t)=>n?tD(n,t):tD),_W=n=>typeof n=="object"&&typeof n.then=="function",ap=[];function wI(n,t,e=(i,r)=>i===r){if(n===t)return!0;if(!n||!t)return!1;const i=n.length;if(t.length!==i)return!1;for(let r=0;r<i;r++)if(!e(n[r],t[r]))return!1;return!0}function AI(n,t=null,e=!1,i={}){t===null&&(t=[n]);for(const a of ap)if(wI(t,a.keys,a.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!e)throw a.promise}const r={keys:t,equal:i.equal,remove:()=>{const a=ap.indexOf(r);a!==-1&&ap.splice(a,1)},promise:(_W(n)?n:n(...t)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(ap.push(r),!e)throw r.promise}const xW=(n,t,e)=>AI(n,t,!1,e),bW=(n,t,e)=>void AI(n,t,!0,e),SW=n=>{if(n===void 0||n.length===0)ap.splice(0,ap.length);else{const t=ap.find(e=>wI(n,e.keys,e.equal));t&&t.remove()}};var AE={exports:{}},CE={exports:{}},RE={exports:{}},OE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function MW(){return eD||(eD=1,(function(n){function t(X,it){var tt=X.length;X.push(it);t:for(;0<tt;){var yt=tt-1>>>1,Q=X[yt];if(0<r(Q,it))X[yt]=it,X[tt]=Q,tt=yt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var it=X[0],tt=X.pop();if(tt!==it){X[0]=tt;t:for(var yt=0,Q=X.length,ut=Q>>>1;yt<ut;){var gt=2*(yt+1)-1,Lt=X[gt],Dt=gt+1,Zt=X[Dt];if(0>r(Lt,tt))Dt<Q&&0>r(Zt,Lt)?(X[yt]=Zt,X[Dt]=tt,yt=Dt):(X[yt]=Lt,X[gt]=tt,yt=gt);else if(Dt<Q&&0>r(Zt,tt))X[yt]=Zt,X[Dt]=tt,yt=Dt;else break t}}return it}function r(X,it){var tt=X.sortIndex-it.sortIndex;return tt!==0?tt:X.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var h=[],d=[],g=1,v=null,_=3,b=!1,M=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var it=e(d);it!==null;){if(it.callback===null)i(d);else if(it.startTime<=X)i(d),it.sortIndex=it.expirationTime,t(h,it);else break;it=e(d)}}function z(X){if(A=!1,P(X),!M)if(e(h)!==null)M=!0,dt();else{var it=e(d);it!==null&&vt(z,it.startTime-X)}}var F=!1,I=-1,q=5,Y=-1;function G(){return!(n.unstable_now()-Y<q)}function j(){if(F){var X=n.unstable_now();Y=X;var it=!0;try{t:{M=!1,A&&(A=!1,E(I),I=-1),b=!0;var tt=_;try{e:{for(P(X),v=e(h);v!==null&&!(v.expirationTime>X&&G());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,_=v.priorityLevel;var Q=yt(v.expirationTime<=X);if(X=n.unstable_now(),typeof Q=="function"){v.callback=Q,P(X),it=!0;break e}v===e(h)&&i(h),P(X)}else i(h);v=e(h)}if(v!==null)it=!0;else{var ut=e(d);ut!==null&&vt(z,ut.startTime-X),it=!1}}break t}finally{v=null,_=tt,b=!1}it=void 0}}finally{it?K():F=!1}}}var K;if(typeof O=="function")K=function(){O(j)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,lt=st.port2;st.port1.onmessage=j,K=function(){lt.postMessage(null)}}else K=function(){T(j,0)};function dt(){F||(F=!0,K())}function vt(X,it){I=T(function(){X(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){M||b||(M=!0,dt())},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var it=3;break;default:it=_}var tt=_;_=it;try{return X()}finally{_=tt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,it){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var tt=_;_=X;try{return it()}finally{_=tt}},n.unstable_scheduleCallback=function(X,it,tt){var yt=n.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?yt+tt:yt):tt=yt,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=tt+Q,X={id:g++,callback:it,priorityLevel:X,startTime:tt,expirationTime:Q,sortIndex:-1},tt>yt?(X.sortIndex=tt,t(d,X),e(h)===null&&X===e(d)&&(A?(E(I),I=-1):A=!0,vt(z,tt-yt))):(X.sortIndex=Q,t(h,X),M||b||(M=!0,dt())),X},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(X){var it=_;return function(){var tt=_;_=it;try{return X.apply(this,arguments)}finally{_=tt}}}})(OE)),OE}var nD;function EW(){return nD||(nD=1,RE.exports=MW()),RE.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function TW(){return iD||(iD=1,(function(n){n.exports=function(t){function e(f,p,S,R){return new Uc(f,p,S,R)}function i(){}function r(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return f===null||typeof f!="object"?null:(f=tu&&f[tu]||f["@@iterator"],typeof f=="function"?f:null)}function o(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===$g?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case qu:return"Fragment";case Is:return"Portal";case $p:return"Profiler";case pd:return"StrictMode";case Jp:return"Suspense";case Zf:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case vo:return(f.displayName||"Context")+".Provider";case Kg:return(f._context.displayName||"Context")+".Consumer";case gd:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case tm:return p=f.displayName||null,p!==null?p:o(f.type)||"Memo";case Bs:p=f._payload,f=f._init;try{return o(f(p))}catch{}}return null}function l(f){if(al===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);al=p&&p[1]||"",eu=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+al+f+eu}function h(f,p){if(!f||zc)return"";zc=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(p){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(_n){var Ue=_n}Reflect.construct(f,[],Ce)}else{try{Ce.call()}catch(_n){Ue=_n}f.call(Ce.prototype)}}else{try{throw Error()}catch(_n){Ue=_n}(Ce=f())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(_n){if(_n&&Ue&&typeof _n.stack=="string")return[_n.stack,Ue.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=R.DetermineComponentFrameRoot(),rt=B[0],mt=B[1];if(rt&&mt){var Rt=rt.split(`
`),ee=mt.split(`
`);for(N=R=0;R<Rt.length&&!Rt[R].includes("DetermineComponentFrameRoot");)R++;for(;N<ee.length&&!ee[N].includes("DetermineComponentFrameRoot");)N++;if(R===Rt.length||N===ee.length)for(R=Rt.length-1,N=ee.length-1;1<=R&&0<=N&&Rt[R]!==ee[N];)N--;for(;1<=R&&0<=N;R--,N--)if(Rt[R]!==ee[N]){if(R!==1||N!==1)do if(R--,N--,0>N||Rt[R]!==ee[N]){var be=`
`+Rt[R].replace(" at new "," at ");return f.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",f.displayName)),be}while(1<=R&&0<=N);break}}}finally{zc=!1,Error.prepareStackTrace=S}return(S=f?f.displayName||f.name:"")?l(S):""}function d(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=h(f.type,!1),f;case 11:return f=h(f.type.render,!1),f;case 1:return f=h(f.type,!0),f;default:return""}}function g(f){try{var p="";do p+=d(f),f=f.return;while(f);return p}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function v(f){var p=f,S=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(S=p.return),f=p.return;while(f)}return p.tag===3?S:null}function _(f){if(v(f)!==f)throw Error(r(188))}function b(f){var p=f.alternate;if(!p){if(p=v(f),p===null)throw Error(r(188));return p!==f?null:f}for(var S=f,R=p;;){var N=S.return;if(N===null)break;var B=N.alternate;if(B===null){if(R=N.return,R!==null){S=R;continue}break}if(N.child===B.child){for(B=N.child;B;){if(B===S)return _(N),f;if(B===R)return _(N),p;B=B.sibling}throw Error(r(188))}if(S.return!==R.return)S=N,R=B;else{for(var rt=!1,mt=N.child;mt;){if(mt===S){rt=!0,S=N,R=B;break}if(mt===R){rt=!0,R=N,S=B;break}mt=mt.sibling}if(!rt){for(mt=B.child;mt;){if(mt===S){rt=!0,S=B,R=N;break}if(mt===R){rt=!0,R=B,S=N;break}mt=mt.sibling}if(!rt)throw Error(r(189))}}if(S.alternate!==R)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?f:p}function M(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=M(f),p!==null)return p;f=f.sibling}return null}function A(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(p=A(f),p!==null))return p;f=f.sibling}return null}function T(f){return{current:f}}function E(f){0>au||(f.current=sr[au],sr[au]=null,au--)}function O(f,p){au++,sr[au]=f.current,f.current=p}function P(f){return f>>>=0,f===0?32:31-(m_(f)/g_|0)|0}function z(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function F(f,p){var S=f.pendingLanes;if(S===0)return 0;var R=0,N=f.suspendedLanes,B=f.pingedLanes,rt=f.warmLanes;f=f.finishedLanes!==0;var mt=S&134217727;return mt!==0?(S=mt&~N,S!==0?R=z(S):(B&=mt,B!==0?R=z(B):f||(rt=mt&~rt,rt!==0&&(R=z(rt))))):(mt=S&~N,mt!==0?R=z(mt):B!==0?R=z(B):f||(rt=S&~rt,rt!==0&&(R=z(rt)))),R===0?0:p!==0&&p!==R&&(p&N)===0&&(N=R&-R,rt=p&-p,N>=rt||N===32&&(rt&4194176)!==0)?p:R}function I(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function q(f,p){switch(f){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var f=ol;return ol<<=1,(ol&4194176)===0&&(ol=128),f}function G(){var f=Fc;return Fc<<=1,(Fc&62914560)===0&&(Fc=4194304),f}function j(f){for(var p=[],S=0;31>S;S++)p.push(f);return p}function K(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function st(f,p,S,R,N,B){var rt=f.pendingLanes;f.pendingLanes=S,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=S,f.entangledLanes&=S,f.errorRecoveryDisabledLanes&=S,f.shellSuspendCounter=0;var mt=f.entanglements,Rt=f.expirationTimes,ee=f.hiddenUpdates;for(S=rt&~S;0<S;){var be=31-Oa(S),Ce=1<<be;mt[be]=0,Rt[be]=-1;var Ue=ee[be];if(Ue!==null)for(ee[be]=null,be=0;be<Ue.length;be++){var _n=Ue[be];_n!==null&&(_n.lane&=-536870913)}S&=~Ce}R!==0&&lt(f,R,0),B!==0&&N===0&&f.tag!==0&&(f.suspendedLanes|=B&~(rt&~p))}function lt(f,p,S){f.pendingLanes|=p,f.suspendedLanes&=~p;var R=31-Oa(p);f.entangledLanes|=p,f.entanglements[R]=f.entanglements[R]|1073741824|S&4194218}function dt(f,p){var S=f.entangledLanes|=p;for(f=f.entanglements;S;){var R=31-Oa(S),N=1<<R;N&p|f[R]&p&&(f[R]|=p),S&=~N}}function vt(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function X(f){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(or,f,void 0,(f.current.flags&128)===128)}catch{}}function it(f){if(typeof __=="function"&&Ir(f),Ya&&typeof Ya.setStrictMode=="function")try{Ya.setStrictMode(or,f)}catch{}}function tt(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}function yt(f,p){if(typeof f=="object"&&f!==null){var S=vv.get(f);return S!==void 0?S:(p={value:f,source:p,stack:g(p)},vv.set(f,p),p)}return{value:f,source:p,stack:g(p)}}function Q(f,p){Hc[kc++]=rh,Hc[kc++]=jc,jc=f,rh=p}function ut(f,p,S){gs[vs++]=xo,gs[vs++]=bo,gs[vs++]=$u,$u=f;var R=xo;f=bo;var N=32-Oa(R)-1;R&=~(1<<N),S+=1;var B=32-Oa(p)+N;if(30<B){var rt=N-N%5;B=(R&(1<<rt)-1).toString(32),R>>=rt,N-=rt,xo=1<<32-Oa(p)+N|S<<N|R,bo=B+f}else xo=1<<B|S<<N|R,bo=f}function gt(f){f.return!==null&&(Q(f,1),ut(f,1,0))}function Lt(f){for(;f===jc;)jc=Hc[--kc],Hc[kc]=null,rh=Hc[--kc],Hc[kc]=null;for(;f===$u;)$u=gs[--vs],gs[vs]=null,bo=gs[--vs],gs[vs]=null,xo=gs[--vs],gs[vs]=null}function Dt(f,p){O(ll,p),O(ah,f),O(wr,null),f=N0(p),E(wr),O(wr,f)}function Zt(){E(wr),E(ah),E(ll)}function _t(f){f.memoizedState!==null&&O(Vc,f);var p=wr.current,S=Jf(p,f.type);p!==S&&(O(ah,f),O(wr,S))}function Qt(f){ah.current===f&&(E(wr),E(ah)),Vc.current===f&&(E(Vc),Ca?yo._currentValue=Xu:yo._currentValue2=Xu)}function ae(f){var p=Error(r(418,""));throw ot(yt(p,f)),Td}function Xt(f,p){if(!Gr)throw Error(r(175));a_(f.stateNode,f.type,f.memoizedProps,p,f)||ae(f)}function le(f){for(qr=f.return;qr;)switch(qr.tag){case 3:case 27:Br=!0;return;case 5:case 13:Br=!1;return;default:qr=qr.return}}function pe(f){if(!Gr||f!==qr)return!1;if(!kn)return le(f),kn=!0,!1;var p=!1;if(fi?f.tag!==3&&f.tag!==27&&(f.tag!==5||um(f.type)&&!En(f.type,f.memoizedProps))&&(p=!0):f.tag!==3&&(f.tag!==5||um(f.type)&&!En(f.type,f.memoizedProps))&&(p=!0),p&&Wr&&ae(f),le(f),f.tag===13){if(!Gr)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Wr=o_(f)}else Wr=qr?dv(f.stateNode):null;return!0}function jt(){Gr&&(Wr=qr=null,kn=!1)}function ot(f){ks===null?ks=[f]:ks.push(f)}function Ht(){for(var f=Gc,p=So=Gc=0;p<f;){var S=js[p];js[p++]=null;var R=js[p];js[p++]=null;var N=js[p];js[p++]=null;var B=js[p];if(js[p++]=null,R!==null&&N!==null){var rt=R.pending;rt===null?N.next=N:(N.next=rt.next,rt.next=N),R.pending=N}B!==0&&me(S,N,B)}}function Gt(f,p,S,R){js[Gc++]=f,js[Gc++]=p,js[Gc++]=S,js[Gc++]=R,So|=R,f.lanes|=R,f=f.alternate,f!==null&&(f.lanes|=R)}function Yt(f,p,S,R){return Gt(f,p,S,R),qt(f)}function At(f,p){return Gt(f,null,null,p),qt(f)}function me(f,p,S){f.lanes|=S;var R=f.alternate;R!==null&&(R.lanes|=S);for(var N=!1,B=f.return;B!==null;)B.childLanes|=S,R=B.alternate,R!==null&&(R.childLanes|=S),B.tag===22&&(f=B.stateNode,f===null||f._visibility&1||(N=!0)),f=B,B=B.return;N&&p!==null&&f.tag===3&&(B=f.stateNode,N=31-Oa(S),B=B.hiddenUpdates,f=B[N],f===null?B[N]=[p]:f.push(p),p.lane=S|536870912)}function qt(f){if(50<ph)throw ph=0,Em=null,Error(r(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}function te(f){f!==su&&f.next===null&&(su===null?wd=su=f:su=su.next=f),xi=!0,qc||(qc=!0,Nt(He))}function Le(f,p){if(!yv&&xi){yv=!0;do for(var S=!1,R=wd;R!==null;){if(f!==0){var N=R.pendingLanes;if(N===0)var B=0;else{var rt=R.suspendedLanes,mt=R.pingedLanes;B=(1<<31-Oa(42|f)+1)-1,B&=N&~(rt&~mt),B=B&201326677?B&201326677|1:B?B|2:0}B!==0&&(S=!0,Mt(R,B))}else B=In,B=F(R,R===ei?B:0),(B&3)===0||I(R,B)||(S=!0,Mt(R,B));R=R.next}while(S);yv=!1}}function He(){xi=qc=!1;var f=0;sh!==0&&(B0()&&(f=sh),sh=0);for(var p=Hs(),S=null,R=wd;R!==null;){var N=R.next,B=$(R,p);B===0?(R.next=null,S===null?wd=N:S.next=N,N===null&&(su=S)):(S=R,(f!==0||(B&3)!==0)&&(xi=!0)),R=N}Le(f)}function $(f,p){for(var S=f.suspendedLanes,R=f.pingedLanes,N=f.expirationTimes,B=f.pendingLanes&-62914561;0<B;){var rt=31-Oa(B),mt=1<<rt,Rt=N[rt];Rt===-1?((mt&S)===0||(mt&R)!==0)&&(N[rt]=q(mt,p)):Rt<=p&&(f.expiredLanes|=mt),B&=~mt}if(p=ei,S=In,S=F(f,f===p?S:0),R=f.callbackNode,S===0||f===p&&li===2||f.cancelPendingCommit!==null)return R!==null&&R!==null&&dm(R),f.callbackNode=null,f.callbackPriority=0;if((S&3)===0||I(f,S)){if(p=S&-S,p===f.callbackPriority)return p;switch(R!==null&&dm(R),vt(S)){case 2:case 8:S=y_;break;case 32:S=gm;break;case 268435456:S=eM;break;default:S=gm}return R=Z.bind(null,f),S=Ed(S,R),f.callbackPriority=p,f.callbackNode=S,p}return R!==null&&R!==null&&dm(R),f.callbackPriority=2,f.callbackNode=null,2}function Z(f,p){var S=f.callbackNode;if(hs()&&f.callbackNode!==S)return null;var R=In;return R=F(f,f===ei?R:0),R===0?null:(po(f,R,p),$(f,Hs()),f.callbackNode!=null&&f.callbackNode===S?Z.bind(null,f):null)}function Mt(f,p){if(hs())return null;po(f,p,!0)}function Nt(f){iv?ru(function(){(Gn&6)!==0?Ed(mm,f):f()}):Ed(mm,f)}function $t(){return sh===0&&(sh=Y()),sh}function It(f,p){if(oh===null){var S=oh=[];Wc=0,ys=$t(),Xc={status:"pending",value:void 0,then:function(R){S.push(R)}}}return Wc++,p.then(Me,Me),p}function Me(){if(--Wc===0&&oh!==null){Xc!==null&&(Xc.status="fulfilled");var f=oh;oh=null,ys=0,Xc=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function ve(f,p){var S=[],R={status:"pending",value:null,reason:null,then:function(N){S.push(N)}};return f.then(function(){R.status="fulfilled",R.value=p;for(var N=0;N<S.length;N++)(0,S[N])(p)},function(N){for(R.status="rejected",R.reason=N,N=0;N<S.length;N++)(0,S[N])(void 0)}),R}function Oe(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pe(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function oe(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ye(f,p,S){var R=f.updateQueue;if(R===null)return null;if(R=R.shared,(Gn&2)!==0){var N=R.pending;return N===null?p.next=p:(p.next=N.next,N.next=p),R.pending=p,p=qt(f),me(f,null,S),p}return Gt(f,R,p,S),qt(f)}function De(f,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194176)!==0)){var R=p.lanes;R&=f.pendingLanes,S|=R,p.lanes=S,dt(f,S)}}function ct(f,p){var S=f.updateQueue,R=f.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var N=null,B=null;if(S=S.firstBaseUpdate,S!==null){do{var rt={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};B===null?N=B=rt:B=B.next=rt,S=S.next}while(S!==null);B===null?N=B=p:B=B.next=p}else N=B=p;S={baseState:R.baseState,firstBaseUpdate:N,lastBaseUpdate:B,shared:R.shared,callbacks:R.callbacks},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=p:f.next=p,S.lastBaseUpdate=p}function Et(){if(Yc){var f=Xc;if(f!==null)throw f}}function fe(f,p,S,R){Yc=!1;var N=f.updateQueue;ou=!1;var B=N.firstBaseUpdate,rt=N.lastBaseUpdate,mt=N.shared.pending;if(mt!==null){N.shared.pending=null;var Rt=mt,ee=Rt.next;Rt.next=null,rt===null?B=ee:rt.next=ee,rt=Rt;var be=f.alternate;be!==null&&(be=be.updateQueue,mt=be.lastBaseUpdate,mt!==rt&&(mt===null?be.firstBaseUpdate=ee:mt.next=ee,be.lastBaseUpdate=Rt))}if(B!==null){var Ce=N.baseState;rt=0,be=ee=Rt=null,mt=B;do{var Ue=mt.lane&-536870913,_n=Ue!==mt.lane;if(_n?(In&Ue)===Ue:(R&Ue)===Ue){Ue!==0&&Ue===ys&&(Yc=!0),be!==null&&(be=be.next={lane:0,tag:mt.tag,payload:mt.payload,callback:null,next:null});t:{var ws=f,oc=mt;Ue=p;var lc=S;switch(oc.tag){case 1:if(ws=oc.payload,typeof ws=="function"){Ce=ws.call(lc,Ce,Ue);break t}Ce=ws;break t;case 3:ws.flags=ws.flags&-65537|128;case 0:if(ws=oc.payload,Ue=typeof ws=="function"?ws.call(lc,Ce,Ue):ws,Ue==null)break t;Ce=Qp({},Ce,Ue);break t;case 2:ou=!0}}Ue=mt.callback,Ue!==null&&(f.flags|=64,_n&&(f.flags|=8192),_n=N.callbacks,_n===null?N.callbacks=[Ue]:_n.push(Ue))}else _n={lane:Ue,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null},be===null?(ee=be=_n,Rt=Ce):be=be.next=_n,rt|=Ue;if(mt=mt.next,mt===null){if(mt=N.shared.pending,mt===null)break;_n=mt,mt=_n.next,_n.next=null,N.lastBaseUpdate=_n,N.shared.pending=null}}while(!0);be===null&&(Rt=Ce),N.baseState=Rt,N.firstBaseUpdate=ee,N.lastBaseUpdate=be,B===null&&(N.shared.lanes=0),Es|=rt,f.lanes=rt,f.memoizedState=Ce}}function pt(f,p){if(typeof f!="function")throw Error(r(191,f));f.call(p)}function ie(f,p){var S=f.callbacks;if(S!==null)for(f.callbacks=null,f=0;f<S.length;f++)pt(S[f],p)}function he(f,p){if(Za(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var S=Object.keys(f),R=Object.keys(p);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var N=S[R];if(!ul.call(p,N)||!Za(f[N],p[N]))return!1}return!0}function _e(f){return f=f.status,f==="fulfilled"||f==="rejected"}function de(){}function re(f,p,S){switch(S=f[S],S===void 0?f.push(p):S!==p&&(p.then(de,de),p=S),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,f===lh?Error(r(483)):f;default:if(typeof p.status=="string")p.then(de,de);else{if(f=ei,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=p,f.status="pending",f.then(function(R){if(p.status==="pending"){var N=p;N.status="fulfilled",N.value=R}},function(R){if(p.status==="pending"){var N=p;N.status="rejected",N.reason=R}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,f===lh?Error(r(483)):f}throw Ju=p,lh}}function we(){if(Ju===null)throw Error(r(459));var f=Ju;return Ju=null,f}function ke(f){var p=ec;return ec+=1,tc===null&&(tc=[]),re(tc,f,p)}function bn(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function gn(f,p){throw p.$$typeof===YS?Error(r(525)):(f=Object.prototype.toString.call(p),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function Fi(f){var p=f._init;return p(f._payload)}function ci(f){function p(zt,xt){if(f){var Wt=zt.deletions;Wt===null?(zt.deletions=[xt],zt.flags|=16):Wt.push(xt)}}function S(zt,xt){if(!f)return null;for(;xt!==null;)p(zt,xt),xt=xt.sibling;return null}function R(zt){for(var xt=new Map;zt!==null;)zt.key!==null?xt.set(zt.key,zt):xt.set(zt.index,zt),zt=zt.sibling;return xt}function N(zt,xt){return zt=Xa(zt,xt),zt.index=0,zt.sibling=null,zt}function B(zt,xt,Wt){return zt.index=Wt,f?(Wt=zt.alternate,Wt!==null?(Wt=Wt.index,Wt<xt?(zt.flags|=33554434,xt):Wt):(zt.flags|=33554434,xt)):(zt.flags|=1048576,xt)}function rt(zt){return f&&zt.alternate===null&&(zt.flags|=33554434),zt}function mt(zt,xt,Wt,xe){return xt===null||xt.tag!==6?(xt=Zp(Wt,zt.mode,xe),xt.return=zt,xt):(xt=N(xt,Wt),xt.return=zt,xt)}function Rt(zt,xt,Wt,xe){var Ke=Wt.type;return Ke===qu?be(zt,xt,Wt.props.children,xe,Wt.key):xt!==null&&(xt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Bs&&Fi(Ke)===xt.type)?(xt=N(xt,Wt.props),bn(xt,Wt),xt.return=zt,xt):(xt=rl(Wt.type,Wt.key,Wt.props,null,zt.mode,xe),bn(xt,Wt),xt.return=zt,xt)}function ee(zt,xt,Wt,xe){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==Wt.containerInfo||xt.stateNode.implementation!==Wt.implementation?(xt=Zg(Wt,zt.mode,xe),xt.return=zt,xt):(xt=N(xt,Wt.children||[]),xt.return=zt,xt)}function be(zt,xt,Wt,xe,Ke){return xt===null||xt.tag!==7?(xt=Gi(Wt,zt.mode,xe,Ke),xt.return=zt,xt):(xt=N(xt,Wt),xt.return=zt,xt)}function Ce(zt,xt,Wt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return xt=Zp(""+xt,zt.mode,Wt),xt.return=zt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case dd:return Wt=rl(xt.type,xt.key,xt.props,null,zt.mode,Wt),bn(Wt,xt),Wt.return=zt,Wt;case Is:return xt=Zg(xt,zt.mode,Wt),xt.return=zt,xt;case Bs:var xe=xt._init;return xt=xe(xt._payload),Ce(zt,xt,Wt)}if(Kf(xt)||a(xt))return xt=Gi(xt,zt.mode,Wt,null),xt.return=zt,xt;if(typeof xt.then=="function")return Ce(zt,ke(xt),Wt);if(xt.$$typeof===vo)return Ce(zt,Gl(zt,xt),Wt);gn(zt,xt)}return null}function Ue(zt,xt,Wt,xe){var Ke=xt!==null?xt.key:null;if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number"||typeof Wt=="bigint")return Ke!==null?null:mt(zt,xt,""+Wt,xe);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case dd:return Wt.key===Ke?Rt(zt,xt,Wt,xe):null;case Is:return Wt.key===Ke?ee(zt,xt,Wt,xe):null;case Bs:return Ke=Wt._init,Wt=Ke(Wt._payload),Ue(zt,xt,Wt,xe)}if(Kf(Wt)||a(Wt))return Ke!==null?null:be(zt,xt,Wt,xe,null);if(typeof Wt.then=="function")return Ue(zt,xt,ke(Wt),xe);if(Wt.$$typeof===vo)return Ue(zt,xt,Gl(zt,Wt),xe);gn(zt,Wt)}return null}function _n(zt,xt,Wt,xe,Ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return zt=zt.get(Wt)||null,mt(xt,zt,""+xe,Ke);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case dd:return zt=zt.get(xe.key===null?Wt:xe.key)||null,Rt(xt,zt,xe,Ke);case Is:return zt=zt.get(xe.key===null?Wt:xe.key)||null,ee(xt,zt,xe,Ke);case Bs:var Oi=xe._init;return xe=Oi(xe._payload),_n(zt,xt,Wt,xe,Ke)}if(Kf(xe)||a(xe))return zt=zt.get(Wt)||null,be(xt,zt,xe,Ke,null);if(typeof xe.then=="function")return _n(zt,xt,Wt,ke(xe),Ke);if(xe.$$typeof===vo)return _n(zt,xt,Wt,Gl(xt,xe),Ke);gn(xt,xe)}return null}function ws(zt,xt,Wt,xe){for(var Ke=null,Oi=null,hn=xt,Yn=xt=0,lr=null;hn!==null&&Yn<Wt.length;Yn++){hn.index>Yn?(lr=hn,hn=null):lr=hn.sibling;var zn=Ue(zt,hn,Wt[Yn],xe);if(zn===null){hn===null&&(hn=lr);break}f&&hn&&zn.alternate===null&&p(zt,hn),xt=B(zn,xt,Yn),Oi===null?Ke=zn:Oi.sibling=zn,Oi=zn,hn=lr}if(Yn===Wt.length)return S(zt,hn),kn&&Q(zt,Yn),Ke;if(hn===null){for(;Yn<Wt.length;Yn++)hn=Ce(zt,Wt[Yn],xe),hn!==null&&(xt=B(hn,xt,Yn),Oi===null?Ke=hn:Oi.sibling=hn,Oi=hn);return kn&&Q(zt,Yn),Ke}for(hn=R(hn);Yn<Wt.length;Yn++)lr=_n(hn,zt,Yn,Wt[Yn],xe),lr!==null&&(f&&lr.alternate!==null&&hn.delete(lr.key===null?Yn:lr.key),xt=B(lr,xt,Yn),Oi===null?Ke=lr:Oi.sibling=lr,Oi=lr);return f&&hn.forEach(function(vl){return p(zt,vl)}),kn&&Q(zt,Yn),Ke}function oc(zt,xt,Wt,xe){if(Wt==null)throw Error(r(151));for(var Ke=null,Oi=null,hn=xt,Yn=xt=0,lr=null,zn=Wt.next();hn!==null&&!zn.done;Yn++,zn=Wt.next()){hn.index>Yn?(lr=hn,hn=null):lr=hn.sibling;var vl=Ue(zt,hn,zn.value,xe);if(vl===null){hn===null&&(hn=lr);break}f&&hn&&vl.alternate===null&&p(zt,hn),xt=B(vl,xt,Yn),Oi===null?Ke=vl:Oi.sibling=vl,Oi=vl,hn=lr}if(zn.done)return S(zt,hn),kn&&Q(zt,Yn),Ke;if(hn===null){for(;!zn.done;Yn++,zn=Wt.next())zn=Ce(zt,zn.value,xe),zn!==null&&(xt=B(zn,xt,Yn),Oi===null?Ke=zn:Oi.sibling=zn,Oi=zn);return kn&&Q(zt,Yn),Ke}for(hn=R(hn);!zn.done;Yn++,zn=Wt.next())zn=_n(hn,zt,Yn,zn.value,xe),zn!==null&&(f&&zn.alternate!==null&&hn.delete(zn.key===null?Yn:zn.key),xt=B(zn,xt,Yn),Oi===null?Ke=zn:Oi.sibling=zn,Oi=zn);return f&&hn.forEach(function(Tm){return p(zt,Tm)}),kn&&Q(zt,Yn),Ke}function lc(zt,xt,Wt,xe){if(typeof Wt=="object"&&Wt!==null&&Wt.type===qu&&Wt.key===null&&(Wt=Wt.props.children),typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case dd:t:{for(var Ke=Wt.key;xt!==null;){if(xt.key===Ke){if(Ke=Wt.type,Ke===qu){if(xt.tag===7){S(zt,xt.sibling),xe=N(xt,Wt.props.children),xe.return=zt,zt=xe;break t}}else if(xt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Bs&&Fi(Ke)===xt.type){S(zt,xt.sibling),xe=N(xt,Wt.props),bn(xe,Wt),xe.return=zt,zt=xe;break t}S(zt,xt);break}else p(zt,xt);xt=xt.sibling}Wt.type===qu?(xe=Gi(Wt.props.children,zt.mode,xe,Wt.key),xe.return=zt,zt=xe):(xe=rl(Wt.type,Wt.key,Wt.props,null,zt.mode,xe),bn(xe,Wt),xe.return=zt,zt=xe)}return rt(zt);case Is:t:{for(Ke=Wt.key;xt!==null;){if(xt.key===Ke)if(xt.tag===4&&xt.stateNode.containerInfo===Wt.containerInfo&&xt.stateNode.implementation===Wt.implementation){S(zt,xt.sibling),xe=N(xt,Wt.children||[]),xe.return=zt,zt=xe;break t}else{S(zt,xt);break}else p(zt,xt);xt=xt.sibling}xe=Zg(Wt,zt.mode,xe),xe.return=zt,zt=xe}return rt(zt);case Bs:return Ke=Wt._init,Wt=Ke(Wt._payload),lc(zt,xt,Wt,xe)}if(Kf(Wt))return ws(zt,xt,Wt,xe);if(a(Wt)){if(Ke=a(Wt),typeof Ke!="function")throw Error(r(150));return Wt=Ke.call(Wt),oc(zt,xt,Wt,xe)}if(typeof Wt.then=="function")return lc(zt,xt,ke(Wt),xe);if(Wt.$$typeof===vo)return lc(zt,xt,Gl(zt,Wt),xe);gn(zt,Wt)}return typeof Wt=="string"&&Wt!==""||typeof Wt=="number"||typeof Wt=="bigint"?(Wt=""+Wt,xt!==null&&xt.tag===6?(S(zt,xt.sibling),xe=N(xt,Wt),xe.return=zt,zt=xe):(S(zt,xt),xe=Zp(Wt,zt.mode,xe),xe.return=zt,zt=xe),rt(zt)):S(zt,xt)}return function(zt,xt,Wt,xe){try{ec=0;var Ke=lc(zt,xt,Wt,xe);return tc=null,Ke}catch(hn){if(hn===lh)throw hn;var Oi=e(29,hn,null,zt.mode);return Oi.lanes=xe,Oi.return=zt,Oi}finally{}}}function Hi(f,p){f=ha,O(uh,f),O(bi,p),ha=f|p.baseLanes}function vi(){O(uh,ha),O(bi,bi.current)}function Ha(){ha=uh.current,E(bi),E(uh)}function Di(f){var p=f.alternate;O(Ar,Ar.current&1),O(_s,f),hi===null&&(p===null||bi.current!==null||p.memoizedState!==null)&&(hi=f)}function je(f){if(f.tag===22){if(O(Ar,Ar.current),O(_s,f),hi===null){var p=f.alternate;p!==null&&p.memoizedState!==null&&(hi=f)}}else Jr()}function Jr(){O(Ar,Ar.current),O(_s,_s.current)}function ta(f){E(_s),hi===f&&(hi=null),E(Ar)}function ea(f){for(var p=f;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||sm(S)||om(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function ri(){throw Error(r(321))}function ba(f,p){if(p===null)return!1;for(var S=0;S<p.length&&S<f.length;S++)if(!Za(f[S],p[S]))return!1;return!0}function us(f,p,S,R,N,B){return lu=B,Rn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,fn.H=f===null||f.memoizedState===null?rc:Pa,ic=!1,B=S(R,N),ic=!1,Zc&&(B=Ds(p,S,R,N)),Sa(f),B}function Sa(f){fn.H=qi;var p=en!==null&&en.next!==null;if(lu=0,Vn=en=Rn=null,Vs=!1,Kc=0,Fr=null,p)throw Error(r(300));f===null||di||(f=f.dependencies,f!==null&&Uu(f)&&(di=!0))}function Ds(f,p,S,R){Rn=f;var N=0;do{if(Zc&&(Fr=null),Kc=0,Zc=!1,25<=N)throw Error(r(301));if(N+=1,Vn=en=null,f.updateQueue!=null){var B=f.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}fn.H=xs,B=p(S,R)}while(Zc);return B}function ki(){var f=fn.H,p=f.useState()[0];return p=typeof p.then=="function"?Bt(p):p,f=f.useState()[0],(en!==null?en.memoizedState:null)!==f&&(Rn.flags|=1024),p}function Tu(){var f=vm!==0;return vm=0,f}function wu(f,p,S){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~S}function nt(f){if(Vs){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Vs=!1}lu=0,Vn=en=Rn=null,Zc=!1,Kc=vm=0,Fr=null}function St(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?Rn.memoizedState=Vn=f:Vn=Vn.next=f,Vn}function Ot(){if(en===null){var f=Rn.alternate;f=f!==null?f.memoizedState:null}else f=en.next;var p=Vn===null?Rn.memoizedState:Vn.next;if(p!==null)Vn=p,en=f;else{if(f===null)throw Rn.alternate===null?Error(r(467)):Error(r(310));en=f,f={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Vn===null?Rn.memoizedState=Vn=f:Vn=Vn.next=f}return Vn}function Bt(f){var p=Kc;return Kc+=1,Fr===null&&(Fr=[]),f=re(Fr,f,p),p=Rn,(Vn===null?p.memoizedState:Vn.next)===null&&(p=p.alternate,fn.H=p===null||p.memoizedState===null?rc:Pa),f}function Tt(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Bt(f);if(f.$$typeof===vo)return nr(f)}throw Error(r(438,String(f)))}function ge(f){var p=null,S=Rn.updateQueue;if(S!==null&&(p=S.memoCache),p==null){var R=Rn.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(p={data:R.data.map(function(N){return N.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),S===null&&(S=ym(),Rn.updateQueue=S),S.memoCache=p,S=p.data[p.index],S===void 0)for(S=p.data[p.index]=Array(f),R=0;R<f;R++)S[R]=L0;return p.index++,S}function Se(f,p){return typeof p=="function"?p(f):p}function Ne(f){var p=Ot();return Te(p,en,f)}function Te(f,p,S){var R=f.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=S;var N=f.baseQueue,B=R.pending;if(B!==null){if(N!==null){var rt=N.next;N.next=B.next,B.next=rt}p.baseQueue=N=B,R.pending=null}if(B=f.baseState,N===null)f.memoizedState=B;else{p=N.next;var mt=rt=null,Rt=null,ee=p,be=!1;do{var Ce=ee.lane&-536870913;if(Ce!==ee.lane?(In&Ce)===Ce:(lu&Ce)===Ce){var Ue=ee.revertLane;if(Ue===0)Rt!==null&&(Rt=Rt.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),Ce===ys&&(be=!0);else if((lu&Ue)===Ue){ee=ee.next,Ue===ys&&(be=!0);continue}else Ce={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Rt===null?(mt=Rt=Ce,rt=B):Rt=Rt.next=Ce,Rn.lanes|=Ue,Es|=Ue;Ce=ee.action,ic&&S(B,Ce),B=ee.hasEagerState?ee.eagerState:S(B,Ce)}else Ue={lane:Ce,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Rt===null?(mt=Rt=Ue,rt=B):Rt=Rt.next=Ue,Rn.lanes|=Ce,Es|=Ce;ee=ee.next}while(ee!==null&&ee!==p);if(Rt===null?rt=B:Rt.next=mt,!Za(B,f.memoizedState)&&(di=!0,be&&(S=Xc,S!==null)))throw S;f.memoizedState=B,f.baseState=rt,f.baseQueue=Rt,R.lastRenderedState=B}return N===null&&(R.lanes=0),[f.memoizedState,R.dispatch]}function We(f){var p=Ot(),S=p.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=f;var R=S.dispatch,N=S.pending,B=p.memoizedState;if(N!==null){S.pending=null;var rt=N=N.next;do B=f(B,rt.action),rt=rt.next;while(rt!==N);Za(B,p.memoizedState)||(di=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),S.lastRenderedState=B}return[B,R]}function Ze(f,p,S){var R=Rn,N=Ot(),B=kn;if(B){if(S===void 0)throw Error(r(407));S=S()}else S=p();var rt=!Za((en||N).memoizedState,S);if(rt&&(N.memoizedState=S,di=!0),N=N.queue,Mc(Pn.bind(null,R,N,f),[f]),N.getSnapshot!==p||rt||Vn!==null&&Vn.memoizedState.tag&1){if(R.flags|=2048,Ci(9,vn.bind(null,R,N,S,p),{destroy:void 0},null),ei===null)throw Error(r(349));B||(lu&60)!==0||Be(R,p,S)}return S}function Be(f,p,S){f.flags|=16384,f={getSnapshot:p,value:S},p=Rn.updateQueue,p===null?(p=ym(),Rn.updateQueue=p,p.stores=[f]):(S=p.stores,S===null?p.stores=[f]:S.push(f))}function vn(f,p,S,R){p.value=S,p.getSnapshot=R,Xe(p)&&Je(f)}function Pn(f,p,S){return S(function(){Xe(p)&&Je(f)})}function Xe(f){var p=f.getSnapshot;f=f.value;try{var S=p();return!Za(f,S)}catch{return!0}}function Je(f){var p=At(f,2);p!==null&&rr(p,f,2)}function cn(f){var p=St();if(typeof f=="function"){var S=f;if(f=S(),ic){it(!0);try{S()}finally{it(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Se,lastRenderedState:f},p}function Ve(f,p,S,R){return f.baseState=S,Te(f,en,typeof R=="function"?R:Se)}function Wn(f,p,S,R,N){if(Pu(f))throw Error(r(485));if(f=p.action,f!==null){var B={payload:N,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(rt){B.listeners.push(rt)}};fn.T!==null?S(!0):B.isTransition=!1,R(B),S=p.pending,S===null?(B.next=p.pending=B,Sn(p,B)):(B.next=S.next,p.pending=S.next=B)}}function Sn(f,p){var S=p.action,R=p.payload,N=f.state;if(p.isTransition){var B=fn.T,rt={};fn.T=rt;try{var mt=S(N,R),Rt=fn.S;Rt!==null&&Rt(rt,mt),Ye(f,p,mt)}catch(ee){tr(f,p,ee)}finally{fn.T=B}}else try{B=S(N,R),Ye(f,p,B)}catch(ee){tr(f,p,ee)}}function Ye(f,p,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(R){Hn(f,p,R)},function(R){return tr(f,p,R)}):Hn(f,p,S)}function Hn(f,p,S){p.status="fulfilled",p.value=S,Li(p),f.state=S,p=f.pending,p!==null&&(S=p.next,S===p?f.pending=null:(S=S.next,p.next=S,Sn(f,S)))}function tr(f,p,S){var R=f.pending;if(f.pending=null,R!==null){R=R.next;do p.status="rejected",p.reason=S,Li(p),p=p.next;while(p!==R)}f.action=null}function Li(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function Tn(f,p){return p}function Nr(f,p){if(kn){var S=ei.formState;if(S!==null){t:{var R=Rn;if(kn){if(Wr){var N=hv(Wr,Br);if(N){Wr=dv(N),R=e_(N);break t}}ae(R)}R=!1}R&&(p=S[0])}}S=St(),S.memoizedState=S.baseState=p,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:p},S.queue=R,S=kl.bind(null,Rn,R),R.dispatch=S,R=cn(!1);var B=ja.bind(null,Rn,!1,R.queue);return R=St(),N={state:p,dispatch:null,action:f,pending:null},R.queue=N,S=Wn.bind(null,Rn,N,B,S),N.dispatch=S,R.memoizedState=f,[p,S,!1]}function ji(f){var p=Ot();return Kn(p,en,f)}function Kn(f,p,S){p=Te(f,p,Tn)[0],f=Ne(Se)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?Bt(p):p;var R=Ot(),N=R.queue,B=N.dispatch;return S!==R.memoizedState&&(Rn.flags|=2048,Ci(9,Nn.bind(null,N,S),{destroy:void 0},null)),[p,B,f]}function Nn(f,p){f.action=p}function Ma(f){var p=Ot(),S=en;if(S!==null)return Kn(p,S,f);Ot(),p=p.memoizedState,S=Ot();var R=S.queue.dispatch;return S.memoizedState=f,[p,R,!1]}function Ci(f,p,S,R){return f={tag:f,create:p,inst:S,deps:R,next:null},p=Rn.updateQueue,p===null&&(p=ym(),Rn.updateQueue=p),S=p.lastEffect,S===null?p.lastEffect=f.next=f:(R=S.next,S.next=f,f.next=R,p.lastEffect=f),f}function Au(){return Ot().memoizedState}function Il(f,p,S,R){var N=St();Rn.flags|=f,N.memoizedState=Ci(1|p,S,{destroy:void 0},R===void 0?null:R)}function eo(f,p,S,R){var N=Ot();R=R===void 0?null:R;var B=N.memoizedState.inst;en!==null&&R!==null&&ba(R,en.memoizedState.deps)?N.memoizedState=Ci(p,S,B,R):(Rn.flags|=f,N.memoizedState=Ci(1|p,S,B,R))}function Cu(f,p){Il(8390656,8,f,p)}function Mc(f,p){eo(2048,8,f,p)}function Ec(f,p){return eo(4,2,f,p)}function Bl(f,p){return eo(4,4,f,p)}function Ru(f,p){if(typeof p=="function"){f=f();var S=p(f);return function(){typeof S=="function"?S():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function Fl(f,p,S){S=S!=null?S.concat([f]):null,eo(4,4,Ru.bind(null,p,f),S)}function no(){}function io(f,p){var S=Ot();p=p===void 0?null:p;var R=S.memoizedState;return p!==null&&ba(p,R[1])?R[0]:(S.memoizedState=[f,p],f)}function Jh(f,p){var S=Ot();p=p===void 0?null:p;var R=S.memoizedState;if(p!==null&&ba(p,R[1]))return R[0];if(R=f(),ic){it(!0);try{f()}finally{it(!1)}}return S.memoizedState=[R,p],R}function sn(f,p,S){return S===void 0||(lu&1073741824)!==0?f.memoizedState=p:(f.memoizedState=S,f=qf(),Rn.lanes|=f,Es|=f,S)}function ka(f,p,S,R){return Za(S,p)?S:bi.current!==null?(f=sn(f,S,R),Za(f,p)||(di=!0),f):(lu&42)===0?(di=!0,f.memoizedState=S):(f=qf(),Rn.lanes|=f,Es|=f,p)}function jn(f,p,S,R,N){var B=iu();ca(B!==0&&8>B?B:8);var rt=fn.T,mt={};fn.T=mt,ja(f,!1,p,S);try{var Rt=N(),ee=fn.S;if(ee!==null&&ee(mt,Rt),Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var be=ve(Rt,R);yi(f,p,be,Ni(f))}else yi(f,p,R,Ni(f))}catch(Ce){yi(f,p,{then:function(){},status:"rejected",reason:Ce},Ni())}finally{ca(B),fn.T=rt}}function cs(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:Xu,baseState:Xu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Se,lastRenderedState:Xu},next:null};var S={};return p.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Se,lastRenderedState:S},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function Hl(){return nr(yo)}function qo(){return Ot().memoizedState}function fs(){return Ot().memoizedState}function ro(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var S=Ni();f=oe(S);var R=ye(p,f,S);R!==null&&(rr(R,p,S),De(R,p,S)),p={cache:Zo()},f.payload=p;return}p=p.return}}function Ou(f,p,S){var R=Ni();S={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},Pu(f)?Ur(p,S):(S=Yt(f,p,S,R),S!==null&&(rr(S,f,R),Wo(S,p,R)))}function kl(f,p,S){var R=Ni();yi(f,p,S,R)}function yi(f,p,S,R){var N={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(Pu(f))Ur(p,N);else{var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var rt=p.lastRenderedState,mt=B(rt,S);if(N.hasEagerState=!0,N.eagerState=mt,Za(mt,rt))return Gt(f,p,N,0),ei===null&&Ht(),!1}catch{}finally{}if(S=Yt(f,p,N,R),S!==null)return rr(S,f,R),Wo(S,p,R),!0}return!1}function ja(f,p,S,R){if(R={lane:2,revertLane:$t(),action:R,hasEagerState:!1,eagerState:null,next:null},Pu(f)){if(p)throw Error(r(479))}else p=Yt(f,S,R,2),p!==null&&rr(p,f,2)}function Pu(f){var p=f.alternate;return f===Rn||p!==null&&p===Rn}function Ur(f,p){Zc=Vs=!0;var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}function Wo(f,p,S){if((S&4194176)!==0){var R=p.lanes;R&=f.pendingLanes,S|=R,p.lanes=S,dt(f,S)}}function jl(f,p,S,R){p=f.memoizedState,S=S(R,p),S=S==null?p:Qp({},p,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}function Xo(f,p,S,R,N,B,rt){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(R,B,rt):p.prototype&&p.prototype.isPureReactComponent?!he(S,R)||!he(N,B):!0}function Bp(f,p,S,R){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,R),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,R),p.state!==f&&fl.enqueueReplaceState(p,p.state,null)}function Ls(f,p){var S=p;if("ref"in p){S={};for(var R in p)R!=="ref"&&(S[R]=p[R])}if(f=f.defaultProps){S===p&&(S=Qp({},S));for(var N in f)S[N]===void 0&&(S[N]=f[N])}return S}function wn(f,p){try{var S=f.onUncaughtError;S(p.value,{componentStack:p.stack})}catch(R){setTimeout(function(){throw R})}}function Du(f,p,S){try{var R=f.onCaughtError;R(S.value,{componentStack:S.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function zr(f,p,S){return S=oe(S),S.tag=3,S.payload={element:null},S.callback=function(){wn(f,p)},S}function Vl(f){return f=oe(f),f.tag=3,f}function td(f,p,S,R){var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var B=R.value;f.payload=function(){return N(B)},f.callback=function(){Du(p,S,R)}}var rt=S.stateNode;rt!==null&&typeof rt.componentDidCatch=="function"&&(f.callback=function(){Du(p,S,R),typeof N!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var mt=R.stack;this.componentDidCatch(R.value,{componentStack:mt!==null?mt:""})})}function Yg(f,p,S,R,N){if(S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(p=S.alternate,p!==null&&Nu(p,S,N,!0),S=_s.current,S!==null){switch(S.tag){case 13:return hi===null?Ct():S.alternate===null&&pi===0&&(pi=3),S.flags&=-257,S.flags|=65536,S.lanes=N,R===Cd?S.flags|=16384:(p=S.updateQueue,p===null?S.updateQueue=new Set([R]):p.add(R),nl(f,R,N)),!1;case 22:return S.flags|=65536,R===Cd?S.flags|=16384:(p=S.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([R])},S.updateQueue=p):(S=p.retryQueue,S===null?p.retryQueue=new Set([R]):S.add(R)),nl(f,R,N)),!1}throw Error(r(435,S.tag))}return nl(f,R,N),Ct(),!1}if(kn)return p=_s.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=N,R!==Td&&(f=Error(r(422),{cause:R}),ot(yt(f,S)))):(R!==Td&&(p=Error(r(423),{cause:R}),ot(yt(p,S))),f=f.current.alternate,f.flags|=65536,N&=-N,f.lanes|=N,R=yt(R,S),N=zr(f.stateNode,R,N),ct(f,N),pi!==4&&(pi=2)),!1;var B=Error(r(520),{cause:R});if(B=yt(B,S),$c===null?$c=[B]:$c.push(B),pi!==4&&(pi=2),p===null)return!0;R=yt(R,S),S=p;do{switch(S.tag){case 3:return S.flags|=65536,f=N&-N,S.lanes|=f,f=zr(S.stateNode,R,f),ct(S,f),!1;case 1:if(p=S.type,B=S.stateNode,(S.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ac===null||!ac.has(B))))return S.flags|=65536,N&=-N,S.lanes|=N,N=Vl(N),td(N,f,S,R),ct(S,N),!1}S=S.return}while(S!==null);return!1}function er(f,p,S,R){p.child=f===null?cl(p,null,S,R):nc(p,f.child,S,R)}function Uf(f,p,S,R,N){S=S.render;var B=p.ref;if("ref"in R){var rt={};for(var mt in R)mt!=="ref"&&(rt[mt]=R[mt])}else rt=R;return Yo(p),R=us(f,p,S,rt,B,N),mt=Tu(),f!==null&&!di?(wu(f,p,N),so(f,p,N)):(kn&&mt&&gt(p),p.flags|=1,er(f,p,R,N),p.child)}function ed(f,p,S,R,N){if(f===null){var B=S.type;return typeof B=="function"&&!Gu(B)&&B.defaultProps===void 0&&S.compare===null?(p.tag=15,p.type=B,Fp(f,p,B,R,N)):(f=rl(S.type,null,R,p,p.mode,N),f.ref=p.ref,f.return=p,p.child=f)}if(B=f.child,!kf(f,N)){var rt=B.memoizedProps;if(S=S.compare,S=S!==null?S:he,S(rt,R)&&f.ref===p.ref)return so(f,p,N)}return p.flags|=1,f=Xa(B,R),f.ref=p.ref,f.return=p,p.child=f}function Fp(f,p,S,R,N){if(f!==null){var B=f.memoizedProps;if(he(B,R)&&f.ref===p.ref)if(di=!1,p.pendingProps=R=B,kf(f,N))(f.flags&131072)!==0&&(di=!0);else return p.lanes=f.lanes,so(f,p,N)}return Ea(f,p,S,R,N)}function Hp(f,p,S){var R=p.pendingProps,N=R.children,B=(p.stateNode._pendingVisibility&2)!==0,rt=f!==null?f.memoizedState:null;if(Tc(f,p),R.mode==="hidden"||B){if((p.flags&128)!==0){if(R=rt!==null?rt.baseLanes|S:S,f!==null){for(N=p.child=f.child,B=0;N!==null;)B=B|N.lanes|N.childLanes,N=N.sibling;p.childLanes=B&~R}else p.childLanes=0,p.child=null;return zf(f,p,R,S)}if((S&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&ia(p,rt!==null?rt.cachePool:null),rt!==null?Hi(p,rt):vi(),je(p);else return p.lanes=p.childLanes=536870912,zf(f,p,rt!==null?rt.baseLanes|S:S,S)}else rt!==null?(ia(p,rt.cachePool),Hi(p,rt),Jr(),p.memoizedState=null):(f!==null&&ia(p,null),vi(),Jr());return er(f,p,N,S),p.child}function zf(f,p,S,R){var N=sd();return N=N===null?null:{parent:Ca?Si._currentValue:Si._currentValue2,pool:N},p.memoizedState={baseLanes:S,cachePool:N},f!==null&&ia(p,null),vi(),je(p),f!==null&&Nu(f,p,R,!0),null}function Tc(f,p){var S=p.ref;if(S===null)f!==null&&f.ref!==null&&(p.flags|=2097664);else{if(typeof S!="function"&&typeof S!="object")throw Error(r(284));(f===null||f.ref!==S)&&(p.flags|=2097664)}}function Ea(f,p,S,R,N){return Yo(p),S=us(f,p,S,R,void 0,N),R=Tu(),f!==null&&!di?(wu(f,p,N),so(f,p,N)):(kn&&R&&gt(p),p.flags|=1,er(f,p,S,N),p.child)}function kp(f,p,S,R,N,B){return Yo(p),p.updateQueue=null,S=Ds(p,R,S,N),Sa(f),R=Tu(),f!==null&&!di?(wu(f,p,B),so(f,p,B)):(kn&&R&&gt(p),p.flags|=1,er(f,p,S,B),p.child)}function nd(f,p,S,R,N){if(Yo(p),p.stateNode===null){var B=Qu,rt=S.contextType;typeof rt=="object"&&rt!==null&&(B=nr(rt)),B=new S(R,B),p.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=fl,p.stateNode=B,B._reactInternals=p,B=p.stateNode,B.props=R,B.state=p.memoizedState,B.refs={},Oe(p),rt=S.contextType,B.context=typeof rt=="object"&&rt!==null?nr(rt):Qu,B.state=p.memoizedState,rt=S.getDerivedStateFromProps,typeof rt=="function"&&(jl(p,S,rt,R),B.state=p.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(rt=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),rt!==B.state&&fl.enqueueReplaceState(B,B.state,null),fe(p,R,B,N),Et(),B.state=p.memoizedState),typeof B.componentDidMount=="function"&&(p.flags|=4194308),R=!0}else if(f===null){B=p.stateNode;var mt=p.memoizedProps,Rt=Ls(S,mt);B.props=Rt;var ee=B.context,be=S.contextType;rt=Qu,typeof be=="object"&&be!==null&&(rt=nr(be));var Ce=S.getDerivedStateFromProps;be=typeof Ce=="function"||typeof B.getSnapshotBeforeUpdate=="function",mt=p.pendingProps!==mt,be||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(mt||ee!==rt)&&Bp(p,B,R,rt),ou=!1;var Ue=p.memoizedState;B.state=Ue,fe(p,R,B,N),Et(),ee=p.memoizedState,mt||Ue!==ee||ou?(typeof Ce=="function"&&(jl(p,S,Ce,R),ee=p.memoizedState),(Rt=ou||Xo(p,S,Rt,R,Ue,ee,rt))?(be||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(p.flags|=4194308)):(typeof B.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=R,p.memoizedState=ee),B.props=R,B.state=ee,B.context=rt,R=Rt):(typeof B.componentDidMount=="function"&&(p.flags|=4194308),R=!1)}else{B=p.stateNode,Pe(f,p),rt=p.memoizedProps,be=Ls(S,rt),B.props=be,Ce=p.pendingProps,Ue=B.context,ee=S.contextType,Rt=Qu,typeof ee=="object"&&ee!==null&&(Rt=nr(ee)),mt=S.getDerivedStateFromProps,(ee=typeof mt=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(rt!==Ce||Ue!==Rt)&&Bp(p,B,R,Rt),ou=!1,Ue=p.memoizedState,B.state=Ue,fe(p,R,B,N),Et();var _n=p.memoizedState;rt!==Ce||Ue!==_n||ou||f!==null&&f.dependencies!==null&&Uu(f.dependencies)?(typeof mt=="function"&&(jl(p,S,mt,R),_n=p.memoizedState),(be=ou||Xo(p,S,be,R,Ue,_n,Rt)||f!==null&&f.dependencies!==null&&Uu(f.dependencies))?(ee||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(R,_n,Rt),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(R,_n,Rt)),typeof B.componentDidUpdate=="function"&&(p.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof B.componentDidUpdate!="function"||rt===f.memoizedProps&&Ue===f.memoizedState||(p.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||rt===f.memoizedProps&&Ue===f.memoizedState||(p.flags|=1024),p.memoizedProps=R,p.memoizedState=_n),B.props=R,B.state=_n,B.context=Rt,R=be):(typeof B.componentDidUpdate!="function"||rt===f.memoizedProps&&Ue===f.memoizedState||(p.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||rt===f.memoizedProps&&Ue===f.memoizedState||(p.flags|=1024),R=!1)}return B=R,Tc(f,p),R=(p.flags&128)!==0,B||R?(B=p.stateNode,S=R&&typeof S.getDerivedStateFromError!="function"?null:B.render(),p.flags|=1,f!==null&&R?(p.child=nc(p,f.child,null,N),p.child=nc(p,null,S,N)):er(f,p,S,N),p.memoizedState=B.state,f=p.child):f=so(f,p,N),f}function ao(f,p,S,R){return jt(),p.flags|=256,er(f,p,S,R),p.child}function If(f){return{baseLanes:f,cachePool:Ko()}}function Lu(f,p,S){return f=f!==null?f.childLanes&~S:0,p&&(f|=Ts),f}function Bf(f,p,S){var R=p.pendingProps,N=!1,B=(p.flags&128)!==0,rt;if((rt=B)||(rt=f!==null&&f.memoizedState===null?!1:(Ar.current&2)!==0),rt&&(N=!0,p.flags&=-129),rt=(p.flags&32)!==0,p.flags&=-33,f===null){if(kn){if(N?Di(p):Jr(),kn){var mt=Wr,Rt;(Rt=mt)&&(mt=r_(mt,Br),mt!==null?(p.memoizedState={dehydrated:mt,treeContext:$u!==null?{id:xo,overflow:bo}:null,retryLane:536870912},Rt=e(18,null,null,0),Rt.stateNode=mt,Rt.return=p,p.child=Rt,qr=p,Wr=null,Rt=!0):Rt=!1),Rt||ae(p)}if(mt=p.memoizedState,mt!==null&&(mt=mt.dehydrated,mt!==null))return om(mt)?p.lanes=16:p.lanes=536870912,null;ta(p)}return mt=R.children,R=R.fallback,N?(Jr(),N=p.mode,mt=Ff({mode:"hidden",children:mt},N),R=Gi(R,N,S,null),mt.return=p,R.return=p,mt.sibling=R,p.child=mt,N=p.child,N.memoizedState=If(S),N.childLanes=Lu(f,rt,S),p.memoizedState=bm,R):(Di(p),id(p,mt))}if(Rt=f.memoizedState,Rt!==null&&(mt=Rt.dehydrated,mt!==null)){if(B)p.flags&256?(Di(p),p.flags&=-257,p=wc(f,p,S)):p.memoizedState!==null?(Jr(),p.child=f.child,p.flags|=128,p=null):(Jr(),N=R.fallback,mt=p.mode,R=Ff({mode:"visible",children:R.children},mt),N=Gi(N,mt,S,null),N.flags|=2,R.return=p,N.return=p,R.sibling=N,p.child=R,nc(p,f.child,null,S),R=p.child,R.memoizedState=If(S),R.childLanes=Lu(f,rt,S),p.memoizedState=bm,p=N);else if(Di(p),om(mt))rt=J0(mt).digest,R=Error(r(419)),R.stack="",R.digest=rt,ot({value:R,source:null,stack:null}),p=wc(f,p,S);else if(di||Nu(f,p,S,!1),rt=(S&f.childLanes)!==0,di||rt){if(rt=ei,rt!==null){if(R=S&-S,(R&42)!==0)R=1;else switch(R){case 2:R=1;break;case 8:R=4;break;case 32:R=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:R=64;break;case 268435456:R=134217728;break;default:R=0}if(R=(R&(rt.suspendedLanes|S))!==0?0:R,R!==0&&R!==Rt.retryLane)throw Rt.retryLane=R,At(f,R),rr(rt,f,R),xm}sm(mt)||Ct(),p=wc(f,p,S)}else sm(mt)?(p.flags|=128,p.child=f.child,p=mo.bind(null,f),t_(mt,p),p=null):(f=Rt.treeContext,Gr&&(Wr=i_(mt),qr=p,kn=!0,ks=null,Br=!1,f!==null&&(gs[vs++]=xo,gs[vs++]=bo,gs[vs++]=$u,xo=f.id,bo=f.overflow,$u=p)),p=id(p,R.children),p.flags|=4096);return p}return N?(Jr(),N=R.fallback,mt=p.mode,Rt=f.child,B=Rt.sibling,R=Xa(Rt,{mode:"hidden",children:R.children}),R.subtreeFlags=Rt.subtreeFlags&31457280,B!==null?N=Xa(B,N):(N=Gi(N,mt,S,null),N.flags|=2),N.return=p,R.return=p,R.sibling=N,p.child=R,R=N,N=p.child,mt=f.child.memoizedState,mt===null?mt=If(S):(Rt=mt.cachePool,Rt!==null?(B=Ca?Si._currentValue:Si._currentValue2,Rt=Rt.parent!==B?{parent:B,pool:B}:Rt):Rt=Ko(),mt={baseLanes:mt.baseLanes|S,cachePool:Rt}),N.memoizedState=mt,N.childLanes=Lu(f,rt,S),p.memoizedState=bm,R):(Di(p),S=f.child,f=S.sibling,S=Xa(S,{mode:"visible",children:R.children}),S.return=p,S.sibling=null,f!==null&&(rt=p.deletions,rt===null?(p.deletions=[f],p.flags|=16):rt.push(f)),p.child=S,p.memoizedState=null,S)}function id(f,p){return p=Ff({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function Ff(f,p){return fd(f,p,0,null)}function wc(f,p,S){return nc(p,f.child,null,S),f=id(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function jp(f,p,S){f.lanes|=p;var R=f.alternate;R!==null&&(R.lanes|=p),lo(f.return,p,S)}function rd(f,p,S,R,N){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:N}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=R,B.tail=S,B.tailMode=N)}function Hf(f,p,S){var R=p.pendingProps,N=R.revealOrder,B=R.tail;if(er(f,p,R.children,S),R=Ar.current,(R&2)!==0)R=R&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)t:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&jp(f,S,p);else if(f.tag===19)jp(f,S,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break t;for(;f.sibling===null;){if(f.return===null||f.return===p)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}R&=1}switch(O(Ar,R),N){case"forwards":for(S=p.child,N=null;S!==null;)f=S.alternate,f!==null&&ea(f)===null&&(N=S),S=S.sibling;S=N,S===null?(N=p.child,p.child=null):(N=S.sibling,S.sibling=null),rd(p,!1,N,S,B);break;case"backwards":for(S=null,N=p.child,p.child=null;N!==null;){if(f=N.alternate,f!==null&&ea(f)===null){p.child=N;break}f=N.sibling,N.sibling=S,S=N,N=f}rd(p,!0,S,null,B);break;case"together":rd(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function so(f,p,S){if(f!==null&&(p.dependencies=f.dependencies),Es|=p.lanes,(S&p.childLanes)===0)if(f!==null){if(Nu(f,p,S,!1),(S&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(r(153));if(p.child!==null){for(f=p.child,S=Xa(f,f.pendingProps),p.child=S,S.return=p;f.sibling!==null;)f=f.sibling,S=S.sibling=Xa(f,f.pendingProps),S.return=p;S.sibling=null}return p.child}function kf(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&Uu(f)))}function Vp(f,p,S){switch(p.tag){case 3:Dt(p,p.stateNode.containerInfo),na(p,Si,f.memoizedState.cache),jt();break;case 27:case 5:_t(p);break;case 4:Dt(p,p.stateNode.containerInfo);break;case 10:na(p,p.type,p.memoizedProps.value);break;case 13:var R=p.memoizedState;if(R!==null)return R.dehydrated!==null?(Di(p),p.flags|=128,null):(S&p.child.childLanes)!==0?Bf(f,p,S):(Di(p),f=so(f,p,S),f!==null?f.sibling:null);Di(p);break;case 19:var N=(f.flags&128)!==0;if(R=(S&p.childLanes)!==0,R||(Nu(f,p,S,!1),R=(S&p.childLanes)!==0),N){if(R)return Hf(f,p,S);p.flags|=128}if(N=p.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),O(Ar,Ar.current),R)break;return null;case 22:case 23:return p.lanes=0,Hp(f,p,S);case 24:na(p,Si,f.memoizedState.cache)}return so(f,p,S)}function Ac(f,p,S){if(f!==null)if(f.memoizedProps!==p.pendingProps)di=!0;else{if(!kf(f,S)&&(p.flags&128)===0)return di=!1,Vp(f,p,S);di=(f.flags&131072)!==0}else di=!1,kn&&(p.flags&1048576)!==0&&ut(p,rh,p.index);switch(p.lanes=0,p.tag){case 16:t:{f=p.pendingProps;var R=p.elementType,N=R._init;if(R=N(R._payload),p.type=R,typeof R=="function")Gu(R)?(f=Ls(R,f),p.tag=1,p=nd(null,p,R,f,S)):(p.tag=0,p=Ea(null,p,R,f,S));else{if(R!=null){if(N=R.$$typeof,N===gd){p.tag=11,p=Uf(null,p,R,f,S);break t}else if(N===tm){p.tag=14,p=ed(null,p,R,f,S);break t}}throw p=o(R)||R,Error(r(306,p,""))}}return p;case 0:return Ea(f,p,p.type,p.pendingProps,S);case 1:return R=p.type,N=Ls(R,p.pendingProps),nd(f,p,R,N,S);case 3:t:{if(Dt(p,p.stateNode.containerInfo),f===null)throw Error(r(387));var B=p.pendingProps;N=p.memoizedState,R=N.element,Pe(f,p),fe(p,B,null,S);var rt=p.memoizedState;if(B=rt.cache,na(p,Si,B),B!==N.cache&&dr(p,[Si],S,!0),Et(),B=rt.element,Gr&&N.isDehydrated)if(N={element:B,isDehydrated:!1,cache:rt.cache},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){p=ao(f,p,B,S);break t}else if(B!==R){R=yt(Error(r(424)),p),ot(R),p=ao(f,p,B,S);break t}else for(Gr&&(Wr=n_(p.stateNode.containerInfo),qr=p,kn=!0,ks=null,Br=!0),S=cl(p,null,B,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(jt(),B===R){p=so(f,p,S);break t}er(f,p,B,S)}p=p.child}return p;case 26:if(ms)return Tc(f,p),f===null?(S=gv(p.type,null,p.pendingProps,null))?p.memoizedState=S:kn||(p.stateNode=hm(p.type,p.pendingProps,ll.current,p)):p.memoizedState=gv(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:if(fi)return _t(p),f===null&&fi&&kn&&(R=p.stateNode=_o(p.type,p.pendingProps,ll.current,wr.current,!1),qr=p,Br=!0,Wr=lm(R)),R=p.pendingProps.children,f!==null||kn?er(f,p,R,S):p.child=nc(p,null,R,S),Tc(f,p),p.child;case 5:return f===null&&kn&&(cm(p.type,p.pendingProps,wr.current),(N=R=Wr)&&(R=$S(R,p.type,p.pendingProps,Br),R!==null?(p.stateNode=R,qr=p,Wr=lm(R),Br=!1,N=!0):N=!1),N||ae(p)),_t(p),N=p.type,B=p.pendingProps,rt=f!==null?f.memoizedProps:null,R=B.children,En(N,B)?R=null:rt!==null&&En(N,rt)&&(p.flags|=32),p.memoizedState!==null&&(N=us(f,p,ki,null,null,S),Ca?yo._currentValue=N:yo._currentValue2=N),Tc(f,p),er(f,p,R,S),p.child;case 6:return f===null&&kn&&(u_(p.pendingProps,wr.current),(f=S=Wr)&&(S=pv(S,p.pendingProps,Br),S!==null?(p.stateNode=S,qr=p,Wr=null,f=!0):f=!1),f||ae(p)),null;case 13:return Bf(f,p,S);case 4:return Dt(p,p.stateNode.containerInfo),R=p.pendingProps,f===null?p.child=nc(p,null,R,S):er(f,p,R,S),p.child;case 11:return Uf(f,p,p.type,p.pendingProps,S);case 7:return er(f,p,p.pendingProps,S),p.child;case 8:return er(f,p,p.pendingProps.children,S),p.child;case 12:return er(f,p,p.pendingProps.children,S),p.child;case 10:return R=p.pendingProps,na(p,p.type,R.value),er(f,p,R.children,S),p.child;case 9:return N=p.type._context,R=p.pendingProps.children,Yo(p),N=nr(N),R=R(N),p.flags|=1,er(f,p,R,S),p.child;case 14:return ed(f,p,p.type,p.pendingProps,S);case 15:return Fp(f,p,p.type,p.pendingProps,S);case 19:return Hf(f,p,S);case 22:return Hp(f,p,S);case 24:return Yo(p),R=nr(Si),f===null?(N=sd(),N===null&&(N=ei,B=Zo(),N.pooledCache=B,B.refCount++,B!==null&&(N.pooledCacheLanes|=S),N=B),p.memoizedState={parent:R,cache:N},Oe(p),na(p,Si,N)):((f.lanes&S)!==0&&(Pe(f,p),fe(p,null,null,S),Et()),N=f.memoizedState,B=p.memoizedState,N.parent!==R?(N={parent:R,cache:R},p.memoizedState=N,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=N),na(p,Si,R)):(R=B.cache,na(p,Si,R),R!==N.cache&&dr(p,[Si],S,!0))),er(f,p,p.pendingProps.children,S),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function na(f,p,S){Ca?(O(uu,p._currentValue),p._currentValue=S):(O(uu,p._currentValue2),p._currentValue2=S)}function oo(f){var p=uu.current;Ca?f._currentValue=p:f._currentValue2=p,E(uu)}function lo(f,p,S){for(;f!==null;){var R=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,R!==null&&(R.childLanes|=p)):R!==null&&(R.childLanes&p)!==p&&(R.childLanes|=p),f===S)break;f=f.return}}function dr(f,p,S,R){var N=f.child;for(N!==null&&(N.return=f);N!==null;){var B=N.dependencies;if(B!==null){var rt=N.child;B=B.firstContext;t:for(;B!==null;){var mt=B;B=N;for(var Rt=0;Rt<p.length;Rt++)if(mt.context===p[Rt]){B.lanes|=S,mt=B.alternate,mt!==null&&(mt.lanes|=S),lo(B.return,S,f),R||(rt=null);break t}B=mt.next}}else if(N.tag===18){if(rt=N.return,rt===null)throw Error(r(341));rt.lanes|=S,B=rt.alternate,B!==null&&(B.lanes|=S),lo(rt,S,f),rt=null}else rt=N.child;if(rt!==null)rt.return=N;else for(rt=N;rt!==null;){if(rt===f){rt=null;break}if(N=rt.sibling,N!==null){N.return=rt.return,rt=N;break}rt=rt.return}N=rt}}function Nu(f,p,S,R){f=null;for(var N=p,B=!1;N!==null;){if(!B){if((N.flags&524288)!==0)B=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var rt=N.alternate;if(rt===null)throw Error(r(387));if(rt=rt.memoizedProps,rt!==null){var mt=N.type;Za(N.pendingProps.value,rt.value)||(f!==null?f.push(mt):f=[mt])}}else if(N===Vc.current){if(rt=N.alternate,rt===null)throw Error(r(387));rt.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(f!==null?f.push(yo):f=[yo])}N=N.return}f!==null&&dr(p,f,S,R),p.flags|=262144}function Uu(f){for(f=f.firstContext;f!==null;){var p=f.context;if(!Za(Ca?p._currentValue:p._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Yo(f){Eo=f,bs=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function nr(f){return ad(Eo,f)}function Gl(f,p){return Eo===null&&Yo(f),ad(f,p)}function ad(f,p){var S=Ca?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:S,next:null},bs===null){if(f===null)throw Error(r(308));bs=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else bs=bs.next=p;return S}function Zo(){return{controller:new ch,data:new Map,refCount:0}}function zu(f){f.refCount--,f.refCount===0&&x_(b_,function(){f.controller.abort()})}function sd(){var f=hl.current;return f!==null?f:ei.pooledCache}function ia(f,p){p===null?O(hl,hl.current):O(hl,p.pool)}function Ko(){var f=sd();return f===null?null:{parent:Ca?Si._currentValue:Si._currentValue2,pool:f}}function ra(f){f.flags|=4}function aa(f,p){if(f!==null&&f.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(f=p.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function ql(f,p,S,R){if(Tr)for(S=p.child;S!==null;){if(S.tag===5||S.tag===6)yd(f,S.stateNode);else if(!(S.tag===4||fi&&S.tag===27)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else if(Fs)for(var N=p.child;N!==null;){if(N.tag===5){var B=N.stateNode;S&&R&&(B=cv(B,N.type,N.memoizedProps)),yd(f,B)}else if(N.tag===6)B=N.stateNode,S&&R&&(B=fv(B,N.memoizedProps)),yd(f,B);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)B=N.child,B!==null&&(B.return=N),ql(f,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===p)break;for(;N.sibling===null;){if(N.return===null||N.return===p)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Wl(f,p,S,R){if(Fs)for(var N=p.child;N!==null;){if(N.tag===5){var B=N.stateNode;S&&R&&(B=cv(B,N.type,N.memoizedProps)),uv(f,B)}else if(N.tag===6)B=N.stateNode,S&&R&&(B=fv(B,N.memoizedProps)),uv(f,B);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)B=N.child,B!==null&&(B.return=N),Wl(f,N,!(N.memoizedProps!==null&&N.memoizedProps.mode==="manual"),!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===p)break;for(;N.sibling===null;){if(N.return===null||N.return===p)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Cc(f,p){if(Fs&&aa(f,p)){f=p.stateNode;var S=f.containerInfo,R=_d();Wl(R,p,!1,!1),f.pendingChildren=R,ra(p),am(S,R)}}function Qo(f,p,S,R){if(Tr)f.memoizedProps!==R&&ra(p);else if(Fs){var N=f.stateNode,B=f.memoizedProps;if((f=aa(f,p))||B!==R){var rt=wr.current;B=eh(N,S,B,R,!f,null),B===N?p.stateNode=N:(nu(B,S,R,rt)&&ra(p),p.stateNode=B,f?ql(B,p,!1,!1):ra(p))}else p.stateNode=N}}function Rc(f,p,S){if(ev(p,S)){if(f.flags|=16777216,!im(p,S))if(k())f.flags|=8192;else throw Ju=Cd,Ad}else f.flags&=-16777217}function Xl(f,p){if(h_(p)){if(f.flags|=16777216,!Bc(p))if(k())f.flags|=8192;else throw Ju=Cd,Ad}else f.flags&=-16777217}function Iu(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?G():536870912,f.lanes|=p,ml|=p)}function Ta(f,p){if(!kn)switch(f.tailMode){case"hidden":p=f.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:R.sibling=null}}function ai(f){var p=f.alternate!==null&&f.alternate.child===f.child,S=0,R=0;if(p)for(var N=f.child;N!==null;)S|=N.lanes|N.childLanes,R|=N.subtreeFlags&31457280,R|=N.flags&31457280,N.return=f,N=N.sibling;else for(N=f.child;N!==null;)S|=N.lanes|N.childLanes,R|=N.subtreeFlags,R|=N.flags,N.return=f,N=N.sibling;return f.subtreeFlags|=R,f.childLanes=S,p}function Gp(f,p,S){var R=p.pendingProps;switch(Lt(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(p),null;case 1:return ai(p),null;case 3:return S=p.stateNode,R=null,f!==null&&(R=f.memoizedState.cache),p.memoizedState.cache!==R&&(p.flags|=2048),oo(Si),Zt(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(pe(p)?ra(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,ks!==null&&(Lc(ks),ks=null))),Cc(f,p),ai(p),null;case 26:if(ms){S=p.type;var N=p.memoizedState;return f===null?(ra(p),N!==null?(ai(p),Xl(p,N)):(ai(p),Rc(p,S,R))):N?N!==f.memoizedState?(ra(p),ai(p),Xl(p,N)):(ai(p),p.flags&=-16777217):(Tr?f.memoizedProps!==R&&ra(p):Qo(f,p,S,R),ai(p),Rc(p,S,R)),null}case 27:if(fi){if(Qt(p),S=ll.current,N=p.type,f!==null&&p.stateNode!=null)Tr?f.memoizedProps!==R&&ra(p):Qo(f,p,N,R);else{if(!R){if(p.stateNode===null)throw Error(r(166));return ai(p),null}f=wr.current,pe(p)?Xt(p,f):(f=_o(N,R,S,f,!0),p.stateNode=f,ra(p))}return ai(p),null}case 5:if(Qt(p),S=p.type,f!==null&&p.stateNode!=null)Qo(f,p,S,R);else{if(!R){if(p.stateNode===null)throw Error(r(166));return ai(p),null}f=wr.current,pe(p)?Xt(p,f):(N=tv(S,R,ll.current,f,p),ql(N,p,!1,!1),p.stateNode=N,nu(N,S,R,f)&&ra(p))}return ai(p),Rc(p,p.type,p.pendingProps),null;case 6:if(f&&p.stateNode!=null)S=f.memoizedProps,Tr?S!==R&&ra(p):Fs&&(S!==R?(p.stateNode=si(R,ll.current,wr.current,p),ra(p)):p.stateNode=f.stateNode);else{if(typeof R!="string"&&p.stateNode===null)throw Error(r(166));if(f=ll.current,S=wr.current,pe(p)){if(!Gr)throw Error(r(176));if(f=p.stateNode,S=p.memoizedProps,R=null,N=qr,N!==null)switch(N.tag){case 27:case 5:R=N.memoizedProps}mv(f,S,p,R)||ae(p)}else p.stateNode=si(R,f,S,p)}return ai(p),null;case 13:if(R=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(N=pe(p),R!==null&&R.dehydrated!==null){if(f===null){if(!N)throw Error(r(318));if(!Gr)throw Error(r(344));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));s_(N,p)}else jt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ai(p),N=!1}else ks!==null&&(Lc(ks),ks=null),N=!0;if(!N)return p.flags&256?(ta(p),p):(ta(p),null)}if(ta(p),(p.flags&128)!==0)return p.lanes=S,p;if(S=R!==null,f=f!==null&&f.memoizedState!==null,S){R=p.child,N=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(N=R.alternate.memoizedState.cachePool.pool);var B=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(B=R.memoizedState.cachePool.pool),B!==N&&(R.flags|=2048)}return S!==f&&S&&(p.child.flags|=8192),Iu(p,p.updateQueue),ai(p),null;case 4:return Zt(),Cc(f,p),f===null&&ar(p.stateNode.containerInfo),ai(p),null;case 10:return oo(p.type),ai(p),null;case 19:if(E(Ar),N=p.memoizedState,N===null)return ai(p),null;if(R=(p.flags&128)!==0,B=N.rendering,B===null)if(R)Ta(N,!1);else{if(pi!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(B=ea(f),B!==null){for(p.flags|=128,Ta(N,!1),f=B.updateQueue,p.updateQueue=f,Iu(p,f),p.subtreeFlags=0,f=S,S=p.child;S!==null;)cd(S,f),S=S.sibling;return O(Ar,Ar.current&1|2),p.child}f=f.sibling}N.tail!==null&&Hs()>dh&&(p.flags|=128,R=!0,Ta(N,!1),p.lanes=4194304)}else{if(!R)if(f=ea(B),f!==null){if(p.flags|=128,R=!0,f=f.updateQueue,p.updateQueue=f,Iu(p,f),Ta(N,!0),N.tail===null&&N.tailMode==="hidden"&&!B.alternate&&!kn)return ai(p),null}else 2*Hs()-N.renderingStartTime>dh&&S!==536870912&&(p.flags|=128,R=!0,Ta(N,!1),p.lanes=4194304);N.isBackwards?(B.sibling=p.child,p.child=B):(f=N.last,f!==null?f.sibling=B:p.child=B,N.last=B)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=Hs(),p.sibling=null,f=Ar.current,O(Ar,R?f&1|2:f&1),p):(ai(p),null);case 22:case 23:return ta(p),Ha(),R=p.memoizedState!==null,f!==null?f.memoizedState!==null!==R&&(p.flags|=8192):R&&(p.flags|=8192),R?(S&536870912)!==0&&(p.flags&128)===0&&(ai(p),p.subtreeFlags&6&&(p.flags|=8192)):ai(p),S=p.updateQueue,S!==null&&Iu(p,S.retryQueue),S=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),R=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(R=p.memoizedState.cachePool.pool),R!==S&&(p.flags|=2048),f!==null&&E(hl),null;case 24:return S=null,f!==null&&(S=f.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),oo(Si),ai(p),null;case 25:return null}throw Error(r(156,p.tag))}function od(f,p){switch(Lt(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return oo(Si),Zt(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return Qt(p),null;case 13:if(ta(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(r(340));jt()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return E(Ar),null;case 4:return Zt(),null;case 10:return oo(p.type),null;case 22:case 23:return ta(p),Ha(),f!==null&&E(hl),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return oo(Si),null;case 25:return null;default:return null}}function qp(f,p){switch(Lt(p),p.tag){case 3:oo(Si),Zt();break;case 26:case 27:case 5:Qt(p);break;case 4:Zt();break;case 13:ta(p);break;case 19:E(Ar);break;case 10:oo(p.type);break;case 22:case 23:ta(p),Ha(),f!==null&&E(hl);break;case 24:oo(Si)}}function wa(f,p){try{var S=p.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var N=R.next;S=N;do{if((S.tag&f)===f){R=void 0;var B=S.create,rt=S.inst;R=B(),rt.destroy=R}S=S.next}while(S!==N)}}catch(mt){Xn(p,p.return,mt)}}function $o(f,p,S){try{var R=p.updateQueue,N=R!==null?R.lastEffect:null;if(N!==null){var B=N.next;R=B;do{if((R.tag&f)===f){var rt=R.inst,mt=rt.destroy;if(mt!==void 0){rt.destroy=void 0,N=p;var Rt=S;try{mt()}catch(ee){Xn(N,Rt,ee)}}}R=R.next}while(R!==B)}}catch(ee){Xn(p,p.return,ee)}}function Yl(f){var p=f.updateQueue;if(p!==null){var S=f.stateNode;try{ie(p,S)}catch(R){Xn(f,f.return,R)}}}function sa(f,p,S){S.props=Ls(f.type,f.memoizedProps),S.state=f.memoizedState;try{S.componentWillUnmount()}catch(R){Xn(f,p,R)}}function ir(f,p){try{var S=f.ref;if(S!==null){var R=f.stateNode;switch(f.tag){case 26:case 27:case 5:var N=$f(R);break;default:N=R}typeof S=="function"?f.refCleanup=S(N):S.current=N}}catch(B){Xn(f,p,B)}}function br(f,p){var S=f.ref,R=f.refCleanup;if(S!==null)if(typeof R=="function")try{R()}catch(N){Xn(f,p,N)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(N){Xn(f,p,N)}else S.current=null}function jf(f){var p=f.type,S=f.memoizedProps,R=f.stateNode;try{KS(R,p,S,f)}catch(N){Xn(f,f.return,N)}}function Oc(f,p,S){try{q0(f.stateNode,f.type,S,p,f)}catch(R){Xn(f,f.return,R)}}function Bu(f){return f.tag===5||f.tag===3||(ms?f.tag===26:!1)||(fi?f.tag===27:!1)||f.tag===4}function Zl(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||Bu(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!fi||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Fu(f,p,S){var R=f.tag;if(R===5||R===6)f=f.stateNode,p?X0(S,f,p):sv(S,f);else if(!(R===4||fi&&R===27)&&(f=f.child,f!==null))for(Fu(f,p,S),f=f.sibling;f!==null;)Fu(f,p,S),f=f.sibling}function oa(f,p,S){var R=f.tag;if(R===5||R===6)f=f.stateNode,p?W0(S,f,p):V0(S,f);else if(!(R===4||fi&&R===27)&&(f=f.child,f!==null))for(oa(f,p,S),f=f.sibling;f!==null;)oa(f,p,S),f=f.sibling}function Kl(f,p,S){f=f.containerInfo;try{nh(f,S)}catch(R){Xn(p,p.return,R)}}function Ql(f,p){for(em(f.containerInfo),yn=p;yn!==null;)if(f=yn,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,yn=p;else for(;yn!==null;){f=yn;var S=f.alternate;switch(p=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&S!==null){p=void 0;var R=f,N=S.memoizedProps;S=S.memoizedState;var B=R.stateNode;try{var rt=Ls(R.type,N,R.elementType===R.type);p=B.getSnapshotBeforeUpdate(rt,S),B.__reactInternalSnapshotBeforeUpdate=p}catch(mt){Xn(R,R.return,mt)}}break;case 3:(p&1024)!==0&&Tr&&$0(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(r(163))}if(p=f.sibling,p!==null){p.return=f.return,yn=p;break}yn=f.return}return rt=Un,Un=!1,rt}function Pc(f,p,S){var R=S.flags;switch(S.tag){case 0:case 11:case 15:Ga(f,S),R&4&&wa(5,S);break;case 1:if(Ga(f,S),R&4)if(f=S.stateNode,p===null)try{f.componentDidMount()}catch(mt){Xn(S,S.return,mt)}else{var N=Ls(S.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(N,p,f.__reactInternalSnapshotBeforeUpdate)}catch(mt){Xn(S,S.return,mt)}}R&64&&Yl(S),R&512&&ir(S,S.return);break;case 3:if(Ga(f,S),R&64&&(R=S.updateQueue,R!==null)){if(f=null,S.child!==null)switch(S.child.tag){case 27:case 5:f=$f(S.child.stateNode);break;case 1:f=S.child.stateNode}try{ie(R,f)}catch(mt){Xn(S,S.return,mt)}}break;case 26:if(ms){Ga(f,S),R&512&&ir(S,S.return);break}case 27:case 5:Ga(f,S),p===null&&R&4&&jf(S),R&512&&ir(S,S.return);break;case 12:Ga(f,S);break;case 13:Ga(f,S),R&4&&Dc(f,S);break;case 22:if(N=S.memoizedState!==null||dl,!N){p=p!==null&&p.memoizedState!==null||Wi;var B=dl,rt=Wi;dl=N,(Wi=p)&&!rt?Us(f,S,(S.subtreeFlags&8772)!==0):Ga(f,S),dl=B,Wi=rt}R&512&&(S.memoizedProps.mode==="manual"?ir(S,S.return):br(S,S.return));break;default:Ga(f,S)}}function ld(f){var p=f.alternate;p!==null&&(f.alternate=null,ld(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&ZS(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Vi(f,p,S){for(S=S.child;S!==null;)Jo(f,p,S),S=S.sibling}function Jo(f,p,S){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(or,S)}catch{}switch(S.tag){case 26:if(ms){Wi||br(S,p),Vi(f,p,S),S.memoizedState?Ic(S.memoizedState):S.stateNode&&ih(S.stateNode);break}case 27:if(fi){Wi||br(S,p);var R=tn,N=An;tn=S.stateNode,Vi(f,p,S),Ku(S.stateNode),tn=R,An=N;break}case 5:Wi||br(S,p);case 6:if(Tr){if(R=tn,N=An,tn=null,Vi(f,p,S),tn=R,An=N,tn!==null)if(An)try{Y0(tn,S.stateNode)}catch(B){Xn(S,p,B)}else try{ov(tn,S.stateNode)}catch(B){Xn(S,p,B)}}else Vi(f,p,S);break;case 18:Tr&&tn!==null&&(An?xd(tn,S.stateNode):l_(tn,S.stateNode));break;case 4:Tr?(R=tn,N=An,tn=S.stateNode.containerInfo,An=!0,Vi(f,p,S),tn=R,An=N):(Fs&&Kl(S.stateNode,S,_d()),Vi(f,p,S));break;case 0:case 11:case 14:case 15:Wi||$o(2,S,p),Wi||$o(4,S,p),Vi(f,p,S);break;case 1:Wi||(br(S,p),R=S.stateNode,typeof R.componentWillUnmount=="function"&&sa(S,p,R)),Vi(f,p,S);break;case 21:Vi(f,p,S);break;case 22:Wi||br(S,p),Wi=(R=Wi)||S.memoizedState!==null,Vi(f,p,S),Wi=R;break;default:Vi(f,p,S)}}function Dc(f,p){if(Gr&&p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{tM(f)}catch(S){Xn(p,p.return,S)}}function Wp(f){switch(f.tag){case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new ti),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new ti),p;default:throw Error(r(435,f.tag))}}function Ns(f,p){var S=Wp(f);p.forEach(function(R){var N=il.bind(null,f,R);S.has(R)||(S.add(R),R.then(N,N))})}function Vr(f,p){var S=p.deletions;if(S!==null)for(var R=0;R<S.length;R++){var N=S[R],B=f,rt=p;if(Tr){var mt=rt;t:for(;mt!==null;){switch(mt.tag){case 27:case 5:tn=mt.stateNode,An=!1;break t;case 3:tn=mt.stateNode.containerInfo,An=!0;break t;case 4:tn=mt.stateNode.containerInfo,An=!0;break t}mt=mt.return}if(tn===null)throw Error(r(160));Jo(B,rt,N),tn=null,An=!1}else Jo(B,rt,N);B=N.alternate,B!==null&&(B.return=null),N.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)Va(p,f),p=p.sibling}function Va(f,p){var S=f.alternate,R=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Vr(p,f),Sr(f),R&4&&($o(3,f,f.return),wa(3,f),$o(5,f,f.return));break;case 1:Vr(p,f),Sr(f),R&512&&(Wi||S===null||br(S,S.return)),R&64&&dl&&(f=f.updateQueue,f!==null&&(R=f.callbacks,R!==null&&(S=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=S===null?R:S.concat(R))));break;case 26:if(ms){var N=Ii;Vr(p,f),Sr(f),R&512&&(Wi||S===null||br(S,S.return)),R&4&&(R=S!==null?S.memoizedState:null,p=f.memoizedState,S===null?p===null?f.stateNode===null?f.stateNode=Sd(N,f.type,f.memoizedProps,f):Md(N,f.type,f.stateNode):f.stateNode=c_(N,p,f.memoizedProps):R!==p?(R===null?S.stateNode!==null&&ih(S.stateNode):Ic(R),p===null?Md(N,f.type,f.stateNode):c_(N,p,f.memoizedProps)):p===null&&f.stateNode!==null&&Oc(f,f.memoizedProps,S.memoizedProps));break}case 27:if(fi&&R&4&&f.alternate===null){N=f.stateNode;var B=f.memoizedProps;try{Zu(N),p_(f.type,B,N,f)}catch(be){Xn(f,f.return,be)}}case 5:if(Vr(p,f),Sr(f),R&512&&(Wi||S===null||br(S,S.return)),Tr){if(f.flags&32){p=f.stateNode;try{lv(p)}catch(be){Xn(f,f.return,be)}}R&4&&f.stateNode!=null&&(p=f.memoizedProps,Oc(f,p,S!==null?S.memoizedProps:p)),R&1024&&(xv=!0)}break;case 6:if(Vr(p,f),Sr(f),R&4&&Tr){if(f.stateNode===null)throw Error(r(162));R=f.memoizedProps,S=S!==null?S.memoizedProps:R,p=f.stateNode;try{G0(p,S,R)}catch(be){Xn(f,f.return,be)}}break;case 3:if(ms?(f_(),N=Ii,Ii=fm(p.containerInfo),Vr(p,f),Ii=N):Vr(p,f),Sr(f),R&4){if(Tr&&Gr&&S!==null&&S.memoizedState.isDehydrated)try{JS(p.containerInfo)}catch(be){Xn(f,f.return,be)}if(Fs){R=p.containerInfo,S=p.pendingChildren;try{nh(R,S)}catch(be){Xn(f,f.return,be)}}}xv&&(xv=!1,Xp(f));break;case 4:ms?(S=Ii,Ii=fm(f.stateNode.containerInfo),Vr(p,f),Sr(f),Ii=S):(Vr(p,f),Sr(f)),R&4&&Fs&&Kl(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Vr(p,f),Sr(f);break;case 13:Vr(p,f),Sr(f),f.child.flags&8192&&f.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Da=Hs()),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,Ns(f,R)));break;case 22:R&512&&(Wi||S===null||br(S,S.return)),N=f.memoizedState!==null;var rt=S!==null&&S.memoizedState!==null,mt=dl,Rt=Wi;if(dl=mt||N,Wi=Rt||rt,Vr(p,f),Wi=Rt,dl=mt,Sr(f),p=f.stateNode,p._current=f,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,R&8192&&(p._visibility=N?p._visibility&-2:p._visibility|1,N&&(p=dl||Wi,S===null||rt||p||Hu(f)),Tr&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){t:if(S=null,Tr)for(p=f;;){if(p.tag===5||ms&&p.tag===26||fi&&p.tag===27){if(S===null){rt=S=p;try{B=rt.stateNode,N?Z0(B):Q0(rt.stateNode,rt.memoizedProps)}catch(be){Xn(rt,rt.return,be)}}}else if(p.tag===6){if(S===null){rt=p;try{var ee=rt.stateNode;N?K0(ee):QS(ee,rt.memoizedProps)}catch(be){Xn(rt,rt.return,be)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break t;for(;p.sibling===null;){if(p.return===null||p.return===f)break t;S===p&&(S=null),p=p.return}S===p&&(S=null),p.sibling.return=p.return,p=p.sibling}}R&4&&(R=f.updateQueue,R!==null&&(S=R.retryQueue,S!==null&&(R.retryQueue=null,Ns(f,S))));break;case 19:Vr(p,f),Sr(f),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,Ns(f,R)));break;case 21:break;default:Vr(p,f),Sr(f)}}function Sr(f){var p=f.flags;if(p&2){try{if(Tr&&(!fi||f.tag!==27)){t:{for(var S=f.return;S!==null;){if(Bu(S)){var R=S;break t}S=S.return}throw Error(r(160))}switch(R.tag){case 27:if(fi){var N=R.stateNode,B=Zl(f);oa(f,B,N);break}case 5:var rt=R.stateNode;R.flags&32&&(lv(rt),R.flags&=-33);var mt=Zl(f);oa(f,mt,rt);break;case 3:case 4:var Rt=R.stateNode.containerInfo,ee=Zl(f);Fu(f,ee,Rt);break;default:throw Error(r(161))}}}catch(be){Xn(f,f.return,be)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function Xp(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;Xp(p),p.tag===5&&p.flags&1024&&rm(p.stateNode),f=f.sibling}}function Ga(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Pc(f,p.alternate,p),p=p.sibling}function Hu(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:$o(4,p,p.return),Hu(p);break;case 1:br(p,p.return);var S=p.stateNode;typeof S.componentWillUnmount=="function"&&sa(p,p.return,S),Hu(p);break;case 26:case 27:case 5:br(p,p.return),Hu(p);break;case 22:br(p,p.return),p.memoizedState===null&&Hu(p);break;default:Hu(p)}f=f.sibling}}function Us(f,p,S){for(S=S&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var R=p.alternate,N=f,B=p,rt=B.flags;switch(B.tag){case 0:case 11:case 15:Us(N,B,S),wa(4,B);break;case 1:if(Us(N,B,S),R=B,N=R.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(ee){Xn(R,R.return,ee)}if(R=B,N=R.updateQueue,N!==null){var mt=R.stateNode;try{var Rt=N.shared.hiddenCallbacks;if(Rt!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Rt.length;N++)pt(Rt[N],mt)}catch(ee){Xn(R,R.return,ee)}}S&&rt&64&&Yl(B),ir(B,B.return);break;case 26:case 27:case 5:Us(N,B,S),S&&R===null&&rt&4&&jf(B),ir(B,B.return);break;case 12:Us(N,B,S);break;case 13:Us(N,B,S),S&&rt&4&&Dc(N,B);break;case 22:B.memoizedState===null&&Us(N,B,S),ir(B,B.return);break;default:Us(N,B,S)}p=p.sibling}}function Vf(f,p){var S=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==S&&(f!=null&&f.refCount++,S!=null&&zu(S))}function uo(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&zu(f))}function pr(f,p,S,R){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)tl(f,p,S,R),p=p.sibling}function tl(f,p,S,R){var N=p.flags;switch(p.tag){case 0:case 11:case 15:pr(f,p,S,R),N&2048&&wa(9,p);break;case 3:pr(f,p,S,R),N&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&zu(f)));break;case 12:if(N&2048){pr(f,p,S,R),f=p.stateNode;try{var B=p.memoizedProps,rt=B.id,mt=B.onPostCommit;typeof mt=="function"&&mt(rt,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Rt){Xn(p,p.return,Rt)}}else pr(f,p,S,R);break;case 23:break;case 22:B=p.stateNode,p.memoizedState!==null?B._visibility&4?pr(f,p,S,R):Mr(f,p):B._visibility&4?pr(f,p,S,R):(B._visibility|=4,mr(f,p,S,R,(p.subtreeFlags&10256)!==0)),N&2048&&Vf(p.alternate,p);break;case 24:pr(f,p,S,R),N&2048&&uo(p.alternate,p);break;default:pr(f,p,S,R)}}function mr(f,p,S,R,N){for(N=N&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var B=f,rt=p,mt=S,Rt=R,ee=rt.flags;switch(rt.tag){case 0:case 11:case 15:mr(B,rt,mt,Rt,N),wa(8,rt);break;case 23:break;case 22:var be=rt.stateNode;rt.memoizedState!==null?be._visibility&4?mr(B,rt,mt,Rt,N):Mr(B,rt):(be._visibility|=4,mr(B,rt,mt,Rt,N)),N&&ee&2048&&Vf(rt.alternate,rt);break;case 24:mr(B,rt,mt,Rt,N),N&&ee&2048&&uo(rt.alternate,rt);break;default:mr(B,rt,mt,Rt,N)}p=p.sibling}}function Mr(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var S=f,R=p,N=R.flags;switch(R.tag){case 22:Mr(S,R),N&2048&&Vf(R.alternate,R);break;case 24:Mr(S,R),N&2048&&uo(R.alternate,R);break;default:Mr(S,R)}p=p.sibling}}function qa(f){if(f.subtreeFlags&Ss)for(f=f.child;f!==null;)Wa(f),f=f.sibling}function Wa(f){switch(f.tag){case 26:qa(f),f.flags&Ss&&(f.memoizedState!==null?d_(Ii,f.memoizedState,f.memoizedProps):Ra(f.type,f.memoizedProps));break;case 5:qa(f),f.flags&Ss&&Ra(f.type,f.memoizedProps);break;case 3:case 4:if(ms){var p=Ii;Ii=fm(f.stateNode.containerInfo),qa(f),Ii=p}else qa(f);break;case 22:f.memoizedState===null&&(p=f.alternate,p!==null&&p.memoizedState!==null?(p=Ss,Ss=16777216,qa(f),Ss=p):qa(f));break;default:qa(f)}}function ku(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function co(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];yn=R,ju(R,f)}ku(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)el(f),f=f.sibling}function el(f){switch(f.tag){case 0:case 11:case 15:co(f),f.flags&2048&&$o(9,f,f.return);break;case 3:co(f);break;case 12:co(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&4&&(f.return===null||f.return.tag!==13)?(p._visibility&=-5,fo(f)):co(f);break;default:co(f)}}function fo(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];yn=R,ju(R,f)}ku(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:$o(8,p,p.return),fo(p);break;case 22:S=p.stateNode,S._visibility&4&&(S._visibility&=-5,fo(p));break;default:fo(p)}f=f.sibling}}function ju(f,p){for(;yn!==null;){var S=yn;switch(S.tag){case 0:case 11:case 15:$o(8,S,p);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var R=S.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:zu(S.memoizedState.cache)}if(R=S.child,R!==null)R.return=S,yn=R;else t:for(S=f;yn!==null;){R=yn;var N=R.sibling,B=R.return;if(ld(R),R===S){yn=null;break t}if(N!==null){N.return=B,yn=N;break t}yn=B}}}function zs(f){var p=z0(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(r(364));return p}if(f=rv(f),f===null)throw Error(r(362));return f.stateNode.current}function ho(f,p){var S=f.tag;switch(p.$$typeof){case hh:if(f.type===p.value)return!0;break;case Gs:t:{for(p=p.value,f=[f,0],S=0;S<f.length;){var R=f[S++],N=R.tag,B=f[S++],rt=p[B];if(N!==5&&N!==26&&N!==27||!th(R)){for(;rt!=null&&ho(R,rt);)B++,rt=p[B];if(B===p.length){p=!0;break t}else for(R=R.child;R!==null;)f.push(R,B),R=R.sibling}}p=!1}return p;case Ri:if((S===5||S===26||S===27)&&H0(f.stateNode,p.value))return!0;break;case pl:if((S===5||S===6||S===26||S===27)&&(f=F0(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case To:if((S===5||S===26||S===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Gf(f){switch(f.$$typeof){case hh:return"<"+(o(f.value)||"Unknown")+">";case Gs:return":has("+(Gf(f)||"")+")";case Ri:return'[role="'+f.value+'"]';case pl:return'"'+f.value+'"';case To:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function la(f,p){var S=[];f=[f,0];for(var R=0;R<f.length;){var N=f[R++],B=N.tag,rt=f[R++],mt=p[rt];if(B!==5&&B!==26&&B!==27||!th(N)){for(;mt!=null&&ho(N,mt);)rt++,mt=p[rt];if(rt===p.length)S.push(N);else for(N=N.child;N!==null;)f.push(N,rt),N=N.sibling}}return S}function Vu(f,p){if(!Yu)throw Error(r(363));f=zs(f),f=la(f,p),p=[],f=Array.from(f);for(var S=0;S<f.length;){var R=f[S++],N=R.tag;if(N===5||N===26||N===27)th(R)||p.push(R.stateNode);else for(R=R.child;R!==null;)f.push(R),R=R.sibling}return p}function Ni(){if((Gn&2)!==0&&In!==0)return In&-In;if(fn.T!==null){var f=ys;return f!==0?f:$t()}return I0()}function qf(){Ts===0&&(Ts=(In&536870912)===0||kn?Y():536870912);var f=_s.current;return f!==null&&(f.flags|=32),Ts}function rr(f,p,S){(f===ei&&li===2||f.cancelPendingCommit!==null)&&(w(f,0),ua(f,In,Ts,!1)),K(f,S),((Gn&2)===0||f!==ei)&&(f===ei&&((Gn&2)===0&&(cu|=S),pi===4&&ua(f,In,Ts,!1)),te(f))}function po(f,p,S){if((Gn&6)!==0)throw Error(r(327));var R=!S&&(p&60)===0&&(p&f.expiredLanes)===0||I(f,p),N=R?Ae(f,p):kt(f,p,!0),B=R;do{if(N===0){Ms&&!R&&ua(f,p,0,!1);break}else if(N===6)ua(f,p,0,!Ws);else{if(S=f.current.alternate,B&&!$l(S)){N=kt(f,p,!1),B=!1;continue}if(N===2){if(B=p,f.errorRecoveryDisabledLanes&B)var rt=0;else rt=f.pendingLanes&-536870913,rt=rt!==0?rt:rt&536870912?536870912:0;if(rt!==0){p=rt;t:{var mt=f;N=$c;var Rt=Gr&&mt.current.memoizedState.isDehydrated;if(Rt&&(w(mt,rt).flags|=256),rt=kt(mt,rt,!1),rt!==2){if(Cr&&!Rt){mt.errorRecoveryDisabledLanes|=B,cu|=B,N=4;break t}B=Xi,Xi=N,B!==null&&Lc(B)}N=rt}if(B=!1,N!==2)continue}}if(N===1){w(f,0),ua(f,p,0,!0);break}t:{switch(R=f,N){case 0:case 1:throw Error(r(345));case 4:if((p&4194176)===p){ua(R,p,Ts,!Ws);break t}break;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(R.finishedWork=S,R.finishedLanes=p,(p&62914560)===p&&(B=Da+300-Hs(),10<B)){if(ua(R,p,Ts,!Ws),F(R,0)!==0)break t;R.timeoutHandle=vr(Nc.bind(null,R,S,Xi,Od,Sm,p,Ts,cu,ml,Ws,2,-0,0),B);break t}Nc(R,S,Xi,Od,Sm,p,Ts,cu,ml,Ws,0,-0,0)}}break}while(!0);te(f)}function Lc(f){Xi===null?Xi=f:Xi.push.apply(Xi,f)}function Nc(f,p,S,R,N,B,rt,mt,Rt,ee,be,Ce,Ue){var _n=p.subtreeFlags;if((_n&8192||(_n&16785408)===16785408)&&(nv(),Wa(p),p=yr(),p!==null)){f.cancelPendingCommit=p(Aa.bind(null,f,S,R,N,rt,mt,Rt,1,Ce,Ue)),ua(f,B,rt,!ee);return}Aa(f,S,R,N,rt,mt,Rt,be,Ce,Ue)}function $l(f){for(var p=f;;){var S=p.tag;if((S===0||S===11||S===15)&&p.flags&16384&&(S=p.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var R=0;R<S.length;R++){var N=S[R],B=N.getSnapshot;N=N.value;try{if(!Za(B(),N))return!1}catch{return!1}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ua(f,p,S,R){p&=~Rd,p&=~cu,f.suspendedLanes|=p,f.pingedLanes&=~p,R&&(f.warmLanes|=p),R=f.expirationTimes;for(var N=p;0<N;){var B=31-Oa(N),rt=1<<B;R[B]=-1,N&=~rt}S!==0&&lt(f,S,p)}function c(){return(Gn&6)===0?(Le(0),!1):!0}function y(){if(nn!==null){if(li===0)var f=nn.return;else f=nn,bs=Eo=null,nt(f),tc=null,ec=0,f=nn;for(;f!==null;)qp(f.alternate,f),f=f.return;nn=null}}function w(f,p){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;S!==Wu&&(f.timeoutHandle=Wu,nm(S)),S=f.cancelPendingCommit,S!==null&&(f.cancelPendingCommit=null,S()),y(),ei=f,nn=S=Xa(f.current,null),In=p,li=0,fa=null,Ws=!1,Ms=I(f,p),Cr=!1,ml=Ts=Rd=cu=Es=pi=0,Xi=$c=null,Sm=!1,(p&8)!==0&&(p|=p&32);var R=f.entangledLanes;if(R!==0)for(f=f.entanglements,R&=p;0<R;){var N=31-Oa(R),B=1<<N;p|=f[N],R&=~B}return ha=p,Ht(),S}function U(f,p){Rn=null,fn.H=qi,p===lh?(p=we(),li=3):p===Ad?(p=we(),li=4):li=p===xm?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,fa=p,nn===null&&(pi=1,wn(f,yt(p,f.current)))}function k(){var f=_s.current;return f===null?!0:(In&4194176)===In?hi===null:(In&62914560)===In||(In&536870912)!==0?f===hi:!1}function J(){var f=fn.H;return fn.H=qi,f===null?qi:f}function ft(){var f=fn.A;return fn.A=fh,f}function Ct(){pi=4,Ws||(In&4194176)!==In&&_s.current!==null||(Ms=!0),(Es&134217727)===0&&(cu&134217727)===0||ei===null||ua(ei,In,Ts,!1)}function kt(f,p,S){var R=Gn;Gn|=2;var N=J(),B=ft();(ei!==f||In!==p)&&(Od=null,w(f,p)),p=!1;var rt=pi;t:do try{if(li!==0&&nn!==null){var mt=nn,Rt=fa;switch(li){case 8:y(),rt=6;break t;case 3:case 2:case 6:_s.current===null&&(p=!0);var ee=li;if(li=0,fa=null,Qn(f,mt,Rt,ee),S&&Ms){rt=0;break t}break;default:ee=li,li=0,fa=null,Qn(f,mt,Rt,ee)}}ce(),rt=pi;break}catch(be){U(f,be)}while(!0);return p&&f.shellSuspendCounter++,bs=Eo=null,Gn=R,fn.H=N,fn.A=B,nn===null&&(ei=null,In=0,Ht()),rt}function ce(){for(;nn!==null;)Ge(nn)}function Ae(f,p){var S=Gn;Gn|=2;var R=J(),N=ft();ei!==f||In!==p?(Od=null,dh=Hs()+500,w(f,p)):Ms=I(f,p);t:do try{if(li!==0&&nn!==null){p=nn;var B=fa;e:switch(li){case 1:li=0,fa=null,Qn(f,p,B,1);break;case 2:if(_e(B)){li=0,fa=null,on(p);break}p=function(){li===2&&ei===f&&(li=7),te(f)},B.then(p,p);break t;case 3:li=7;break t;case 4:li=5;break t;case 7:_e(B)?(li=0,fa=null,on(p)):(li=0,fa=null,Qn(f,p,B,7));break;case 5:var rt=null;switch(nn.tag){case 26:rt=nn.memoizedState;case 5:case 27:var mt=nn,Rt=mt.type,ee=mt.pendingProps;if(rt?Bc(rt):im(Rt,ee)){li=0,fa=null;var be=mt.sibling;if(be!==null)nn=be;else{var Ce=mt.return;Ce!==null?(nn=Ce,_i(Ce)):nn=null}break e}}li=0,fa=null,Qn(f,p,B,5);break;case 6:li=0,fa=null,Qn(f,p,B,6);break;case 8:y(),pi=6;break t;default:throw Error(r(462))}}Ie();break}catch(Ue){U(f,Ue)}while(!0);return bs=Eo=null,fn.H=R,fn.A=N,Gn=S,nn!==null?0:(ei=null,In=0,Ht(),pi)}function Ie(){for(;nn!==null&&!v_();)Ge(nn)}function Ge(f){var p=Ac(f.alternate,f,ha);f.memoizedProps=f.pendingProps,p===null?_i(f):nn=p}function on(f){var p=f,S=p.alternate;switch(p.tag){case 15:case 0:p=kp(S,p,p.pendingProps,p.type,void 0,In);break;case 11:p=kp(S,p,p.pendingProps,p.type.render,p.ref,In);break;case 5:nt(p);default:qp(S,p),p=nn=cd(p,ha),p=Ac(S,p,ha)}f.memoizedProps=f.pendingProps,p===null?_i(f):nn=p}function Qn(f,p,S,R){bs=Eo=null,nt(p),tc=null,ec=0;var N=p.return;try{if(Yg(f,N,p,S,In)){pi=1,wn(f,yt(S,f.current)),nn=null;return}}catch(B){if(N!==null)throw nn=N,B;pi=1,wn(f,yt(S,f.current)),nn=null;return}p.flags&32768?(kn||R===1?f=!0:Ms||(In&536870912)!==0?f=!1:(Ws=f=!0,(R===2||R===3||R===6)&&(R=_s.current,R!==null&&R.tag===13&&(R.flags|=16384))),Er(p,f)):_i(p)}function _i(f){var p=f;do{if((p.flags&32768)!==0){Er(p,Ws);return}f=p.return;var S=Gp(p.alternate,p,ha);if(S!==null){nn=S;return}if(p=p.sibling,p!==null){nn=p;return}nn=p=f}while(p!==null);pi===0&&(pi=5)}function Er(f,p){do{var S=od(f.alternate,f);if(S!==null){S.flags&=32767,nn=S;return}if(S=f.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!p&&(f=f.sibling,f!==null)){nn=f;return}nn=f=S}while(f!==null);pi=6,nn=null}function Aa(f,p,S,R,N,B,rt,mt,Rt,ee){var be=fn.T,Ce=iu();try{ca(2),fn.T=null,Yp(f,p,S,R,Ce,N,B,rt,mt,Rt,ee)}finally{fn.T=be,ca(Ce)}}function Yp(f,p,S,R,N,B,rt,mt){do hs();while(gl!==null);if((Gn&6)!==0)throw Error(r(327));var Rt=f.finishedWork;if(R=f.finishedLanes,Rt===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Rt===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var ee=Rt.lanes|Rt.childLanes;if(ee|=So,st(f,R,ee,B,rt,mt),f===ei&&(nn=ei=null,In=0),(Rt.subtreeFlags&10256)===0&&(Rt.flags&10256)===0||wo||(wo=!0,sc=ee,Mm=S,go(gm,function(){return hs(),null})),S=(Rt.flags&15990)!==0,(Rt.subtreeFlags&15990)!==0||S?(S=fn.T,fn.T=null,B=iu(),ca(2),rt=Gn,Gn|=4,Ql(f,Rt),Va(Rt,f),U0(f.containerInfo),f.current=Rt,Pc(f,Rt.alternate,Rt),pm(),Gn=rt,ca(B),fn.T=S):f.current=Rt,wo?(wo=!1,gl=f,Jc=R):ud(f,ee),ee=f.pendingLanes,ee===0&&(ac=null),X(Rt.stateNode),te(f),p!==null)for(N=f.onRecoverableError,Rt=0;Rt<p.length;Rt++)ee=p[Rt],N(ee.value,{componentStack:ee.stack});return(Jc&3)!==0&&hs(),ee=f.pendingLanes,(R&4194218)!==0&&(ee&42)!==0?f===Em?ph++:(ph=0,Em=f):ph=0,Le(0),null}function ud(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,zu(p)))}function hs(){if(gl!==null){var f=gl,p=sc;sc=0;var S=vt(Jc),R=32>S?32:S;S=fn.T;var N=iu();try{if(ca(R),fn.T=null,gl===null)var B=!1;else{R=Mm,Mm=null;var rt=gl,mt=Jc;if(gl=null,Jc=0,(Gn&6)!==0)throw Error(r(331));var Rt=Gn;if(Gn|=4,el(rt.current),tl(rt,rt.current,mt,R),Gn=Rt,Le(0,!1),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(or,rt)}catch{}B=!0}return B}finally{ca(N),fn.T=S,ud(f,p)}}return!1}function Jl(f,p,S){p=yt(S,p),p=zr(f.stateNode,p,2),f=ye(f,p,2),f!==null&&(K(f,2),te(f))}function Xn(f,p,S){if(f.tag===3)Jl(f,f,S);else for(;p!==null;){if(p.tag===3){Jl(p,f,S);break}else if(p.tag===1){var R=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(ac===null||!ac.has(R))){f=yt(S,f),S=Vl(2),R=ye(p,S,2),R!==null&&(td(S,R,p,f),K(R,2),te(R));break}}p=p.return}}function nl(f,p,S){var R=f.pingCache;if(R===null){R=f.pingCache=new qs;var N=new Set;R.set(p,N)}else N=R.get(p),N===void 0&&(N=new Set,R.set(p,N));N.has(S)||(Cr=!0,N.add(S),f=Ui.bind(null,f,p,S),p.then(f,f))}function Ui(f,p,S){var R=f.pingCache;R!==null&&R.delete(p),f.pingedLanes|=f.suspendedLanes&S,f.warmLanes&=~S,ei===f&&(In&S)===S&&(pi===4||pi===3&&(In&62914560)===In&&300>Hs()-Da?(Gn&2)===0&&w(f,0):Rd|=S,ml===In&&(ml=0)),te(f)}function ds(f,p){p===0&&(p=G()),f=At(f,p),f!==null&&(K(f,p),te(f))}function mo(f){var p=f.memoizedState,S=0;p!==null&&(S=p.retryLane),ds(f,S)}function il(f,p){var S=0;switch(f.tag){case 13:var R=f.stateNode,N=f.memoizedState;N!==null&&(S=N.retryLane);break;case 19:R=f.stateNode;break;case 22:R=f.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(p),ds(f,S)}function go(f,p){return Ed(f,p)}function Uc(f,p,S,R){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gu(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Xa(f,p){var S=f.alternate;return S===null?(S=e(f.tag,p,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=p,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&31457280,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,p=f.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S.refCleanup=f.refCleanup,S}function cd(f,p){f.flags&=31457282;var S=f.alternate;return S===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=S.childLanes,f.lanes=S.lanes,f.child=S.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=S.memoizedProps,f.memoizedState=S.memoizedState,f.updateQueue=S.updateQueue,f.type=S.type,p=S.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function rl(f,p,S,R,N,B){var rt=0;if(R=f,typeof f=="function")Gu(f)&&(rt=1);else if(typeof f=="string")rt=ms&&fi?bd(f,S,wr.current)?26:sl(f)?27:5:ms?bd(f,S,wr.current)?26:5:fi&&sl(f)?27:5;else t:switch(f){case qu:return Gi(S.children,N,B,p);case pd:rt=8,N|=24;break;case $p:return f=e(12,S,p,N|2),f.elementType=$p,f.lanes=B,f;case Jp:return f=e(13,S,p,N),f.elementType=Jp,f.lanes=B,f;case Zf:return f=e(19,S,p,N),f.elementType=Zf,f.lanes=B,f;case Qg:return fd(S,N,B,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case md:case vo:rt=10;break t;case Kg:rt=9;break t;case gd:rt=11;break t;case tm:rt=14;break t;case Bs:rt=16,R=null;break t}rt=29,S=Error(r(130,f===null?"null":typeof f,"")),R=null}return p=e(rt,S,p,N),p.elementType=f,p.type=R,p.lanes=B,p}function Gi(f,p,S,R){return f=e(7,f,R,p),f.lanes=S,f}function fd(f,p,S,R){f=e(22,f,R,p),f.elementType=Qg,f.lanes=S;var N={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var B=N._current;if(B===null)throw Error(r(456));if((N._pendingVisibility&2)===0){var rt=At(B,2);rt!==null&&(N._pendingVisibility|=2,rr(rt,B,2))}},attach:function(){var B=N._current;if(B===null)throw Error(r(456));if((N._pendingVisibility&2)!==0){var rt=At(B,2);rt!==null&&(N._pendingVisibility&=-3,rr(rt,B,2))}}};return f.stateNode=N,f}function Zp(f,p,S){return f=e(6,f,null,p),f.lanes=S,f}function Zg(f,p,S){return p=e(4,f.children!==null?f.children:[],f.key,p),p.lanes=S,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function XS(f,p,S,R,N,B,rt,mt){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Wu,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=j(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.hiddenUpdates=j(null),this.identifierPrefix=R,this.onUncaughtError=N,this.onCaughtError=B,this.onRecoverableError=rt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=mt,this.incompleteTransitions=new Map}function D0(f,p,S,R,N,B,rt,mt,Rt,ee,be,Ce){return f=new XS(f,p,S,rt,mt,Rt,ee,Ce),p=1,B===!0&&(p|=24),B=e(3,null,null,p),f.current=B,B.stateNode=f,p=Zo(),p.refCount++,f.pooledCache=p,p.refCount++,B.memoizedState={element:R,isDehydrated:S,cache:p},Oe(B),f}function gr(f){return f?(f=Qu,f):Qu}function Kp(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=b(p),f=f!==null?M(f):null,f===null?null:$f(f.stateNode)}function Wf(f,p,S,R,N,B){N=gr(N),R.context===null?R.context=N:R.pendingContext=N,R=oe(p),R.payload={element:S},B=B===void 0?null:B,B!==null&&(R.callback=B),S=ye(f,R,p),S!==null&&(rr(S,f,p),De(S,f,p))}function Xf(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<p?S:p}}function hd(f,p){Xf(f,p),(f=f.alternate)&&Xf(f,p)}var Mn={},Yf=Op(),ps=EW(),Qp=Object.assign,YS=Symbol.for("react.element"),dd=Symbol.for("react.transitional.element"),Is=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),pd=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),md=Symbol.for("react.provider"),Kg=Symbol.for("react.consumer"),vo=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),Qg=Symbol.for("react.offscreen"),L0=Symbol.for("react.memo_cache_sentinel"),tu=Symbol.iterator,$g=Symbol.for("react.client.reference"),fn=Yf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,al,eu,zc=!1,Kf=Array.isArray,Jg=t.rendererVersion,vd=t.rendererPackageName,Qf=t.extraDevToolsConfig,$f=t.getPublicInstance,N0=t.getRootHostContext,Jf=t.getChildHostContext,em=t.prepareForCommit,U0=t.resetAfterCommit,tv=t.createInstance,yd=t.appendInitialChild,nu=t.finalizeInitialChildren,En=t.shouldSetTextContent,si=t.createTextInstance,vr=t.scheduleTimeout,nm=t.cancelTimeout,Wu=t.noTimeout,Ca=t.isPrimaryRenderer;t.warnsIfNotActing;var Tr=t.supportsMutation,Fs=t.supportsPersistence,Gr=t.supportsHydration,z0=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var ar=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var ca=t.setCurrentUpdatePriority,iu=t.getCurrentUpdatePriority,I0=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var B0=t.shouldAttemptEagerTransition,ZS=t.detachDeletedInstance;t.requestPostPaintCallback;var ev=t.maySuspendCommit,im=t.preloadInstance,nv=t.startSuspendingCommit,Ra=t.suspendInstance,yr=t.waitForCommitToBeReady,Xu=t.NotPendingTransition,yo=t.HostTransitionContext,rm=t.resetFormInstance;t.bindToConsole;var iv=t.supportsMicrotasks,ru=t.scheduleMicrotask,Yu=t.supportsTestSelectors,rv=t.findFiberRoot,av=t.getBoundingRect,F0=t.getTextContent,th=t.isHiddenSubtree,H0=t.matchAccessibilityRole,k0=t.setFocusIfFocusable,j0=t.setupIntersectionObserver,V0=t.appendChild,sv=t.appendChildToContainer,G0=t.commitTextUpdate,KS=t.commitMount,q0=t.commitUpdate,W0=t.insertBefore,X0=t.insertInContainerBefore,ov=t.removeChild,Y0=t.removeChildFromContainer,lv=t.resetTextContent,Z0=t.hideInstance,K0=t.hideTextInstance,Q0=t.unhideInstance,QS=t.unhideTextInstance,$0=t.clearContainer,eh=t.cloneInstance,_d=t.createContainerChildSet,uv=t.appendChildToContainerChildSet,am=t.finalizeContainerChildren,nh=t.replaceContainerChildren,cv=t.cloneHiddenInstance,fv=t.cloneHiddenTextInstance,sm=t.isSuspenseInstancePending,om=t.isSuspenseInstanceFallback,J0=t.getSuspenseInstanceFallbackErrorDetails,t_=t.registerSuspenseInstanceRetry,hv=t.canHydrateFormStateMarker,e_=t.isFormStateMarkerMatching,dv=t.getNextHydratableSibling,lm=t.getFirstHydratableChild,n_=t.getFirstHydratableChildWithinContainer,i_=t.getFirstHydratableChildWithinSuspenseInstance,$S=t.canHydrateInstance,pv=t.canHydrateTextInstance,r_=t.canHydrateSuspenseInstance,a_=t.hydrateInstance,mv=t.hydrateTextInstance,s_=t.hydrateSuspenseInstance,o_=t.getNextHydratableInstanceAfterSuspenseInstance,JS=t.commitHydratedContainer,tM=t.commitHydratedSuspenseInstance,l_=t.clearSuspenseBoundary,xd=t.clearSuspenseBoundaryFromContainer,um=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var cm=t.validateHydratableInstance,u_=t.validateHydratableTextInstance,ms=t.supportsResources,bd=t.isHostHoistableType,fm=t.getHoistableRoot,gv=t.getResource,c_=t.acquireResource,Ic=t.releaseResource,Sd=t.hydrateHoistable,Md=t.mountHoistable,ih=t.unmountHoistable,hm=t.createHoistableInstance,f_=t.prepareToCommitHoistables,h_=t.mayResourceSuspendCommit,Bc=t.preloadResource,d_=t.suspendResource,fi=t.supportsSingletons,_o=t.resolveSingletonInstance,Zu=t.clearSingleton,p_=t.acquireSingletonInstance,Ku=t.releaseSingletonInstance,sl=t.isHostSingletonType,sr=[],au=-1,Qu={},Oa=Math.clz32?Math.clz32:P,m_=Math.log,g_=Math.LN2,ol=128,Fc=4194304,Ed=ps.unstable_scheduleCallback,dm=ps.unstable_cancelCallback,v_=ps.unstable_shouldYield,pm=ps.unstable_requestPaint,Hs=ps.unstable_now,mm=ps.unstable_ImmediatePriority,y_=ps.unstable_UserBlockingPriority,gm=ps.unstable_NormalPriority,eM=ps.unstable_IdlePriority,__=ps.log,Ir=ps.unstable_setDisableYieldValue,or=null,Ya=null,Za=typeof Object.is=="function"?Object.is:tt,vv=new WeakMap,Hc=[],kc=0,jc=null,rh=0,gs=[],vs=0,$u=null,xo=1,bo="",wr=T(null),ah=T(null),ll=T(null),Vc=T(null),qr=null,Wr=null,kn=!1,ks=null,Br=!1,Td=Error(r(519)),js=[],Gc=0,So=0,wd=null,su=null,qc=!1,xi=!1,yv=!1,sh=0,oh=null,Wc=0,ys=0,Xc=null,ou=!1,Yc=!1,ul=Object.prototype.hasOwnProperty,lh=Error(r(460)),Ad=Error(r(474)),Cd={then:function(){}},Ju=null,tc=null,ec=0,nc=ci(!0),cl=ci(!1),bi=T(null),uh=T(0),_s=T(null),hi=null,Ar=T(0),lu=0,Rn=null,en=null,Vn=null,Vs=!1,Zc=!1,ic=!1,vm=0,Kc=0,Fr=null,Mo=0,ym=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},qi={readContext:nr,use:Tt,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri};qi.useCacheRefresh=ri,qi.useMemoCache=ri,qi.useHostTransitionStatus=ri,qi.useFormState=ri,qi.useActionState=ri,qi.useOptimistic=ri;var rc={readContext:nr,use:Tt,useCallback:function(f,p){return St().memoizedState=[f,p===void 0?null:p],f},useContext:nr,useEffect:Cu,useImperativeHandle:function(f,p,S){S=S!=null?S.concat([f]):null,Il(4194308,4,Ru.bind(null,p,f),S)},useLayoutEffect:function(f,p){return Il(4194308,4,f,p)},useInsertionEffect:function(f,p){Il(4,2,f,p)},useMemo:function(f,p){var S=St();p=p===void 0?null:p;var R=f();if(ic){it(!0);try{f()}finally{it(!1)}}return S.memoizedState=[R,p],R},useReducer:function(f,p,S){var R=St();if(S!==void 0){var N=S(p);if(ic){it(!0);try{S(p)}finally{it(!1)}}}else N=p;return R.memoizedState=R.baseState=N,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:N},R.queue=f,f=f.dispatch=Ou.bind(null,Rn,f),[R.memoizedState,f]},useRef:function(f){var p=St();return f={current:f},p.memoizedState=f},useState:function(f){f=cn(f);var p=f.queue,S=kl.bind(null,Rn,p);return p.dispatch=S,[f.memoizedState,S]},useDebugValue:no,useDeferredValue:function(f,p){var S=St();return sn(S,f,p)},useTransition:function(){var f=cn(!1);return f=jn.bind(null,Rn,f.queue,!0,!1),St().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,S){var R=Rn,N=St();if(kn){if(S===void 0)throw Error(r(407));S=S()}else{if(S=p(),ei===null)throw Error(r(349));(In&60)!==0||Be(R,p,S)}N.memoizedState=S;var B={value:S,getSnapshot:p};return N.queue=B,Cu(Pn.bind(null,R,B,f),[f]),R.flags|=2048,Ci(9,vn.bind(null,R,B,S,p),{destroy:void 0},null),S},useId:function(){var f=St(),p=ei.identifierPrefix;if(kn){var S=bo,R=xo;S=(R&~(1<<32-Oa(R)-1)).toString(32)+S,p=":"+p+"R"+S,S=vm++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=Mo++,p=":"+p+"r"+S.toString(32)+":";return f.memoizedState=p},useCacheRefresh:function(){return St().memoizedState=ro.bind(null,Rn)}};rc.useMemoCache=ge,rc.useHostTransitionStatus=Hl,rc.useFormState=Nr,rc.useActionState=Nr,rc.useOptimistic=function(f){var p=St();p.memoizedState=p.baseState=f;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=S,p=ja.bind(null,Rn,!0,S),S.dispatch=p,[f,p]};var Pa={readContext:nr,use:Tt,useCallback:io,useContext:nr,useEffect:Mc,useImperativeHandle:Fl,useInsertionEffect:Ec,useLayoutEffect:Bl,useMemo:Jh,useReducer:Ne,useRef:Au,useState:function(){return Ne(Se)},useDebugValue:no,useDeferredValue:function(f,p){var S=Ot();return ka(S,en.memoizedState,f,p)},useTransition:function(){var f=Ne(Se)[0],p=Ot().memoizedState;return[typeof f=="boolean"?f:Bt(f),p]},useSyncExternalStore:Ze,useId:qo};Pa.useCacheRefresh=fs,Pa.useMemoCache=ge,Pa.useHostTransitionStatus=Hl,Pa.useFormState=ji,Pa.useActionState=ji,Pa.useOptimistic=function(f,p){var S=Ot();return Ve(S,en,f,p)};var xs={readContext:nr,use:Tt,useCallback:io,useContext:nr,useEffect:Mc,useImperativeHandle:Fl,useInsertionEffect:Ec,useLayoutEffect:Bl,useMemo:Jh,useReducer:We,useRef:Au,useState:function(){return We(Se)},useDebugValue:no,useDeferredValue:function(f,p){var S=Ot();return en===null?sn(S,f,p):ka(S,en.memoizedState,f,p)},useTransition:function(){var f=We(Se)[0],p=Ot().memoizedState;return[typeof f=="boolean"?f:Bt(f),p]},useSyncExternalStore:Ze,useId:qo};xs.useCacheRefresh=fs,xs.useMemoCache=ge,xs.useHostTransitionStatus=Hl,xs.useFormState=Ma,xs.useActionState=Ma,xs.useOptimistic=function(f,p){var S=Ot();return en!==null?Ve(S,en,f,p):(S.baseState=f,[f,S.queue.dispatch])};var fl={isMounted:function(f){return(f=f._reactInternals)?v(f)===f:!1},enqueueSetState:function(f,p,S){f=f._reactInternals;var R=Ni(),N=oe(R);N.payload=p,S!=null&&(N.callback=S),p=ye(f,N,R),p!==null&&(rr(p,f,R),De(p,f,R))},enqueueReplaceState:function(f,p,S){f=f._reactInternals;var R=Ni(),N=oe(R);N.tag=1,N.payload=p,S!=null&&(N.callback=S),p=ye(f,N,R),p!==null&&(rr(p,f,R),De(p,f,R))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var S=Ni(),R=oe(S);R.tag=2,p!=null&&(R.callback=p),p=ye(f,R,S),p!==null&&(rr(p,f,S),De(p,f,S))}},_m=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},xm=Error(r(461)),di=!1,bm={dehydrated:null,treeContext:null,retryLane:0},uu=T(null),Eo=null,bs=null,ch=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(S,R){f.push(R)}};this.abort=function(){p.aborted=!0,f.forEach(function(S){return S()})}},x_=ps.unstable_scheduleCallback,b_=ps.unstable_NormalPriority,Si={$$typeof:vo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},_v=fn.S;fn.S=function(f,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&It(f,p),_v!==null&&_v(f,p)};var hl=T(null),dl=!1,Wi=!1,xv=!1,ti=typeof WeakSet=="function"?WeakSet:Set,yn=null,Un=!1,tn=null,An=!1,Ii=null,Ss=8192,fh={getCacheForType:function(f){var p=nr(Si),S=p.data.get(f);return S===void 0&&(S=f(),p.data.set(f,S)),S}},hh=0,Gs=1,Ri=2,To=3,pl=4;if(typeof Symbol=="function"&&Symbol.for){var Qc=Symbol.for;hh=Qc("selector.component"),Gs=Qc("selector.has_pseudo_class"),Ri=Qc("selector.role"),To=Qc("selector.test_id"),pl=Qc("selector.text")}var qs=typeof WeakMap=="function"?WeakMap:Map,Gn=0,ei=null,nn=null,In=0,li=0,fa=null,Ws=!1,Ms=!1,Cr=!1,ha=0,pi=0,Es=0,cu=0,Rd=0,Ts=0,ml=0,$c=null,Xi=null,Sm=!1,Da=0,dh=1/0,Od=null,ac=null,wo=!1,gl=null,Jc=0,sc=0,Mm=null,ph=0,Em=null;return Mn.attemptContinuousHydration=function(f){if(f.tag===13){var p=At(f,67108864);p!==null&&rr(p,f,67108864),hd(f,67108864)}},Mn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=Ni(),S=At(f,p);S!==null&&rr(S,f,p),hd(f,p)}},Mn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=z(f.pendingLanes);if(p!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;p;){var S=1<<31-Oa(p);f.entanglements[1]|=S,p&=~S}te(f),(Gn&6)===0&&(dh=Hs()+500,Le(0))}}break;case 13:p=At(f,2),p!==null&&rr(p,f,2),c(),hd(f,2)}},Mn.batchedUpdates=function(f,p){return f(p)},Mn.createComponentSelector=function(f){return{$$typeof:hh,value:f}},Mn.createContainer=function(f,p,S,R,N,B,rt,mt,Rt,ee){return D0(f,p,!1,null,S,R,B,rt,mt,Rt,ee,null)},Mn.createHasPseudoClassSelector=function(f){return{$$typeof:Gs,value:f}},Mn.createHydrationContainer=function(f,p,S,R,N,B,rt,mt,Rt,ee,be,Ce,Ue){return f=D0(S,R,!0,f,N,B,mt,Rt,ee,be,Ce,Ue),f.context=gr(null),S=f.current,R=Ni(),N=oe(R),N.callback=p??null,ye(S,N,R),f.current.lanes=R,K(f,R),te(f),f},Mn.createPortal=function(f,p,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:R==null?null:""+R,children:f,containerInfo:p,implementation:S}},Mn.createRoleSelector=function(f){return{$$typeof:Ri,value:f}},Mn.createTestNameSelector=function(f){return{$$typeof:To,value:f}},Mn.createTextSelector=function(f){return{$$typeof:pl,value:f}},Mn.defaultOnCaughtError=function(f){console.error(f)},Mn.defaultOnRecoverableError=function(f){_m(f)},Mn.defaultOnUncaughtError=function(f){_m(f)},Mn.deferredUpdates=function(f){var p=fn.T,S=iu();try{return ca(32),fn.T=null,f()}finally{ca(S),fn.T=p}},Mn.discreteUpdates=function(f,p,S,R,N){var B=fn.T,rt=iu();try{return ca(2),fn.T=null,f(p,S,R,N)}finally{ca(rt),fn.T=B,Gn===0&&(dh=Hs()+500)}},Mn.findAllNodes=Vu,Mn.findBoundingRects=function(f,p){if(!Yu)throw Error(r(363));p=Vu(f,p),f=[];for(var S=0;S<p.length;S++)f.push(av(p[S]));for(p=f.length-1;0<p;p--){S=f[p];for(var R=S.x,N=R+S.width,B=S.y,rt=B+S.height,mt=p-1;0<=mt;mt--)if(p!==mt){var Rt=f[mt],ee=Rt.x,be=ee+Rt.width,Ce=Rt.y,Ue=Ce+Rt.height;if(R>=ee&&B>=Ce&&N<=be&&rt<=Ue){f.splice(p,1);break}else if(R!==ee||S.width!==Rt.width||Ue<B||Ce>rt){if(!(B!==Ce||S.height!==Rt.height||be<R||ee>N)){ee>R&&(Rt.width+=ee-R,Rt.x=R),be<N&&(Rt.width=N-ee),f.splice(p,1);break}}else{Ce>B&&(Rt.height+=Ce-B,Rt.y=B),Ue<rt&&(Rt.height=rt-Ce),f.splice(p,1);break}}}return f},Mn.findHostInstance=Kp,Mn.findHostInstanceWithNoPortals=function(f){return f=b(f),f=f!==null?A(f):null,f===null?null:$f(f.stateNode)},Mn.findHostInstanceWithWarning=function(f){return Kp(f)},Mn.flushPassiveEffects=hs,Mn.flushSyncFromReconciler=function(f){var p=Gn;Gn|=1;var S=fn.T,R=iu();try{if(ca(2),fn.T=null,f)return f()}finally{ca(R),fn.T=S,Gn=p,(Gn&6)===0&&Le(0)}},Mn.flushSyncWork=c,Mn.focusWithin=function(f,p){if(!Yu)throw Error(r(363));for(f=zs(f),p=la(f,p),p=Array.from(p),f=0;f<p.length;){var S=p[f++],R=S.tag;if(!th(S)){if((R===5||R===26||R===27)&&k0(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},Mn.getFindAllNodesFailureDescription=function(f,p){if(!Yu)throw Error(r(363));var S=0,R=[];f=[zs(f),0];for(var N=0;N<f.length;){var B=f[N++],rt=B.tag,mt=f[N++],Rt=p[mt];if((rt!==5&&rt!==26&&rt!==27||!th(B))&&(ho(B,Rt)&&(R.push(Gf(Rt)),mt++,mt>S&&(S=mt)),mt<p.length))for(B=B.child;B!==null;)f.push(B,mt),B=B.sibling}if(S<p.length){for(f=[];S<p.length;S++)f.push(Gf(p[S]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},Mn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return $f(f.child.stateNode);default:return f.child.stateNode}},Mn.injectIntoDevTools=function(){var f={bundleType:0,version:Jg,rendererPackageName:vd,currentDispatcherRef:fn,findFiberByHostInstance:z0,reconcilerVersion:"19.0.0"};if(Qf!==null&&(f.rendererConfig=Qf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{or=p.inject(f),Ya=p}catch{}f=!!p.checkDCE}}return f},Mn.isAlreadyRendering=function(){return!1},Mn.observeVisibleRects=function(f,p,S,R){if(!Yu)throw Error(r(363));f=Vu(f,p);var N=j0(f,S,R).disconnect;return{disconnect:function(){N()}}},Mn.shouldError=function(){return null},Mn.shouldSuspend=function(){return!1},Mn.startHostTransition=function(f,p,S,R){if(f.tag!==5)throw Error(r(476));var N=cs(f).queue;jn(f,N,p,Xu,S===null?i:function(){var B=cs(f).next.queue;return yi(f,B,{},Ni()),S(R)})},Mn.updateContainer=function(f,p,S,R){var N=p.current,B=Ni();return Wf(N,B,f,p,S,R),B},Mn.updateContainerSync=function(f,p,S,R){return p.tag===0&&hs(),Wf(p.current,2,f,p,S,R),2},Mn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(CE)),CE.exports}var rD;function wW(){return rD||(rD=1,AE.exports=TW()),AE.exports}var AW=wW();const CW=Ll(AW);var PE={exports:{}},DE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function RW(){return aD||(aD=1,(function(n){function t(X,it){var tt=X.length;X.push(it);t:for(;0<tt;){var yt=tt-1>>>1,Q=X[yt];if(0<r(Q,it))X[yt]=it,X[tt]=Q,tt=yt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var it=X[0],tt=X.pop();if(tt!==it){X[0]=tt;t:for(var yt=0,Q=X.length,ut=Q>>>1;yt<ut;){var gt=2*(yt+1)-1,Lt=X[gt],Dt=gt+1,Zt=X[Dt];if(0>r(Lt,tt))Dt<Q&&0>r(Zt,Lt)?(X[yt]=Zt,X[Dt]=tt,yt=Dt):(X[yt]=Lt,X[gt]=tt,yt=gt);else if(Dt<Q&&0>r(Zt,tt))X[yt]=Zt,X[Dt]=tt,yt=Dt;else break t}}return it}function r(X,it){var tt=X.sortIndex-it.sortIndex;return tt!==0?tt:X.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var h=[],d=[],g=1,v=null,_=3,b=!1,M=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var it=e(d);it!==null;){if(it.callback===null)i(d);else if(it.startTime<=X)i(d),it.sortIndex=it.expirationTime,t(h,it);else break;it=e(d)}}function z(X){if(A=!1,P(X),!M)if(e(h)!==null)M=!0,dt();else{var it=e(d);it!==null&&vt(z,it.startTime-X)}}var F=!1,I=-1,q=5,Y=-1;function G(){return!(n.unstable_now()-Y<q)}function j(){if(F){var X=n.unstable_now();Y=X;var it=!0;try{t:{M=!1,A&&(A=!1,E(I),I=-1),b=!0;var tt=_;try{e:{for(P(X),v=e(h);v!==null&&!(v.expirationTime>X&&G());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,_=v.priorityLevel;var Q=yt(v.expirationTime<=X);if(X=n.unstable_now(),typeof Q=="function"){v.callback=Q,P(X),it=!0;break e}v===e(h)&&i(h),P(X)}else i(h);v=e(h)}if(v!==null)it=!0;else{var ut=e(d);ut!==null&&vt(z,ut.startTime-X),it=!1}}break t}finally{v=null,_=tt,b=!1}it=void 0}}finally{it?K():F=!1}}}var K;if(typeof O=="function")K=function(){O(j)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,lt=st.port2;st.port1.onmessage=j,K=function(){lt.postMessage(null)}}else K=function(){T(j,0)};function dt(){F||(F=!0,K())}function vt(X,it){I=T(function(){X(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){M||b||(M=!0,dt())},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var it=3;break;default:it=_}var tt=_;_=it;try{return X()}finally{_=tt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,it){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var tt=_;_=X;try{return it()}finally{_=tt}},n.unstable_scheduleCallback=function(X,it,tt){var yt=n.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?yt+tt:yt):tt=yt,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=tt+Q,X={id:g++,callback:it,priorityLevel:X,startTime:tt,expirationTime:Q,sortIndex:-1},tt>yt?(X.sortIndex=tt,t(d,X),e(h)===null&&X===e(d)&&(A?(E(I),I=-1):A=!0,vt(z,tt-yt))):(X.sortIndex=Q,t(h,X),M||b||(M=!0,dt())),X},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(X){var it=_;return function(){var tt=_;_=it;try{return X.apply(this,arguments)}finally{_=tt}}}})(DE)),DE}var sD;function OW(){return sD||(sD=1,PE.exports=RW()),PE.exports}var oD=OW();function SC(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const r=SC(i,t,e);if(r)return r;i=t?null:i.sibling}}function CI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const MC=CI(H.createContext(null));class RI extends H.Component{render(){return H.createElement(MC.Provider,{value:this._reactInternals},this.props.children)}}function OI(){const n=H.useContext(MC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=H.useId();return H.useMemo(()=>{for(const e of[n,n?.alternate]){if(!e)continue;const i=SC(e,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===t)return!0;a=a.next}});if(i)return i}},[n,t])}const PW=Symbol.for("react.context"),DW=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===PW;function LW(){const n=OI(),[t]=H.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;DW(i)&&i!==MC&&!t.has(i)&&t.set(i,H.use(CI(i))),e=e.return}return t}function NW(){const n=LW();return H.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>H.createElement(t,null,H.createElement(e.Provider,{...i,value:n.get(e)})),t=>H.createElement(RI,{...t})),[n])}function PI(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const DI=n=>n&&n.isOrthographicCamera,UW=n=>n&&n.hasOwnProperty("current"),zW=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),h0=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function LI(n){const t=H.useRef(n);return h0(()=>void(t.current=n),[n]),t}function IW(){const n=OI(),t=NW();return H.useMemo(()=>({children:e})=>{const r=!!SC(n,!0,a=>a.type===H.StrictMode)?H.StrictMode:H.Fragment;return V.jsx(r,{children:V.jsx(t,{children:e})})},[n,t])}function BW({set:n}){return h0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const FW=(n=>(n=class extends H.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function NI(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function Qm(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const Yi={obj:n=>n===Object(n)&&!Yi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(Yi.str(n)||Yi.num(n)||Yi.boo(n))return n===t;const a=Yi.obj(n);if(a&&i==="reference")return n===t;const o=Yi.arr(n);if(o&&e==="reference")return n===t;if((o||a)&&n===t)return!0;let l;for(l in n)if(!(l in t))return!1;if(a&&e==="shallow"&&i==="shallow"){for(l in r?t:n)if(!Yi.equ(n[l],t[l],{strict:r,objects:"reference"}))return!1}else for(l in r?t:n)if(n[l]!==t[l])return!1;if(Yi.und(l)){if(o&&n.length===0&&t.length===0||a&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function HW(n){const t={nodes:{},materials:{},meshes:{}};return n&&n.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}function kW(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];e?.type!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const UI=["children","key","ref"];function jW(n){const t={};for(const e in n)UI.includes(e)||(t[e]=n[e]);return t}function Zb(n,t,e,i){const r=n;let a=r?.__r3f;return a||(a={root:t,type:e,parent:null,children:[],props:jW(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function ky(n,t){let e=n[t];if(!t.includes("-"))return{root:n,key:t,target:e};e=n;for(const r of t.split("-")){var i;t=r,n=e,e=(i=e)==null?void 0:i[t]}return{root:n,key:t,target:e}}const lD=/-\d+$/;function Kb(n,t){if(Yi.str(t.props.attach)){if(lD.test(t.props.attach)){const r=t.props.attach.replace(lD,""),{root:a,key:o}=ky(n.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:e,key:i}=ky(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else Yi.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function Qb(n,t){if(Yi.str(t.props.attach)){const{root:e,key:i}=ky(n.object,t.props.attach),r=t.previousAttach;r===void 0?delete e[i]:e[i]=r}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const Nw=[...UI,"args","dispose","attach","object","onUpdate","dispose"],uD=new Map;function VW(n){let t=uD.get(n.constructor);try{t||(t=new n.constructor,uD.set(n.constructor,t))}catch{}return t}function GW(n,t){const e={};for(const i in t)if(!Nw.includes(i)&&!Yi.equ(t[i],n.props[i])){e[i]=t[i];for(const r in t)r.startsWith(`${i}-`)&&(e[r]=t[r])}for(const i in n.props){if(Nw.includes(i)||t.hasOwnProperty(i))continue;const{root:r,key:a}=ky(n.object,i);if(r.constructor&&r.constructor.length===0){const o=VW(r);Yi.und(o)||(e[a]=o[a])}else e[a]=0}return e}const qW=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],WW=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Dh(n,t){var e;const i=n.__r3f,r=i&&PI(i).getState(),a=i?.eventCount;for(const l in t){let h=t[l];if(Nw.includes(l))continue;if(i&&WW.test(l)){typeof h=="function"?i.handlers[l]=h:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:d,key:g,target:v}=ky(n,l);if(v instanceof _p&&h instanceof _p)v.mask=h.mask;else if(v instanceof Ee&&zW(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var o;d[g]=h,r&&!r.linear&&qW.includes(g)&&(o=d[g])!=null&&o.isTexture&&d[g].format===is&&d[g].type===Cl&&(d[g].colorSpace=za)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(e=i.object)!=null&&e.isObject3D&&a!==i.eventCount){const l=i.object,h=r.internal.interaction.indexOf(l);h>-1&&r.internal.interaction.splice(h,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Ig(i),n}function Ig(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function XW(n,t){n.manual||(DI(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const Rs=n=>n?.isObject3D;function Rx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function zI(n,t,e,i){const r=e.get(t);r&&(e.delete(t),e.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function YW(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,r)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(r)}),e.capturedMap.forEach((i,r)=>{zI(e.capturedMap,t,i,r)})}function ZW(n){function t(h){const{internal:d}=n.getState(),g=h.offsetX-d.initialClick[0],v=h.offsetY-d.initialClick[1];return Math.round(Math.sqrt(g*g+v*v))}function e(h){return h.filter(d=>["Move","Over","Enter","Out","Leave"].some(g=>{var v;return(v=d.__r3f)==null?void 0:v.handlers["onPointer"+g]}))}function i(h,d){const g=n.getState(),v=new Set,_=[],b=d?d(g.internal.interaction):g.internal.interaction;for(let E=0;E<b.length;E++){const O=Qm(b[E]);O&&(O.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(h,g);function M(E){const O=Qm(E);if(!O||!O.events.enabled||O.raycaster.camera===null)return[];if(O.raycaster.camera===void 0){var P;O.events.compute==null||O.events.compute(h,O,(P=O.previousRoot)==null?void 0:P.getState()),O.raycaster.camera===void 0&&(O.raycaster.camera=null)}return O.raycaster.camera?O.raycaster.intersectObject(E,!0):[]}let A=b.flatMap(M).sort((E,O)=>{const P=Qm(E.object),z=Qm(O.object);return!P||!z?E.distance-O.distance:z.events.priority-P.events.priority||E.distance-O.distance}).filter(E=>{const O=Rx(E);return v.has(O)?!1:(v.add(O),!0)});g.events.filter&&(A=g.events.filter(A,g));for(const E of A){let O=E.object;for(;O;){var T;(T=O.__r3f)!=null&&T.eventCount&&_.push({...E,eventObject:O}),O=O.parent}}if("pointerId"in h&&g.internal.capturedMap.has(h.pointerId))for(let E of g.internal.capturedMap.get(h.pointerId).values())v.has(Rx(E.intersection))||_.push(E.intersection);return _}function r(h,d,g,v){if(h.length){const _={stopped:!1};for(const b of h){let M=Qm(b.object);if(M||b.object.traverseAncestors(A=>{const T=Qm(A);if(T)return M=T,!1}),M){const{raycaster:A,pointer:T,camera:E,internal:O}=M,P=new at(T.x,T.y,0).unproject(E),z=G=>{var j,K;return(j=(K=O.capturedMap.get(G))==null?void 0:K.has(b.eventObject))!=null?j:!1},F=G=>{const j={intersection:b,target:d.target};O.capturedMap.has(G)?O.capturedMap.get(G).set(b.eventObject,j):O.capturedMap.set(G,new Map([[b.eventObject,j]])),d.target.setPointerCapture(G)},I=G=>{const j=O.capturedMap.get(G);j&&zI(O.capturedMap,b.eventObject,j,G)};let q={};for(let G in d){let j=d[G];typeof j!="function"&&(q[G]=j)}let Y={...b,...q,pointer:T,intersections:h,stopped:_.stopped,delta:g,unprojectedPoint:P,ray:A.ray,camera:E,stopPropagation(){const G="pointerId"in d&&O.capturedMap.get(d.pointerId);if((!G||G.has(b.eventObject))&&(Y.stopped=_.stopped=!0,O.hovered.size&&Array.from(O.hovered.values()).find(j=>j.eventObject===b.eventObject))){const j=h.slice(0,h.indexOf(b));a([...j,b])}},target:{hasPointerCapture:z,setPointerCapture:F,releasePointerCapture:I},currentTarget:{hasPointerCapture:z,setPointerCapture:F,releasePointerCapture:I},nativeEvent:d};if(v(Y),_.stopped===!0)break}}}return h}function a(h){const{internal:d}=n.getState();for(const g of d.hovered.values())if(!h.length||!h.find(v=>v.object===g.object&&v.index===g.index&&v.instanceId===g.instanceId)){const _=g.eventObject.__r3f;if(d.hovered.delete(Rx(g)),_!=null&&_.eventCount){const b=_.handlers,M={...g,intersections:h};b.onPointerOut==null||b.onPointerOut(M),b.onPointerLeave==null||b.onPointerLeave(M)}}}function o(h,d){for(let g=0;g<d.length;g++){const v=d[g].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function l(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return d=>{const{internal:g}=n.getState();"pointerId"in d&&g.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(d.pointerId)&&(g.capturedMap.delete(d.pointerId),a([]))})}}return function(g){const{onPointerMissed:v,internal:_}=n.getState();_.lastEvent.current=g;const b=h==="onPointerMove",M=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",T=i(g,b?e:void 0),E=M?t(g):0;h==="onPointerDown"&&(_.initialClick=[g.offsetX,g.offsetY],_.initialHits=T.map(P=>P.eventObject)),M&&!T.length&&E<=2&&(o(g,_.interaction),v&&v(g)),b&&a(T);function O(P){const z=P.eventObject,F=z.__r3f;if(!(F!=null&&F.eventCount))return;const I=F.handlers;if(b){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const q=Rx(P),Y=_.hovered.get(q);Y?Y.stopped&&P.stopPropagation():(_.hovered.set(q,P),I.onPointerOver==null||I.onPointerOver(P),I.onPointerEnter==null||I.onPointerEnter(P))}I.onPointerMove==null||I.onPointerMove(P)}else{const q=I[h];q?(!M||_.initialHits.includes(z))&&(o(g,_.interaction.filter(Y=>!_.initialHits.includes(Y))),q(P)):M&&_.initialHits.includes(z)&&o(g,_.interaction.filter(Y=>!_.initialHits.includes(Y)))}}r(T,g,E,O)}}return{handlePointer:l}}const cD=n=>!!(n!=null&&n.render),II=H.createContext(null),KW=(n,t)=>{const e=yW((l,h)=>{const d=new at,g=new at,v=new at;function _(E=h().camera,O=g,P=h().size){const{width:z,height:F,top:I,left:q}=P,Y=z/F;O.isVector3?v.copy(O):v.set(...O);const G=E.getWorldPosition(d).distanceTo(v);if(DI(E))return{width:z/E.zoom,height:F/E.zoom,top:I,left:q,factor:1,distance:G,aspect:Y};{const j=E.fov*Math.PI/180,K=2*Math.tan(j/2)*G,st=K*(z/F);return{width:st,height:K,top:I,left:q,factor:z/st,distance:G,aspect:Y}}}let b;const M=E=>l(O=>({performance:{...O.performance,current:E}})),A=new Jt;return{set:l,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(E=1)=>n(h(),E),advance:(E,O)=>t(E,O,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new fS,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=h();b&&clearTimeout(b),E.performance.current!==E.performance.min&&M(E.performance.min),b=setTimeout(()=>M(h().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:E=>l(O=>({...O,events:{...O.events,...E}})),setSize:(E,O,P=0,z=0)=>{const F=h().camera,I={width:E,height:O,top:P,left:z};l(q=>({size:I,viewport:{...q.viewport,..._(F,g,I)}}))},setDpr:E=>l(O=>{const P=NI(E);return{viewport:{...O.viewport,dpr:P,initialDpr:O.viewport.initialDpr||P}}}),setFrameloop:(E="always")=>{const O=h().clock;O.stop(),O.elapsedTime=0,E!=="never"&&(O.start(),O.elapsedTime=0),l(()=>({frameloop:E}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(E,O,P)=>{const z=h().internal;return z.priority=z.priority+(O>0?1:0),z.subscribers.push({ref:E,priority:O,store:P}),z.subscribers=z.subscribers.sort((F,I)=>F.priority-I.priority),()=>{const F=h().internal;F!=null&&F.subscribers&&(F.priority=F.priority-(O>0?1:0),F.subscribers=F.subscribers.filter(I=>I.ref!==E))}}}}}),i=e.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return e.subscribe(()=>{const{camera:l,size:h,viewport:d,gl:g,set:v}=e.getState();if(h.width!==r.width||h.height!==r.height||d.dpr!==a){r=h,a=d.dpr,XW(l,h),d.dpr>0&&g.setPixelRatio(d.dpr);const _=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(h.width,h.height,_)}l!==o&&(o=l,v(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(l)}})))}),e.subscribe(l=>n(l)),e};function BI(){const n=H.useContext(II);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function hc(n=e=>e,t){return BI()(n,t)}function Ho(n,t=0){const e=BI(),i=e.getState().internal.subscribe,r=LI(n);return h0(()=>i(r,t,e),[t,i,e]),null}const fD=new WeakMap,QW=n=>{var t;return typeof n=="function"&&(n==null||(t=n.prototype)==null?void 0:t.constructor)===n};function FI(n,t){return function(e,...i){let r;return QW(e)?(r=fD.get(e),r||(r=new e,fD.set(e,r))):r=e,n&&n(r),Promise.all(i.map(a=>new Promise((o,l)=>r.load(a,h=>{Rs(h?.scene)&&Object.assign(h,HW(h.scene)),o(h)},t,h=>l(new Error(`Could not load ${a}: ${h?.message}`))))))}}function d0(n,t,e,i){const r=Array.isArray(t)?t:[t],a=xW(FI(e,i),[n,...r],{equal:Yi.equ});return Array.isArray(t)?a:a[0]}d0.preload=function(n,t,e){const i=Array.isArray(t)?t:[t];return bW(FI(e),[n,...i])};d0.clear=function(n,t){const e=Array.isArray(t)?t:[t];return SW([n,...e])};function $W(n){const t=CW(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version}),t}const HI=0,bg={},JW=/^three(?=[A-Z])/,dS=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let tX=0;const eX=n=>typeof n=="function";function nX(n){if(eX(n)){const t=`${tX++}`;return bg[t]=n,t}else Object.assign(bg,n)}function kI(n,t){const e=dS(n),i=bg[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function iX(n,t,e){var i;return n=dS(n)in bg?n:n.replace(JW,""),kI(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,Zb(t.object,e,n,t)}function rX(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?Qb(n.parent,n):Rs(n.object)&&(n.object.visible=!1),n.isHidden=!0,Ig(n)}}function jI(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?Kb(n.parent,n):Rs(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Ig(n)}}function EC(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var r,a;const o=bg[dS(t.type)];t.object=(r=t.props.object)!=null?r:new o(...(a=t.props.args)!=null?a:[]),t.object.__r3f=t}if(Dh(t.object,t.props),t.props.attach)Kb(n,t);else if(Rs(t.object)&&Rs(n.object)){const o=n.object.children.indexOf(e?.object);if(e&&o!==-1){const l=n.object.children.indexOf(t.object);if(l!==-1){n.object.children.splice(l,1);const h=l<o?o-1:o;n.object.children.splice(h,0,t.object)}else t.object.parent=n.object,n.object.children.splice(o,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})}else n.object.add(t.object)}for(const o of t.children)EC(t,o);Ig(t)}}function LE(n,t){t&&(t.parent=n,n.children.push(t),EC(n,t))}function hD(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),EC(n,t,e)}function VI(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():oD.unstable_scheduleCallback(oD.unstable_IdlePriority,t)}}function Uw(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?Qb(n,t):Rs(t.object)&&Rs(n.object)&&(n.object.remove(t.object),YW(PI(t),t.object));const r=t.props.dispose!==null&&e!==!1;for(let a=t.children.length-1;a>=0;a--){const o=t.children[a];Uw(t,o,r)}t.children.length=0,delete t.object.__r3f,r&&t.type!=="primitive"&&t.object.type!=="Scene"&&VI(t.object),e===void 0&&Ig(t)}function aX(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const eb=[];function sX(){for(const[e]of eb){const i=e.parent;if(i){e.props.attach?Qb(i,e):Rs(e.object)&&Rs(i.object)&&i.object.remove(e.object);for(const r of e.children)r.props.attach?Qb(e,r):Rs(r.object)&&Rs(e.object)&&e.object.remove(r.object)}e.isHidden&&jI(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&VI(e.object)}for(const[e,i,r]of eb){e.props=i;const a=e.parent;if(a){var n,t;const o=bg[dS(e.type)];e.object=(n=e.props.object)!=null?n:new o(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,aX(r,e.object),Dh(e.object,e.props),e.props.attach?Kb(a,e):Rs(e.object)&&Rs(a.object)&&a.object.add(e.object);for(const l of e.children)l.props.attach?Kb(e,l):Rs(l.object)&&Rs(e.object)&&e.object.add(l.object);Ig(e)}}eb.length=0}const NE=()=>{},dD={};let Ox=HI;const oX=0,lX=4,zw=$W({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:iX,removeChild:Uw,appendChild:LE,appendInitialChild:LE,insertBefore:hD,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||LE(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||Uw(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||hD(i,t,e)},getRootHostContext:()=>dD,getChildHostContext:()=>dD,commitUpdate(n,t,e,i,r){var a,o,l;kI(t,i);let h=!1;if((n.type==="primitive"&&e.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=e.args)==null?void 0:o.length)||(l=i.args)!=null&&l.some((g,v)=>{var _;return g!==((_=e.args)==null?void 0:_[v])}))&&(h=!0),h)eb.push([n,{...i},r]);else{const g=GW(n,i);Object.keys(g).length&&(Object.assign(n.props,g),Dh(n.object,g))}(r.sibling===null||(r.flags&lX)===oX)&&sX()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>Zb(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:rX,unhideInstance:jI,createTextInstance:NE,hideTextInstance:NE,unhideTextInstance:NE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(n){Ox=n},getCurrentUpdatePriority(){return Ox},resolveUpdatePriority(){var n;if(Ox!==HI)return Ox;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tb.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return tb.ContinuousEventPriority;default:return tb.DefaultEventPriority}},resetFormInstance(){}}),Sp=new Map,$m={objects:"shallow",strict:!1};function uX(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:r,left:a}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function cX(n){const t=Sp.get(n),e=t?.fiber,i=t?.store;t&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||KW(Fw,mD),o=e||zw.createContainer(a,tb.ConcurrentRoot,null,!1,null,"",r,r,r,null);t||Sp.set(n,{fiber:o,store:a});let l,h,d=!1,g=null;return{async configure(v={}){let _;g=new Promise(ut=>_=ut);let{gl:b,size:M,scene:A,events:T,onCreated:E,shadows:O=!1,linear:P=!1,flat:z=!1,legacy:F=!1,orthographic:I=!1,frameloop:q="always",dpr:Y=[1,2],performance:G,raycaster:j,camera:K,onPointerMissed:st}=v,lt=a.getState(),dt=lt.gl;if(!lt.gl){const ut={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},gt=typeof b=="function"?await b(ut):b;cD(gt)?dt=gt:dt=new MI({...ut,...b}),lt.set({gl:dt})}let vt=lt.raycaster;vt||lt.set({raycaster:vt=new mI});const{params:X,...it}=j||{};if(Yi.equ(it,vt,$m)||Dh(vt,{...it}),Yi.equ(X,vt.params,$m)||Dh(vt,{params:{...vt.params,...X}}),!lt.camera||lt.camera===h&&!Yi.equ(h,K,$m)){h=K;const ut=K?.isCamera,gt=ut?K:I?new _f(0,0,0,0,.1,1e3):new Pr(75,0,.1,1e3);ut||(gt.position.z=5,K&&(Dh(gt,K),gt.manual||("aspect"in K||"left"in K||"right"in K||"bottom"in K||"top"in K)&&(gt.manual=!0,gt.updateProjectionMatrix())),!lt.camera&&!(K!=null&&K.rotation)&&gt.lookAt(0,0,0)),lt.set({camera:gt}),vt.camera=gt}if(!lt.scene){let ut;A!=null&&A.isScene?(ut=A,Zb(ut,a,"",{})):(ut=new KA,Zb(ut,a,"",{}),A&&Dh(ut,A)),lt.set({scene:ut})}T&&!lt.events.handlers&&lt.set({events:T(a)});const tt=uX(n,M);if(Yi.equ(tt,lt.size,$m)||lt.setSize(tt.width,tt.height,tt.top,tt.left),Y&&lt.viewport.dpr!==NI(Y)&&lt.setDpr(Y),lt.frameloop!==q&&lt.setFrameloop(q),lt.onPointerMissed||lt.set({onPointerMissed:st}),G&&!Yi.equ(G,lt.performance,$m)&&lt.set(ut=>({performance:{...ut.performance,...G}})),!lt.xr){var yt;const ut=(Dt,Zt)=>{const _t=a.getState();_t.frameloop!=="never"&&mD(Dt,!0,_t,Zt)},gt=()=>{const Dt=a.getState();Dt.gl.xr.enabled=Dt.gl.xr.isPresenting,Dt.gl.xr.setAnimationLoop(Dt.gl.xr.isPresenting?ut:null),Dt.gl.xr.isPresenting||Fw(Dt)},Lt={connect(){const Dt=a.getState().gl;Dt.xr.addEventListener("sessionstart",gt),Dt.xr.addEventListener("sessionend",gt)},disconnect(){const Dt=a.getState().gl;Dt.xr.removeEventListener("sessionstart",gt),Dt.xr.removeEventListener("sessionend",gt)}};typeof((yt=dt.xr)==null?void 0:yt.addEventListener)=="function"&&Lt.connect(),lt.set({xr:Lt})}if(dt.shadowMap){const ut=dt.shadowMap.enabled,gt=dt.shadowMap.type;if(dt.shadowMap.enabled=!!O,Yi.boo(O))dt.shadowMap.type=uy;else if(Yi.str(O)){var Q;const Lt={basic:TU,percentage:N1,soft:uy,variance:gu};dt.shadowMap.type=(Q=Lt[O])!=null?Q:uy}else Yi.obj(O)&&Object.assign(dt.shadowMap,O);(ut!==dt.shadowMap.enabled||gt!==dt.shadowMap.type)&&(dt.shadowMap.needsUpdate=!0)}return qn.enabled=!F,d||(dt.outputColorSpace=P?Hh:za,dt.toneMapping=z?bu:U1),lt.legacy!==F&&lt.set(()=>({legacy:F})),lt.linear!==P&&lt.set(()=>({linear:P})),lt.flat!==z&&lt.set(()=>({flat:z})),b&&!Yi.fun(b)&&!cD(b)&&!Yi.equ(b,dt,$m)&&Dh(dt,b),l=E,d=!0,_(),this},render(v){return!d&&!g&&this.configure(),g.then(()=>{zw.updateContainer(V.jsx(fX,{store:a,children:v,onCreated:l,rootElement:n}),o,null,()=>{})}),a},unmount(){GI(n)}}}function fX({store:n,children:t,onCreated:e,rootElement:i}){return h0(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),e&&e(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),V.jsx(II.Provider,{value:n,children:t})}function GI(n,t){const e=Sp.get(n),i=e?.fiber;if(i){const r=e?.store.getState();r&&(r.internal.active=!1),zw.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,l,h;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(h=r.gl)!=null&&h.xr&&r.xr.disconnect(),kW(r.scene),Sp.delete(n)}catch{}},500)})}}const hX=new Set,dX=new Set,pX=new Set;function UE(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function yy(n,t){switch(n){case"before":return UE(hX,t);case"after":return UE(dX,t);case"tail":return UE(pX,t)}}let zE,IE;function Iw(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),zE=t.internal.subscribers;for(let r=0;r<zE.length;r++)IE=zE[r],IE.ref.current(IE.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let $b=!1,Bw=!1,BE,pD,Jm;function qI(n){pD=requestAnimationFrame(qI),$b=!0,BE=0,yy("before",n),Bw=!0;for(const e of Sp.values()){var t;Jm=e.store.getState(),Jm.internal.active&&(Jm.frameloop==="always"||Jm.internal.frames>0)&&!((t=Jm.gl.xr)!=null&&t.isPresenting)&&(BE+=Iw(n,Jm))}if(Bw=!1,yy("after",n),BE===0)return yy("tail",n),$b=!1,cancelAnimationFrame(pD)}function Fw(n,t=1){var e;if(!n)return Sp.forEach(i=>Fw(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):Bw?n.internal.frames=2:n.internal.frames=1,$b||($b=!0,requestAnimationFrame(qI)))}function mD(n,t=!0,e,i){if(t&&yy("before",n),e)Iw(n,e,i);else for(const r of Sp.values())Iw(n,r.store.getState());t&&yy("after",n)}const FE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function mX(n){const{handlePointer:t}=ZW(n);return{priority:1,enabled:!0,compute(e,i,r){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(FE).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:r}=n.getState();(e=r.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:e=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:e}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[l,h]=FE[a];e.addEventListener(l,o,{passive:h})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=FE[r];i.connected.removeEventListener(o,a)}e(r=>({events:{...r.events,connected:void 0}}))}}}}function gD(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function gX({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,g=H.useRef(!1);H.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[v,_,b]=H.useMemo(()=>{const E=()=>{if(!l.current.element)return;const{left:O,top:P,width:z,height:F,bottom:I,right:q,x:Y,y:G}=l.current.element.getBoundingClientRect(),j={left:O,top:P,width:z,height:F,bottom:I,right:q,x:Y,y:G};l.current.element instanceof HTMLElement&&i&&(j.height=l.current.element.offsetHeight,j.width=l.current.element.offsetWidth),Object.freeze(j),g.current&&!xX(l.current.lastBounds,j)&&o(l.current.lastBounds=j)};return[E,d?gD(E,d):E,h?gD(E,h):E]},[o,i,h,d]);function M(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",b,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function A(){l.current.element&&(l.current.resizeObserver=new r(b),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(E=>E.addEventListener("scroll",b,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const T=E=>{!E||E===l.current.element||(M(),l.current.element=E,l.current.scrollContainers=WI(E),A())};return yX(b,!!t),vX(_),H.useEffect(()=>{M(),A()},[t,b,_]),H.useEffect(()=>M,[]),[T,a,v]}function vX(n){H.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function yX(n,t){H.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function WI(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[e,i,r].some(a=>a==="auto"||a==="scroll")&&t.push(n),[...t,...WI(n.parentElement)]}const _X=["x","y","top","bottom","left","right","width","height"],xX=(n,t)=>_X.every(e=>n[e]===t[e]);function bX({ref:n,children:t,fallback:e,resize:i,style:r,gl:a,events:o=mX,eventSource:l,eventPrefix:h,shadows:d,linear:g,flat:v,legacy:_,orthographic:b,frameloop:M,dpr:A,performance:T,raycaster:E,camera:O,scene:P,onPointerMissed:z,onCreated:F,...I}){H.useMemo(()=>nX(oW),[]);const q=IW(),[Y,G]=gX({scroll:!0,debounce:{scroll:50,resize:0},...i}),j=H.useRef(null),K=H.useRef(null);H.useImperativeHandle(n,()=>j.current);const st=LI(z),[lt,dt]=H.useState(!1),[vt,X]=H.useState(!1);if(lt)throw lt;if(vt)throw vt;const it=H.useRef(null);h0(()=>{const yt=j.current;if(G.width>0&&G.height>0&&yt){it.current||(it.current=cX(yt));async function Q(){await it.current.configure({gl:a,scene:P,events:o,shadows:d,linear:g,flat:v,legacy:_,orthographic:b,frameloop:M,dpr:A,performance:T,raycaster:E,camera:O,size:G,onPointerMissed:(...ut)=>st.current==null?void 0:st.current(...ut),onCreated:ut=>{ut.events.connect==null||ut.events.connect(l?UW(l)?l.current:l:K.current),h&&ut.setEvents({compute:(gt,Lt)=>{const Dt=gt[h+"X"],Zt=gt[h+"Y"];Lt.pointer.set(Dt/Lt.size.width*2-1,-(Zt/Lt.size.height)*2+1),Lt.raycaster.setFromCamera(Lt.pointer,Lt.camera)}}),F?.(ut)}}),it.current.render(V.jsx(q,{children:V.jsx(FW,{set:X,children:V.jsx(H.Suspense,{fallback:V.jsx(BW,{set:dt}),children:t??null})})}))}Q()}}),H.useEffect(()=>{const yt=j.current;if(yt)return()=>GI(yt)},[]);const tt=l?"none":"auto";return V.jsx("div",{ref:K,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:tt,...r},...I,children:V.jsx("div",{ref:Y,style:{width:"100%",height:"100%"},children:V.jsx("canvas",{ref:j,style:{display:"block"},children:e})})})}function SX(n){return V.jsx(RI,{children:V.jsx(bX,{...n})})}function Hw(){return Hw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Hw.apply(null,arguments)}const MX=n=>n;function EX(n,t=MX){const e=mf.useSyncExternalStore(n.subscribe,mf.useCallback(()=>t(n.getState()),[n,t]),mf.useCallback(()=>t(n.getInitialState()),[n,t]));return mf.useDebugValue(e),e}const vD=n=>{const t=TI(n),e=i=>EX(t,i);return Object.assign(e,t),e},TX=(n=>n?vD(n):vD);var wX=Object.defineProperty,AX=(n,t,e)=>t in n?wX(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,CX=(n,t,e)=>(AX(n,t+"",e),e);class RX{constructor(){CX(this,"_listeners")}addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,t);t.target=null}}}var OX=Object.defineProperty,PX=(n,t,e)=>t in n?OX(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,rn=(n,t,e)=>(PX(n,typeof t!="symbol"?t+"":t,e),e);const Px=new Pp,yD=new uf,DX=Math.cos(70*(Math.PI/180)),_D=(n,t)=>(n%t+t)%t;let LX=class extends RX{constructor(t,e){super(),rn(this,"object"),rn(this,"domElement"),rn(this,"enabled",!0),rn(this,"target",new at),rn(this,"minDistance",0),rn(this,"maxDistance",1/0),rn(this,"minZoom",0),rn(this,"maxZoom",1/0),rn(this,"minPolarAngle",0),rn(this,"maxPolarAngle",Math.PI),rn(this,"minAzimuthAngle",-1/0),rn(this,"maxAzimuthAngle",1/0),rn(this,"enableDamping",!1),rn(this,"dampingFactor",.05),rn(this,"enableZoom",!0),rn(this,"zoomSpeed",1),rn(this,"enableRotate",!0),rn(this,"rotateSpeed",1),rn(this,"enablePan",!0),rn(this,"panSpeed",1),rn(this,"screenSpacePanning",!0),rn(this,"keyPanSpeed",7),rn(this,"zoomToCursor",!1),rn(this,"autoRotate",!1),rn(this,"autoRotateSpeed",2),rn(this,"reverseOrbit",!1),rn(this,"reverseHorizontalOrbit",!1),rn(this,"reverseVerticalOrbit",!1),rn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),rn(this,"mouseButtons",{LEFT:Xd.ROTATE,MIDDLE:Xd.DOLLY,RIGHT:Xd.PAN}),rn(this,"touches",{ONE:Yd.ROTATE,TWO:Yd.DOLLY_PAN}),rn(this,"target0"),rn(this,"position0"),rn(this,"zoom0"),rn(this,"_domElementKeyEvents",null),rn(this,"getPolarAngle"),rn(this,"getAzimuthalAngle"),rn(this,"setPolarAngle"),rn(this,"setAzimuthalAngle"),rn(this,"getDistance"),rn(this,"getZoomScale"),rn(this,"listenToKeyEvents"),rn(this,"stopListenToKeyEvents"),rn(this,"saveState"),rn(this,"reset"),rn(this,"update"),rn(this,"connect"),rn(this,"dispose"),rn(this,"dollyIn"),rn(this,"dollyOut"),rn(this,"getScale"),rn(this,"setScale"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=ct=>{let Et=_D(ct,2*Math.PI),fe=g.phi;fe<0&&(fe+=2*Math.PI),Et<0&&(Et+=2*Math.PI);let pt=Math.abs(Et-fe);2*Math.PI-pt<pt&&(Et<fe?Et+=2*Math.PI:fe+=2*Math.PI),v.phi=Et-fe,i.update()},this.setAzimuthalAngle=ct=>{let Et=_D(ct,2*Math.PI),fe=g.theta;fe<0&&(fe+=2*Math.PI),Et<0&&(Et+=2*Math.PI);let pt=Math.abs(Et-fe);2*Math.PI-pt<pt&&(Et<fe?Et+=2*Math.PI:fe+=2*Math.PI),v.theta=Et-fe,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ct=>{ct.addEventListener("keydown",It),this._domElementKeyEvents=ct},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",It),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),h=l.NONE},this.update=(()=>{const ct=new at,Et=new at(0,1,0),fe=new va().setFromUnitVectors(t.up,Et),pt=fe.clone().invert(),ie=new at,he=new va,_e=2*Math.PI;return function(){const re=i.object.position;fe.setFromUnitVectors(t.up,Et),pt.copy(fe).invert(),ct.copy(re).sub(i.target),ct.applyQuaternion(fe),g.setFromVector3(ct),i.autoRotate&&h===l.NONE&&dt(st()),i.enableDamping?(g.theta+=v.theta*i.dampingFactor,g.phi+=v.phi*i.dampingFactor):(g.theta+=v.theta,g.phi+=v.phi);let we=i.minAzimuthAngle,ke=i.maxAzimuthAngle;isFinite(we)&&isFinite(ke)&&(we<-Math.PI?we+=_e:we>Math.PI&&(we-=_e),ke<-Math.PI?ke+=_e:ke>Math.PI&&(ke-=_e),we<=ke?g.theta=Math.max(we,Math.min(ke,g.theta)):g.theta=g.theta>(we+ke)/2?Math.max(we,g.theta):Math.min(ke,g.theta)),g.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,g.phi)),g.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&G||i.object.isOrthographicCamera?g.radius=Lt(g.radius):g.radius=Lt(g.radius*_),ct.setFromSpherical(g),ct.applyQuaternion(pt),re.copy(i.target).add(ct),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),b.set(0,0,0));let bn=!1;if(i.zoomToCursor&&G){let gn=null;if(i.object instanceof Pr&&i.object.isPerspectiveCamera){const Fi=ct.length();gn=Lt(Fi*_);const ci=Fi-gn;i.object.position.addScaledVector(q,ci),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Fi=new at(Y.x,Y.y,0);Fi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/_)),i.object.updateProjectionMatrix(),bn=!0;const ci=new at(Y.x,Y.y,0);ci.unproject(i.object),i.object.position.sub(ci).add(Fi),i.object.updateMatrixWorld(),gn=ct.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;gn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(gn).add(i.object.position):(Px.origin.copy(i.object.position),Px.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Px.direction))<DX?t.lookAt(i.target):(yD.setFromNormalAndCoplanarPoint(i.object.up,i.target),Px.intersectPlane(yD,i.target))))}else i.object instanceof _f&&i.object.isOrthographicCamera&&(bn=_!==1,bn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/_)),i.object.updateProjectionMatrix()));return _=1,G=!1,bn||ie.distanceToSquared(i.object.position)>d||8*(1-he.dot(i.object.quaternion))>d?(i.dispatchEvent(r),ie.copy(i.object.position),he.copy(i.object.quaternion),bn=!1,!0):!1}})(),this.connect=ct=>{i.domElement=ct,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Oe),i.domElement.addEventListener("pointerdown",He),i.domElement.addEventListener("pointercancel",Z),i.domElement.addEventListener("wheel",$t)},this.dispose=()=>{var ct,Et,fe,pt,ie,he;i.domElement&&(i.domElement.style.touchAction="auto"),(ct=i.domElement)==null||ct.removeEventListener("contextmenu",Oe),(Et=i.domElement)==null||Et.removeEventListener("pointerdown",He),(fe=i.domElement)==null||fe.removeEventListener("pointercancel",Z),(pt=i.domElement)==null||pt.removeEventListener("wheel",$t),(ie=i.domElement)==null||ie.ownerDocument.removeEventListener("pointermove",$),(he=i.domElement)==null||he.ownerDocument.removeEventListener("pointerup",Z),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",It)};const i=this,r={type:"change"},a={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=l.NONE;const d=1e-6,g=new Yb,v=new Yb;let _=1;const b=new at,M=new Jt,A=new Jt,T=new Jt,E=new Jt,O=new Jt,P=new Jt,z=new Jt,F=new Jt,I=new Jt,q=new at,Y=new Jt;let G=!1;const j=[],K={};function st(){return 2*Math.PI/60/60*i.autoRotateSpeed}function lt(){return Math.pow(.95,i.zoomSpeed)}function dt(ct){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=ct:v.theta-=ct}function vt(ct){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=ct:v.phi-=ct}const X=(()=>{const ct=new at;return function(fe,pt){ct.setFromMatrixColumn(pt,0),ct.multiplyScalar(-fe),b.add(ct)}})(),it=(()=>{const ct=new at;return function(fe,pt){i.screenSpacePanning===!0?ct.setFromMatrixColumn(pt,1):(ct.setFromMatrixColumn(pt,0),ct.crossVectors(i.object.up,ct)),ct.multiplyScalar(fe),b.add(ct)}})(),tt=(()=>{const ct=new at;return function(fe,pt){const ie=i.domElement;if(ie&&i.object instanceof Pr&&i.object.isPerspectiveCamera){const he=i.object.position;ct.copy(he).sub(i.target);let _e=ct.length();_e*=Math.tan(i.object.fov/2*Math.PI/180),X(2*fe*_e/ie.clientHeight,i.object.matrix),it(2*pt*_e/ie.clientHeight,i.object.matrix)}else ie&&i.object instanceof _f&&i.object.isOrthographicCamera?(X(fe*(i.object.right-i.object.left)/i.object.zoom/ie.clientWidth,i.object.matrix),it(pt*(i.object.top-i.object.bottom)/i.object.zoom/ie.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function yt(ct){i.object instanceof Pr&&i.object.isPerspectiveCamera||i.object instanceof _f&&i.object.isOrthographicCamera?_=ct:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Q(ct){yt(_/ct)}function ut(ct){yt(_*ct)}function gt(ct){if(!i.zoomToCursor||!i.domElement)return;G=!0;const Et=i.domElement.getBoundingClientRect(),fe=ct.clientX-Et.left,pt=ct.clientY-Et.top,ie=Et.width,he=Et.height;Y.x=fe/ie*2-1,Y.y=-(pt/he)*2+1,q.set(Y.x,Y.y,1).unproject(i.object).sub(i.object.position).normalize()}function Lt(ct){return Math.max(i.minDistance,Math.min(i.maxDistance,ct))}function Dt(ct){M.set(ct.clientX,ct.clientY)}function Zt(ct){gt(ct),z.set(ct.clientX,ct.clientY)}function _t(ct){E.set(ct.clientX,ct.clientY)}function Qt(ct){A.set(ct.clientX,ct.clientY),T.subVectors(A,M).multiplyScalar(i.rotateSpeed);const Et=i.domElement;Et&&(dt(2*Math.PI*T.x/Et.clientHeight),vt(2*Math.PI*T.y/Et.clientHeight)),M.copy(A),i.update()}function ae(ct){F.set(ct.clientX,ct.clientY),I.subVectors(F,z),I.y>0?Q(lt()):I.y<0&&ut(lt()),z.copy(F),i.update()}function Xt(ct){O.set(ct.clientX,ct.clientY),P.subVectors(O,E).multiplyScalar(i.panSpeed),tt(P.x,P.y),E.copy(O),i.update()}function le(ct){gt(ct),ct.deltaY<0?ut(lt()):ct.deltaY>0&&Q(lt()),i.update()}function pe(ct){let Et=!1;switch(ct.code){case i.keys.UP:tt(0,i.keyPanSpeed),Et=!0;break;case i.keys.BOTTOM:tt(0,-i.keyPanSpeed),Et=!0;break;case i.keys.LEFT:tt(i.keyPanSpeed,0),Et=!0;break;case i.keys.RIGHT:tt(-i.keyPanSpeed,0),Et=!0;break}Et&&(ct.preventDefault(),i.update())}function jt(){if(j.length==1)M.set(j[0].pageX,j[0].pageY);else{const ct=.5*(j[0].pageX+j[1].pageX),Et=.5*(j[0].pageY+j[1].pageY);M.set(ct,Et)}}function ot(){if(j.length==1)E.set(j[0].pageX,j[0].pageY);else{const ct=.5*(j[0].pageX+j[1].pageX),Et=.5*(j[0].pageY+j[1].pageY);E.set(ct,Et)}}function Ht(){const ct=j[0].pageX-j[1].pageX,Et=j[0].pageY-j[1].pageY,fe=Math.sqrt(ct*ct+Et*Et);z.set(0,fe)}function Gt(){i.enableZoom&&Ht(),i.enablePan&&ot()}function Yt(){i.enableZoom&&Ht(),i.enableRotate&&jt()}function At(ct){if(j.length==1)A.set(ct.pageX,ct.pageY);else{const fe=De(ct),pt=.5*(ct.pageX+fe.x),ie=.5*(ct.pageY+fe.y);A.set(pt,ie)}T.subVectors(A,M).multiplyScalar(i.rotateSpeed);const Et=i.domElement;Et&&(dt(2*Math.PI*T.x/Et.clientHeight),vt(2*Math.PI*T.y/Et.clientHeight)),M.copy(A)}function me(ct){if(j.length==1)O.set(ct.pageX,ct.pageY);else{const Et=De(ct),fe=.5*(ct.pageX+Et.x),pt=.5*(ct.pageY+Et.y);O.set(fe,pt)}P.subVectors(O,E).multiplyScalar(i.panSpeed),tt(P.x,P.y),E.copy(O)}function qt(ct){const Et=De(ct),fe=ct.pageX-Et.x,pt=ct.pageY-Et.y,ie=Math.sqrt(fe*fe+pt*pt);F.set(0,ie),I.set(0,Math.pow(F.y/z.y,i.zoomSpeed)),Q(I.y),z.copy(F)}function te(ct){i.enableZoom&&qt(ct),i.enablePan&&me(ct)}function Le(ct){i.enableZoom&&qt(ct),i.enableRotate&&At(ct)}function He(ct){var Et,fe;i.enabled!==!1&&(j.length===0&&((Et=i.domElement)==null||Et.ownerDocument.addEventListener("pointermove",$),(fe=i.domElement)==null||fe.ownerDocument.addEventListener("pointerup",Z)),Pe(ct),ct.pointerType==="touch"?Me(ct):Mt(ct))}function $(ct){i.enabled!==!1&&(ct.pointerType==="touch"?ve(ct):Nt(ct))}function Z(ct){var Et,fe,pt;oe(ct),j.length===0&&((Et=i.domElement)==null||Et.releasePointerCapture(ct.pointerId),(fe=i.domElement)==null||fe.ownerDocument.removeEventListener("pointermove",$),(pt=i.domElement)==null||pt.ownerDocument.removeEventListener("pointerup",Z)),i.dispatchEvent(o),h=l.NONE}function Mt(ct){let Et;switch(ct.button){case 0:Et=i.mouseButtons.LEFT;break;case 1:Et=i.mouseButtons.MIDDLE;break;case 2:Et=i.mouseButtons.RIGHT;break;default:Et=-1}switch(Et){case Xd.DOLLY:if(i.enableZoom===!1)return;Zt(ct),h=l.DOLLY;break;case Xd.ROTATE:if(ct.ctrlKey||ct.metaKey||ct.shiftKey){if(i.enablePan===!1)return;_t(ct),h=l.PAN}else{if(i.enableRotate===!1)return;Dt(ct),h=l.ROTATE}break;case Xd.PAN:if(ct.ctrlKey||ct.metaKey||ct.shiftKey){if(i.enableRotate===!1)return;Dt(ct),h=l.ROTATE}else{if(i.enablePan===!1)return;_t(ct),h=l.PAN}break;default:h=l.NONE}h!==l.NONE&&i.dispatchEvent(a)}function Nt(ct){if(i.enabled!==!1)switch(h){case l.ROTATE:if(i.enableRotate===!1)return;Qt(ct);break;case l.DOLLY:if(i.enableZoom===!1)return;ae(ct);break;case l.PAN:if(i.enablePan===!1)return;Xt(ct);break}}function $t(ct){i.enabled===!1||i.enableZoom===!1||h!==l.NONE&&h!==l.ROTATE||(ct.preventDefault(),i.dispatchEvent(a),le(ct),i.dispatchEvent(o))}function It(ct){i.enabled===!1||i.enablePan===!1||pe(ct)}function Me(ct){switch(ye(ct),j.length){case 1:switch(i.touches.ONE){case Yd.ROTATE:if(i.enableRotate===!1)return;jt(),h=l.TOUCH_ROTATE;break;case Yd.PAN:if(i.enablePan===!1)return;ot(),h=l.TOUCH_PAN;break;default:h=l.NONE}break;case 2:switch(i.touches.TWO){case Yd.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Gt(),h=l.TOUCH_DOLLY_PAN;break;case Yd.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Yt(),h=l.TOUCH_DOLLY_ROTATE;break;default:h=l.NONE}break;default:h=l.NONE}h!==l.NONE&&i.dispatchEvent(a)}function ve(ct){switch(ye(ct),h){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;At(ct),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;me(ct),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;te(ct),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Le(ct),i.update();break;default:h=l.NONE}}function Oe(ct){i.enabled!==!1&&ct.preventDefault()}function Pe(ct){j.push(ct)}function oe(ct){delete K[ct.pointerId];for(let Et=0;Et<j.length;Et++)if(j[Et].pointerId==ct.pointerId){j.splice(Et,1);return}}function ye(ct){let Et=K[ct.pointerId];Et===void 0&&(Et=new Jt,K[ct.pointerId]=Et),Et.set(ct.pageX,ct.pageY)}function De(ct){const Et=ct.pointerId===j[0].pointerId?j[1]:j[0];return K[Et.pointerId]}this.dollyIn=(ct=lt())=>{ut(ct),i.update()},this.dollyOut=(ct=lt())=>{Q(ct),i.update()},this.getScale=()=>_,this.setScale=ct=>{yt(ct),i.update()},this.getZoomScale=()=>lt(),e!==void 0&&this.connect(e),this.update()}};const HE=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function Lh(n,t){const e=hc(a=>a.gl),i=d0(Ug,HE(n)?Object.values(n):n);return H.useLayoutEffect(()=>{t?.(i)},[t]),H.useEffect(()=>{if("initTexture"in e){let a=[];Array.isArray(i)?a=i:i instanceof $i?a=[i]:HE(i)&&(a=Object.values(i)),a.forEach(o=>{o instanceof $i&&e.initTexture(o)})}},[e,i]),H.useMemo(()=>{if(HE(n)){const a={};let o=0;for(const l in n)a[l]=i[o++];return a}else return i},[n,i])}Lh.preload=n=>d0.preload(Ug,n);Lh.clear=n=>d0.clear(Ug,n);const NX=()=>parseInt(t0.replace(/\D+/g,"")),UX=NX(),zX=H.forwardRef(({makeDefault:n,camera:t,regress:e,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:l,onEnd:h,...d},g)=>{const v=hc(I=>I.invalidate),_=hc(I=>I.camera),b=hc(I=>I.gl),M=hc(I=>I.events),A=hc(I=>I.setEvents),T=hc(I=>I.set),E=hc(I=>I.get),O=hc(I=>I.performance),P=t||_,z=i||M.connected||b.domElement,F=H.useMemo(()=>new LX(P),[P]);return Ho(()=>{F.enabled&&F.update()},-1),H.useEffect(()=>(a&&F.connect(a===!0?z:a),F.connect(z),()=>void F.dispose()),[a,z,e,F,v]),H.useEffect(()=>{const I=G=>{v(),e&&O.regress(),o&&o(G)},q=G=>{l&&l(G)},Y=G=>{h&&h(G)};return F.addEventListener("change",I),F.addEventListener("start",q),F.addEventListener("end",Y),()=>{F.removeEventListener("start",q),F.removeEventListener("end",Y),F.removeEventListener("change",I)}},[o,l,h,F,v,A]),H.useEffect(()=>{if(n){const I=E().controls;return T({controls:F}),()=>T({controls:I})}},[n,F]),H.createElement("primitive",Hw({ref:g,object:F,enableDamping:r},d))});class IX extends xr{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${UX>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const BX=n=>new at().setFromSpherical(new Yb(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),FX=H.forwardRef(({radius:n=100,depth:t=50,count:e=5e3,saturation:i=0,factor:r=4,fade:a=!1,speed:o=1},l)=>{const h=H.useRef(null),[d,g,v]=H.useMemo(()=>{const b=[],M=[],A=Array.from({length:e},()=>(.5+.5*Math.random())*r),T=new Ee;let E=n+t;const O=t/e;for(let P=0;P<e;P++)E-=O*Math.random(),b.push(...BX(E).toArray()),T.setHSL(P/e,i,.9),M.push(T.r,T.g,T.b);return[new Float32Array(b),new Float32Array(M),new Float32Array(A)]},[e,t,r,n,i]);Ho(b=>h.current&&(h.current.uniforms.time.value=b.clock.elapsedTime*o));const[_]=H.useState(()=>new IX);return H.createElement("points",{ref:l},H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",args:[d,3]}),H.createElement("bufferAttribute",{attach:"attributes-color",args:[g,3]}),H.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),H.createElement("primitive",{ref:h,object:_,attach:"material",blending:Bh,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),nb={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class p0{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const HX=new _f(-1,1,1,-1,0,1);class kX extends xn{constructor(){super(),this.setAttribute("position",new ze([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ze([0,2,0,0,2,0],2))}}const jX=new kX;class XI{constructor(t){this._mesh=new Dr(jX,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,HX)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}class kw extends p0{constructor(t,e="tDiffuse"){super(),this.textureID=e,this.uniforms=null,this.material=null,t instanceof xr?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=Ly.clone(t.uniforms),this.material=new xr({name:t.name!==void 0?t.name:"unspecified",defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this._fsQuad=new XI(this.material)}render(t,e,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this._fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this._fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this._fsQuad.render(t))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class xD extends p0{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,i){const r=t.getContext(),a=t.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0);let o,l;this.inverse?(o=0,l=1):(o=1,l=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),a.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),a.buffers.stencil.setClear(l),a.buffers.stencil.setLocked(!0),t.setRenderTarget(i),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.color.setMask(!0),a.buffers.depth.setMask(!0),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(r.EQUAL,1,4294967295),a.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),a.buffers.stencil.setLocked(!0)}}class VX extends p0{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class kE{constructor(t,e){if(this.renderer=t,this._pixelRatio=t.getPixelRatio(),e===void 0){const i=t.getSize(new Jt);this._width=i.width,this._height=i.height,e=new Ba(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:gc}),e.texture.name="EffectComposer.rt1"}else this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new kw(nb),this.copyPass.material.blending=mc,this.clock=new fS}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);e!==-1&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){t===void 0&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let i=!1;for(let r=0,a=this.passes.length;r<a;r++){const o=this.passes[r];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,t,i),o.needsSwap){if(i){const l=this.renderer.getContext(),h=this.renderer.state.buffers.stencil;h.setFunc(l.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),h.setFunc(l.EQUAL,1,4294967295)}this.swapBuffers()}xD!==void 0&&(o instanceof xD?i=!0:o instanceof VX&&(i=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(t===void 0){const e=this.renderer.getSize(new Jt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,t=this.renderTarget1.clone(),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const i=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(i,r),this.renderTarget2.setSize(i,r);for(let a=0;a<this.passes.length;a++)this.passes[a].setSize(i,r)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class jE extends p0{constructor(t,e,i=null,r=null,a=null){super(),this.scene=t,this.camera=e,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=a,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Ee}render(t,e,i){const r=t.autoClear;t.autoClear=!1;let a,o;this.overrideMaterial!==null&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(t.getClearColor(this._oldClearColor),t.setClearColor(this.clearColor,t.getClearAlpha())),this.clearAlpha!==null&&(a=t.getClearAlpha(),t.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:i),this.clear===!0&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor!==null&&t.setClearColor(this._oldClearColor),this.clearAlpha!==null&&t.setClearAlpha(a),this.overrideMaterial!==null&&(this.scene.overrideMaterial=o),t.autoClear=r}}const GX={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Ee(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Mp extends p0{constructor(t,e=1,i,r){super(),this.strength=e,this.radius=i,this.threshold=r,this.resolution=t!==void 0?new Jt(t.x,t.y):new Jt(256,256),this.clearColor=new Ee(0,0,0),this.needsSwap=!1,this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let a=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new Ba(a,o,{type:gc}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let g=0;g<this.nMips;g++){const v=new Ba(a,o,{type:gc});v.texture.name="UnrealBloomPass.h"+g,v.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(v);const _=new Ba(a,o,{type:gc});_.texture.name="UnrealBloomPass.v"+g,_.texture.generateMipmaps=!1,this.renderTargetsVertical.push(_),a=Math.round(a/2),o=Math.round(o/2)}const l=GX;this.highPassUniforms=Ly.clone(l.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new xr({uniforms:this.highPassUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}),this.separableBlurMaterials=[];const h=[3,5,7,9,11];a=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let g=0;g<this.nMips;g++)this.separableBlurMaterials.push(this._getSeparableBlurMaterial(h[g])),this.separableBlurMaterials[g].uniforms.invSize.value=new Jt(1/a,1/o),a=Math.round(a/2),o=Math.round(o/2);this.compositeMaterial=this._getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1;const d=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=d,this.bloomTintColors=[new at(1,1,1),new at(1,1,1),new at(1,1,1),new at(1,1,1),new at(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.copyUniforms=Ly.clone(nb.uniforms),this.blendMaterial=new xr({uniforms:this.copyUniforms,vertexShader:nb.vertexShader,fragmentShader:nb.fragmentShader,blending:Bh,depthTest:!1,depthWrite:!1,transparent:!0}),this._oldClearColor=new Ee,this._oldClearAlpha=1,this._basic=new Rl,this._fsQuad=new XI(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this._basic.dispose(),this._fsQuad.dispose()}setSize(t,e){let i=Math.round(t/2),r=Math.round(e/2);this.renderTargetBright.setSize(i,r);for(let a=0;a<this.nMips;a++)this.renderTargetsHorizontal[a].setSize(i,r),this.renderTargetsVertical[a].setSize(i,r),this.separableBlurMaterials[a].uniforms.invSize.value=new Jt(1/i,1/r),i=Math.round(i/2),r=Math.round(r/2)}render(t,e,i,r,a){t.getClearColor(this._oldClearColor),this._oldClearAlpha=t.getClearAlpha();const o=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),a&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this._fsQuad.material=this._basic,this._basic.map=i.texture,t.setRenderTarget(null),t.clear(),this._fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this._fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this._fsQuad.render(t);let l=this.renderTargetBright;for(let h=0;h<this.nMips;h++)this._fsQuad.material=this.separableBlurMaterials[h],this.separableBlurMaterials[h].uniforms.colorTexture.value=l.texture,this.separableBlurMaterials[h].uniforms.direction.value=Mp.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[h]),t.clear(),this._fsQuad.render(t),this.separableBlurMaterials[h].uniforms.colorTexture.value=this.renderTargetsHorizontal[h].texture,this.separableBlurMaterials[h].uniforms.direction.value=Mp.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[h]),t.clear(),this._fsQuad.render(t),l=this.renderTargetsVertical[h];this._fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this._fsQuad.render(t),this._fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this._fsQuad.render(t)):(t.setRenderTarget(i),this._fsQuad.render(t)),t.setClearColor(this._oldClearColor,this._oldClearAlpha),t.autoClear=o}_getSeparableBlurMaterial(t){const e=[];for(let i=0;i<t;i++)e.push(.39894*Math.exp(-.5*i*i/(t*t))/t);return new xr({defines:{KERNEL_RADIUS:t},uniforms:{colorTexture:{value:null},invSize:{value:new Jt(.5,.5)},direction:{value:new Jt(.5,.5)},gaussianCoefficients:{value:e}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}_getCompositeMaterial(t){return new xr({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Mp.BlurDirectionX=new Jt(1,0);Mp.BlurDirectionY=new Jt(0,1);const qX=1;function WX({intensity:n=.55,threshold:t=.85,radius:e=.2,selective:i=!1,cinematic:r=!1,exposure:a=1}){const{gl:o,scene:l,camera:h,size:d}=hc(),g=H.useMemo(()=>{const O=new _p;return O.set(qX),O},[]),v=H.useMemo(()=>new Rl({color:"black"}),[]),_=H.useMemo(()=>new Map,[]),b=H.useMemo(()=>{const O=new Ba(d.width,d.height,{samples:2}),P=new kE(o,O);return P.addPass(new jE(l,h)),P.addPass(new Mp(new Jt(d.width,d.height),n,e,t)),P.setSize(d.width,d.height),P},[o,l,h]),M=H.useMemo(()=>{const O=new Ba(d.width,d.height,{samples:2}),P=new kE(o,O);return P.addPass(new jE(l,h)),P.addPass(new Mp(new Jt(d.width,d.height),n,e,t)),P.setSize(d.width,d.height),P},[o,l,h]),A=H.useMemo(()=>{const O=new Ba(d.width,d.height,{samples:2}),P=new kE(o,O);P.addPass(new jE(l,h));const z=new xr({uniforms:{tDiffuse:{value:null},tBloom:{value:null}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform sampler2D tDiffuse;
        uniform sampler2D tBloom;
        varying vec2 vUv;
        void main() {
          vec4 base = texture2D(tDiffuse, vUv);
          vec4 bloom = texture2D(tBloom, vUv);
          gl_FragColor = base + bloom; // additive
        }
      `,depthWrite:!1,depthTest:!1,transparent:!1}),F=new kw(z,"tDiffuse");P.addPass(F);const I=new xr({uniforms:{tDiffuse:{value:null},strength:{value:.35}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform sampler2D tDiffuse;
        uniform float strength;
        varying vec2 vUv;
        void main() {
          vec2 uv = vUv - 0.5;
          float r = length(uv);
          float vign = smoothstep(0.8, 0.2, r) * strength; // darker at edges
          vec4 col = texture2D(tDiffuse, vUv);
          col.rgb *= 1.0 - vign;
          gl_FragColor = col;
        }
      `,depthWrite:!1,depthTest:!1,transparent:!1}),q=new kw(I,"tDiffuse");return q.__isVignette=!0,P.addPass(q),P.setSize(d.width,d.height),P},[o,l,h]);H.useEffect(()=>{b.setSize(d.width,d.height),M.setSize(d.width,d.height),A.setSize(d.width,d.height)},[b,M,A,d]),H.useEffect(()=>{const O=P=>{const z=P.passes.find(F=>F.strength!==void 0);z&&(z.strength=n,z.radius=e,z.threshold=t)};O(b),O(M)},[b,M,n,e,t]),H.useEffect(()=>{o.toneMapping=r?U1:bu,o.toneMappingExposure=a;const O=A.passes.find(P=>P.__isVignette);O&&(O.enabled=!!r)},[o,r,a]);const T=O=>{const P=_.get(O);P&&(O.material=P,_.delete(O))},E=O=>{if(O.isMesh){const P=O;g.test(P.layers)||(_.set(P,P.material),P.material=v)}};return Ho((O,P)=>{if(!i){b.render(P);return}l.traverse(E),M.render(P),l.traverse(T);const z=A.passes[1];z.uniforms.tBloom.value=M.renderTarget2.texture,A.render(P)},1),H.useEffect(()=>()=>{b.dispose(),M.dispose(),A.dispose(),v.dispose()},[b,M,A,v]),null}const XX="https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg",YX=H.forwardRef(function({children:t,uvOffsetDeg:e=0,...i},r){const a=H.useRef(null);H.useImperativeHandle(r,()=>a.current,[]);const o=Lh(XX);if(o){o.generateMipmaps=!0,o.minFilter=Qs,o.magFilter=cr,o.wrapS=yp,o.wrapT=ga;const l=(e/360%1+1)%1;o.offset.set(l,0)}return V.jsxs("mesh",{ref:a,...i,children:[V.jsx("sphereGeometry",{args:[1,32,32]}),V.jsx("meshLambertMaterial",{map:o,transparent:!1}),t]})}),ZX="https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg",KX="https://threejs.org/examples/textures/planets/earth_lights_2048.png",QX="https://threejs.org/examples/textures/planets/earth_normal_2048.jpg",$X="https://threejs.org/examples/textures/planets/earth_specular_2048.jpg",JX="https://threejs.org/examples/textures/planets/earth_clouds_1024.png",tY=H.forwardRef(function({sunDir:t=[.7,.5,.7],sunDirRef:e,uvOffsetDeg:i=0,children:r,...a},o){const l=H.useRef(null);H.useImperativeHandle(o,()=>l.current,[]);const h=Lh(ZX),d=Lh(KX),g=Lh(QX),v=Lh($X),_=Lh(JX);[h,g,d,v,_].forEach(M=>{M&&(M.generateMipmaps=!0,M.minFilter=Qs,M.magFilter=cr,M.anisotropy=8,M.wrapS=yp,M.wrapT=ga)});const b=H.useMemo(()=>{const M={dayMap:{value:h},nightMap:{value:d},specMap:{value:v},normalMap:{value:g},normalStrength:{value:.35},cloudsMap:{value:_},cloudShadowStrength:{value:.35},cloudUvShift:{value:.01},sunDir:{value:new at().fromArray(t).normalize()},terminatorSoftness:{value:.28},nightBoost:{value:1.35},shininess:{value:40},rimColor:{value:new Ee(5154815)},rimPower:{value:2},time:{value:0}},A=`
			varying vec2 vUv;
			varying vec3 vNormalW;
			varying vec3 vWorldPos;
			void main(){
				vUv = uv;
				vec4 wp = modelMatrix * vec4(position, 1.0);
				vWorldPos = wp.xyz;
				vNormalW = normalize(normalMatrix * normal);
				gl_Position = projectionMatrix * viewMatrix * wp;
			}
		`,T=`
			uniform sampler2D dayMap;
			uniform sampler2D nightMap;
			uniform sampler2D specMap;
			uniform sampler2D normalMap;
			uniform float normalStrength;
			uniform sampler2D cloudsMap;
			uniform float cloudShadowStrength;
			uniform float cloudUvShift;
			uniform vec3 sunDir; // world-space normalized direction from surface to sun
			uniform float terminatorSoftness; // wider = softer edge
			uniform float nightBoost;
			uniform float shininess;
			uniform vec3 rimColor;
			uniform float rimPower;
			uniform float time;
			uniform float uvOffset; // 0..1 horizontal offset
			varying vec2 vUv;
			varying vec3 vNormalW;
			varying vec3 vWorldPos;
            
			// Hash for twinkle
			float hash12(vec2 p) {
			  vec3 p3 = fract(vec3(p.xyx) * 0.1031);
			  p3 += dot(p3, p3.yzx + 33.33);
			  return fract((p3.x + p3.y) * p3.z);
			}

			// Build an approximate TBN from the normal and a fallback up vector
			mat3 approximateTBN(vec3 N) {
			  vec3 up = abs(N.y) < 0.999 ? vec3(0.0, 1.0, 0.0) : vec3(1.0, 0.0, 0.0);
			  vec3 T = normalize(cross(up, N));
			  vec3 B = cross(N, T);
			  return mat3(T, B, N);
			}

			void main(){
				// Simple Lambert term
				vec3 N = normalize(vNormalW);
				// Normal mapping (micro lighting cues)
				vec2 uvShifted = vec2(fract(vUv.x + uvOffset), vUv.y);
				vec3 nTex = texture2D(normalMap, uvShifted).xyz * 2.0 - 1.0;
				mat3 TBN = approximateTBN(N);
				vec3 Nmap = normalize(TBN * nTex);
				N = normalize(mix(N, Nmap, clamp(normalStrength, 0.0, 1.0)));
				vec3 L = normalize(sunDir);
				vec3 V = normalize(cameraPosition - vWorldPos);
				float ndl = max(0.0, dot(N, L));
				// Smooth terminator using softness width
				float nightFactor = smoothstep(0.0, clamp(terminatorSoftness, 0.001, 1.0), 1.0 - ndl);
				vec3 dayColor = texture2D(dayMap, uvShifted).rgb;
				vec3 nightColor = texture2D(nightMap, uvShifted).rgb * nightBoost;

				// Twinkle for city lights
				float tw = 0.9 + 0.2 * sin( (hash12(vUv * 512.0) * 10.0) + time * 2.0 );
				nightColor *= tw;

				// Specular (ocean) using spec mask
				float specMask = texture2D(specMap, uvShifted).r; // grayscale (oceans bright)
				float ocean = smoothstep(0.2, 0.9, specMask);
				vec3 H = normalize(L + V);
				float spec = pow(max(dot(N, H), 0.0), shininess) * ocean * (1.0 - nightFactor);

				// Approx cloud shadows on day side using clouds alpha with dynamic parallax
				vec2 shiftDir = normalize(vec2(L.z, -L.x));
				// Latitude factor: more parallax near equator, less near poles
				float lat = asin(clamp(N.y, -1.0, 1.0));
				float latFactor = 0.3 + 0.7 * cos(abs(lat));
				float hSample = texture2D(cloudsMap, vUv).a; // use alpha as pseudo height
				float heightFactor = 0.5 + 1.5 * pow(hSample, 1.5);
				vec2 uvShift = shiftDir * cloudUvShift * latFactor * (0.4 + 0.6 * ndl) * heightFactor;
				float cloudA = texture2D(cloudsMap, vUv + uvShift).a; // PNG alpha
				float shadow = cloudA * cloudShadowStrength * step(0.0, ndl);

				// Rim tint for more blue near the limb
				float rim = pow(1.0 - max(dot(N, V), 0.0), rimPower);

				// Base lit day color + specular
				vec3 litDay = dayColor * (0.25 + 0.85 * ndl) + spec * 0.6;
				litDay *= (1.0 - shadow * 0.8);
				spec *= (1.0 - shadow * 0.5);
				vec3 color = mix(litDay, nightColor, nightFactor);
				color += rim * rimColor * 0.12;
				color = clamp(color, 0.0, 1.0);
				gl_FragColor = vec4(color, 1.0);
			}
		`;return new xr({uniforms:M,vertexShader:A,fragmentShader:T})},[h,d,v,t]);return H.useEffect(()=>{const M=b?.uniforms;if(!M)return;M.uvOffset=M.uvOffset||{value:0},M.uvOffset.value=(i/360%1+1)%1;const A=new Ug;A.setCrossOrigin("anonymous");const T=O=>{O.generateMipmaps=!0,O.minFilter=Qs,O.magFilter=cr,O.anisotropy=8,O.wrapS=O.wrapT=ga},E=(O,P)=>{A.load(O,z=>{T(z),P(z)},void 0,()=>{})};E("/textures/earth/day_8k.jpg",O=>{M.dayMap.value=O}),E("/textures/earth/night_8k.jpg",O=>{M.nightMap.value=O}),E("/textures/earth/normal_4k.jpg",O=>{M.normalMap.value=O}),E("/textures/earth/spec_4k.jpg",O=>{M.specMap.value=O}),E("/textures/earth/clouds_alpha_4k.png",O=>{M.cloudsMap.value=O})},[b]),Ho((M,A)=>{const T=b?.uniforms;T?.sunDir?.value&&(e?.current?T.sunDir.value.copy(e.current).normalize():T.sunDir.value.fromArray(t).normalize()),T?.time&&(T.time.value+=A)}),V.jsxs("mesh",{...a,ref:l,castShadow:!0,receiveShadow:!0,children:[V.jsx("sphereGeometry",{args:[1,64,64]}),V.jsx("primitive",{object:b,attachObject:["material",void 0]}),r]})});function eY({sunDirRef:n,...t}){const e=H.useMemo(()=>{const i={sunDir:{value:new at(1,.3,.8).normalize()},rayleigh:{value:3},mie:{value:.005},g:{value:.76},colorRayleigh:{value:new Ee(7126271)},colorMie:{value:new Ee(8829439)},intensity:{value:.7}},r=`
      varying vec3 vWorldPos;
      varying vec3 vNormal;
      void main(){
        vNormal = normalize(normalMatrix * normal);
        vec4 wp = modelMatrix * vec4(position,1.0);
        vWorldPos = wp.xyz;
        gl_Position = projectionMatrix * viewMatrix * wp;
      }
    `,a=`
      uniform vec3 sunDir;
      uniform float rayleigh;
      uniform float mie;
      uniform float g; // anisotropy
      uniform vec3 colorRayleigh;
      uniform vec3 colorMie;
      uniform float intensity;
      varying vec3 vWorldPos;
      varying vec3 vNormal;
      
      // Simple Schlick phase for Rayleigh-like, and Henyey–Greenstein for Mie
      float phaseRayleigh(float cosTheta) {
        return 3.0/(16.0*3.14159265) * (1.0 + cosTheta*cosTheta);
      }
      float phaseMie(float cosTheta, float g) {
        float g2 = g*g;
        float denom = pow(1.0 + g2 - 2.0*g*cosTheta, 1.5);
        return 1.0/(4.0*3.14159265) * (1.0 - g2) / denom;
      }
      
      void main(){
        vec3 V = normalize(cameraPosition - vWorldPos);
        vec3 N = normalize(vNormal);
        float cosTheta = dot(N, sunDir);
        float mu = dot(V, sunDir);
        
        // Atmospheric density falloff (very approximate by view angle)
        float viewHorizon = clamp(1.0 - max(dot(N, V), 0.0), 0.0, 1.0);
        float density = mix(0.2, 1.0, pow(viewHorizon, 0.6));
        
        float pr = phaseRayleigh(cosTheta);
        float pm = phaseMie(mu, g);
        vec3 scatter = colorRayleigh * rayleigh * pr + colorMie * mie * pm;
        vec3 col = scatter * density * intensity;
        gl_FragColor = vec4(col, clamp(length(col), 0.0, 0.85));
      }
    `;return new xr({uniforms:i,vertexShader:r,fragmentShader:a,side:as,transparent:!0,blending:Bh,depthWrite:!1})},[]);return n?.current&&e.uniforms.sunDir.value.copy(n.current).normalize(),V.jsxs("mesh",{...t,children:[V.jsx("sphereGeometry",{args:[1.035,96,96]}),V.jsx("primitive",{object:e,attachObject:["material",void 0]})]})}function nY(n){const t=H.useRef(null),e=H.useRef(null),[i,r]=H.useState(null);return H.useEffect(()=>{const a=["https://www.solarsystemscope.com/textures/download/8k_earth_clouds.png","https://www.solarsystemscope.com/textures/download/4k_earth_clouds.png","https://cdn.jsdelivr.net/gh/mrdoob/three.js@r180/examples/textures/planets/earth_clouds_1024.png","https://unpkg.com/three@0.180.0/examples/textures/planets/earth_clouds_1024.png"];let o=!1;const l=new Ug;l.setCrossOrigin("anonymous");const h=d=>{if(o||d>=a.length)return;const g=a[d];l.load(g,v=>{o||(v.generateMipmaps=!0,v.minFilter=Qs,v.magFilter=cr,v.anisotropy=16,v.wrapS=v.wrapT=ga,r(v))},void 0,()=>h(d+1))};return h(0),()=>{o=!0}},[]),Ho((a,o)=>{t.current&&(t.current.rotation.y+=o*.01),e.current&&(e.current.rotation.y+=o*.0125)}),V.jsxs("mesh",{ref:t,...n,children:[V.jsx("sphereGeometry",{args:[1.002,64,64]}),i?V.jsx("meshStandardMaterial",{transparent:!0,alphaMap:i,color:"#ffffff",opacity:.08,depthWrite:!1}):V.jsx("meshStandardMaterial",{transparent:!0,color:"#ffffff",opacity:.12,depthWrite:!1}),V.jsxs("mesh",{ref:e,scale:[1.004,1.004,1.004],children:[V.jsx("sphereGeometry",{args:[1,64,64]}),i?V.jsx("meshStandardMaterial",{transparent:!0,alphaMap:i,color:"#ffffff",opacity:.03,depthWrite:!1}):V.jsx("meshStandardMaterial",{transparent:!0,color:"#ffffff",opacity:.06,depthWrite:!1})]})]})}const jy=6378137,hf=1/298.257223563,Xv=jy*(1-hf),_y=2*hf-hf*hf,wl=n=>n*Math.PI/180,bD=n=>n*180/Math.PI;function Ep(n,t,e){const i=wl(n),r=wl(t),a=Math.sin(i),o=Math.cos(i),l=Math.sin(r),h=Math.cos(r),d=jy/Math.sqrt(1-_y*a*a),g=(d+e)*o*h,v=(d+e)*o*l,_=(d*(1-_y)+e)*a;return{x:g,y:v,z:_}}function YI(n){const t=n.x,e=n.y,i=n.z,r=Math.hypot(t,e),a=Math.atan2(e,t);let o=Math.atan2(i,r*(1-_y)),l=0;for(let h=0;h<10;h++){const d=Math.sin(o),g=jy/Math.sqrt(1-_y*d*d);l=r/Math.cos(o)-g;const v=Math.atan2(i,r*(1-_y*g/(g+l)));if(Math.abs(v-o)<1e-12){o=v;break}o=v}return{lat:bD(o),lng:bD(a),alt:l}}function Vy(n){const{lat:t,lng:e}=YI(n);return{lat:t,lng:e}}function jw(n,t){const e=wl(n),i=wl(t),r={x:-Math.sin(i),y:Math.cos(i),z:0},a={x:-Math.sin(e)*Math.cos(i),y:-Math.sin(e)*Math.sin(i),z:Math.cos(e)},o={x:Math.cos(e)*Math.cos(i),y:Math.cos(e)*Math.sin(i),z:Math.sin(e)};return{e:r,n:a,u:o}}function iY(n,t){const e=63710088e-1,i=wl(t.lat-n.lat),r=wl(t.lng-n.lng),a=wl(n.lat),o=wl(t.lat),l=Math.sin(i/2)**2+Math.cos(a)*Math.cos(o)*Math.sin(r/2)**2;return 2*e*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function pS(n,t){const e=wl(n.lat),i=wl(n.lng),r=wl(t.lat),a=wl(t.lng),o=Math.atan((1-hf)*Math.tan(e)),l=Math.atan((1-hf)*Math.tan(r)),h=Math.sin(o),d=Math.cos(o),g=Math.sin(l),v=Math.cos(l),_=a-i;let b=_,M=0,A=0,T=0,E=0,O=0,P=0,z=0,F=0,I=0;for(let st=0;st<100;st++){if(M=Math.sin(b),A=Math.cos(b),T=Math.hypot(v*M,d*g-h*v*A),T===0)return 0;E=h*g+d*v*A,O=Math.atan2(T,E),P=d*v*M/T,z=1-P*P,F=z===0?0:E-2*h*g/z,I=hf/16*z*(4+hf*(4-3*z));const lt=b;if(b=_+(1-I)*hf*P*(O+I*T*(F+I*E*(-1+2*F*F))),Math.abs(b-lt)<1e-12)break;if(st===99)return iY(n,t)}const q=z*((jy*jy-Xv*Xv)/(Xv*Xv)),Y=1+q/16384*(4096+q*(-768+q*(320-175*q))),G=q/1024*(256+q*(-128+q*(74-47*q))),j=G*T*(F+G/4*(E*(-1+2*F*F)-G/6*F*(-3+4*T*T)*(-3+4*F*F))),K=Xv*Y*(O-j);return Math.max(0,K)}function ZI(n,t,e=0,i=5){const r=Ep(n,t,e),a=YI(r),o=pS({lat:n,lng:t},{lat:a.lat,lng:a.lng});return{isValid:o<=i,error:o,message:`Погрешность конвертации: ${o.toFixed(2)} м`}}const m0=TX((n,t)=>({neos:[],neoPage:0,params:{massKg:1e9,diameterM:100,entrySpeedMs:2e4,entryAltitudeM:12e4,targetLatDeg:0,targetLonDeg:0,angleDeg:45,asteroidType:"rocky"},simState:"idle",t:0,logs:[],trajectoryData:[],impactTargetSeconds:5,simplifyEffects:!1,enableBloom:!1,bloomIntensity:.35,useAdvancedEarth:!1,showClouds:!1,showAtmosphere:!1,accurateTargeting:!0,forceExactHit:!0,cinematicMode:!1,selectiveBloom:!0,uvOffsetDeg:0,showGeoGrid:!1,showGeoMarkers:!1,setNEOs:e=>n({neos:e}),appendNEOs:e=>n(i=>({neos:[...i.neos,...e]})),setNEOPage:e=>n({neoPage:e}),selectNEO:(e,i)=>{if(n({selectedNEOId:e}),!e)return;const r=t().neos.find(a=>a.id===e);r&&n(a=>({params:{...a.params,diameterM:r.estimated_diameter_m??a.params.diameterM,massKg:i?.massKg??4/3*Math.PI*Math.pow((r.estimated_diameter_m??a.params.diameterM)/2,3)*3e3,...i}}))},updateParams:e=>n(i=>({params:{...i.params,...e}})),resetLogs:()=>n({logs:[]}),pushLog:e=>n(i=>({logs:[...i.logs,e]})),setBody:e=>n({body:e}),setSimState:e=>n({simState:e}),setTime:e=>n({t:e}),setImpactPoint:e=>n({impactPoint:e}),setInitialSpeed:e=>n({initialSpeedMs:e}),setPeakDynamicPressure:e=>n({peakDynamicPressurePa:e}),setPeakHeatFlux:e=>n({peakHeatFluxWm2:e}),setImpactEnergy:e=>n({impactEnergyJ:e}),setSimTimeScale:e=>n({simTimeScale:e}),setImpactTargetSeconds:e=>n({impactTargetSeconds:e}),setSimplifyEffects:e=>n({simplifyEffects:e}),setEnableBloom:e=>n({enableBloom:e}),setBloomIntensity:e=>n({bloomIntensity:e}),setUseAdvancedEarth:e=>n({useAdvancedEarth:e}),setShowClouds:e=>n({showClouds:e}),setShowAtmosphere:e=>n({showAtmosphere:e}),addTrajectoryPoint:e=>n(i=>({trajectoryData:[...i.trajectoryData,e]})),clearTrajectoryData:()=>n({trajectoryData:[]}),setLastImpactECEF:e=>n({lastImpactECEF:e}),setLastCrater:e=>n({lastCrater:e}),setAccurateTargeting:e=>n({accurateTargeting:e}),setForceExactHit:e=>n({forceExactHit:e}),setCinematicMode:e=>n({cinematicMode:e}),setSelectiveBloom:e=>n({selectiveBloom:e}),setUvOffsetDeg:e=>n({uvOffsetDeg:e}),setShowGeoGrid:e=>n({showGeoGrid:e}),setShowGeoMarkers:e=>n({showGeoMarkers:e})}));function rY(n){switch(n){case"rocky":return .22;case"iron":return .1;case"icy":return .04;case"carbon":return .05;default:return .12}}function aY(n,t,e=.12){if(!n||!isFinite(n)||!t||t<=0)return e;const i=t/1e3,r=Math.pow(1329/i,2)*Math.pow(10,-.4*n);return Math.min(.6,Math.max(.02,r))}function sY({diameterM:n,meterScale:t=6371e3,...e}){const i=H.useRef(null),r=H.useRef(null),{selectedNEOId:a,neos:o,params:l,simState:h,lastCrater:d}=m0(),g=H.useMemo(()=>o.find(O=>O.id===a),[o,a]),v=Math.max(n/2/t,5e-4),_=aY(g?.absolute_magnitude_h,n,rY(l.asteroidType)),b=H.useMemo(()=>{let O=.06944444444444445;l.asteroidType==="carbon"&&(O=30/360),l.asteroidType==="iron"&&(O=18/360),l.asteroidType==="icy"&&(O=0);const P=.12+.9*Math.sqrt(Math.max(0,Math.min(1,_/.3))),z=.25,F=Math.floor(O*6),I=O*6-F,q=P*(1-z),Y=P*(1-I*z),G=P*(1-(1-I)*z);let j=0,K=0,st=0;switch(F%6){case 0:j=P,K=G,st=q;break;case 1:j=Y,K=P,st=q;break;case 2:j=q,K=P,st=G;break;case 3:j=q,K=Y,st=P;break;case 4:j=G,K=q,st=P;break;case 5:j=P,K=q,st=Y;break}return new Ee(j,K,st)},[_,l.asteroidType]),M=H.useMemo(()=>new o0(v,4),[v]),A=H.useMemo(()=>{const O=new uS({color:b,roughness:.92,metalness:.02});return O.onBeforeCompile=P=>{P.uniforms.uNoiseAmp={value:Math.max(.02,.25*v)},P.uniforms.uSeed={value:new at(Math.random()*100,Math.random()*100,Math.random()*100)},P.uniforms.uTime={value:0},P.vertexShader=`
				uniform float uNoiseAmp; uniform vec3 uSeed; uniform float uTime;
				// 3D simplex noise (small, inlined)
				vec3 mod289(vec3 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
				vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
				vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);} 
				vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
				float snoise(vec3 v){
					const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
					const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
					vec3 i  = floor(v + dot(v, C.yyy) );
					vec3 x0 =   v - i + dot(i, C.xxx) ;
					vec3 g = step(x0.yzx, x0.xyz);
					vec3 l = 1.0 - g;
					vec3 i1 = min( g.xyz, l.zxy );
					vec3 i2 = max( g.xyz, l.zxy );
					vec3 x1 = x0 - i1 + 1.0 * C.xxx;
					vec3 x2 = x0 - i2 + 2.0 * C.xxx;
					vec3 x3 = x0 - 1.0 + 3.0 * C.xxx;
					i = mod289(i);
					vec4 p = permute( permute( permute(
										i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
									+ i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
									+ i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
					float n_ = 0.142857142857; // 1/7
					vec3  ns = n_ * D.wyz - D.xzx;
					vec4 j = p - 49.0 * floor(p * ns.z * ns.z);
					vec4 x_ = floor(j * ns.z);
					vec4 y_ = floor(j - 7.0 * x_ );
					vec4 x = x_ *ns.x + ns.yyyy;
					vec4 y = y_ *ns.x + ns.yyyy;
					vec4 h = 1.0 - abs(x) - abs(y);
					vec4 b0 = vec4( x.xy, y.xy );
					vec4 b1 = vec4( x.zw, y.zw );
					vec4 s0 = floor(b0)*2.0 + 1.0;
					vec4 s1 = floor(b1)*2.0 + 1.0;
					vec4 sh = -step(h, vec4(0.0));
					vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
					vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
					vec3 p0 = vec3(a0.xy,h.x);
					vec3 p1 = vec3(a1.xy,h.y);
					vec3 p2 = vec3(a0.zw,h.z);
					vec3 p3 = vec3(a1.zw,h.w);
					vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2,p2), dot(p3,p3)));
					p0 *= norm.x; p1 *= norm.y; p2 *= norm.z; p3 *= norm.w;
					vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
					m = m * m;
					return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );
				}
			`+P.vertexShader.replace("#include <begin_vertex>",`#include <begin_vertex>
				 // Fractal noise for lumpy silhouette
				 float n1 = snoise(normal + uSeed + position*2.0);
				 float n2 = snoise((normal*0.7 + position*1.5) + uSeed*0.5);
				 float n = (n1*0.6 + n2*0.4);
				 transformed += normal * (uNoiseAmp * n);
				`),O._shaderRef=P},O},[b,v]),T=H.useRef(0),E=H.useRef(0);return Ho((O,P)=>{if(!i.current)return;if(h==="running"){const I=hz.clamp(.2/Math.sqrt(Math.max(10,n)),.001,.03);i.current.rotation.y+=I*60*P,i.current.rotation.x+=I*33*P,T.current=0,i.current.position.set(0,0,0)}else{const I=d?d.depthM/t:0,q=v*.8;E.current=Math.min(q,Math.max(0,I)),T.current<1&&E.current>0&&(T.current=Math.min(1,T.current+P/.7))}const F=i.current.material?._shaderRef;if(F&&(F.uniforms.uTime.value+=P),r.current){const I=r.current.position,q=I.lengthSq()>0?I.clone().normalize():new at(0,1,0),Y=K=>1-Math.pow(1-K,3),G=E.current*Y(T.current),j=q.clone().multiplyScalar(-G);i.current.position.copy(j)}}),H.useEffect(()=>{i.current&&(i.current.layers.enable(0),i.current.layers.disable(1))},[]),V.jsx("group",{ref:r,...e,children:V.jsx("mesh",{ref:i,geometry:M,material:A,castShadow:!0,receiveShadow:!0})})}class oY extends H.Component{state={hasError:!1};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("ErrorBoundary caught error:",t,e)}render(){return this.state.hasError?this.props.fallback??V.jsxs("div",{style:{padding:"1rem",border:"1px solid #552",background:"#220",color:"#faa",borderRadius:8},children:[V.jsx("strong",{children:"Произошла ошибка визуализации 3D сцены."}),V.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"См. консоль разработчика для подробностей."})]}):this.props.children}}function lY({position:n,count:t=200,power:e=1,duration:i=2}){const r=H.useRef(null),[a,o]=H.useState(0),{velocities:l,colors:h}=H.useMemo(()=>{const g=[],v=[],_=new Ee("#ffaa00"),b=new Ee("#ff3300");for(let M=0;M<t;M++){const A=new at().randomDirection(),T=Math.random()**.5*30*e;g.push(A.multiplyScalar(T)),v.push(_.clone().lerp(b,Math.random()))}return{velocities:g,colors:v}},[t,e]),d=H.useMemo(()=>new Zn,[]);return Ho((g,v)=>{o(b=>b+v);const _=Math.min(a+v,i);if(r.current){for(let b=0;b<t;b++){const M=l[b],A=1-_/i,T=new at(n[0],n[1],n[2]).add(M.clone().multiplyScalar(_));d.position.copy(T);const E=Math.max(.002,.02*A);d.scale.setScalar(E),d.rotation.set(Math.random(),Math.random(),Math.random()),d.updateMatrix(),r.current.setMatrixAt(b,d.matrix);const O=h[b].clone().multiplyScalar(.8+.2*A);r.current.setColorAt?.(b,O)}r.current.instanceMatrix.needsUpdate=!0,r.current.instanceColor&&(r.current.instanceColor.needsUpdate=!0)}}),V.jsxs("instancedMesh",{ref:r,args:[void 0,void 0,t],frustumCulled:!1,onUpdate:g=>{g.layers.enable(1)},children:[V.jsx("sphereGeometry",{args:[1,8,8]}),V.jsx("meshBasicMaterial",{toneMapped:!1,transparent:!0,opacity:.9,blending:Bh,depthWrite:!1})]})}function Dx({position:n,duration:t=1.5,maxRadius:e=.25,color:i="#ffffff"}){const r=H.useRef(null),[a,o]=H.useState(0),l=H.useMemo(()=>new at(...n).normalize(),[n]),h=H.useMemo(()=>new va().setFromUnitVectors(new at(0,0,1),l),[l]),d=H.useMemo(()=>l.clone().multiplyScalar(1.002),[l]),g=H.useMemo(()=>new u0(1,1.03,64,1),[]);Ho((T,E)=>o(O=>O+E));const _=Math.min(a,t)/t,M=e*(T=>1-(1-T)*(1-T))(_),A=.8*(1-_);return A<=0?null:V.jsxs("mesh",{ref:r,position:d,quaternion:h,scale:[M,M,M],onUpdate:T=>{T.layers.enable(1)},children:[V.jsx("primitive",{object:g,attach:"geometry"}),V.jsx("meshBasicMaterial",{color:i,transparent:!0,opacity:A,depthWrite:!1,blending:Bh})]})}function SD({position:n,finalRadius:t=.05,growTime:e=2,opacity:i=.6}){const r=H.useRef(null),[a,o]=H.useState(0),l=H.useMemo(()=>new at(...n).normalize(),[n]),h=H.useMemo(()=>new va().setFromUnitVectors(new at(0,0,1),l),[l]),d=H.useMemo(()=>l.clone().multiplyScalar(1.001),[l]),g=H.useMemo(()=>new r0(1,48),[]),v=H.useMemo(()=>{const E=document.createElement("canvas");E.width=E.height=128;const O=E.getContext("2d"),P=O.createRadialGradient(128/2,128/2,0,128/2,128/2,128/2);P.addColorStop(0,"rgba(30,30,30,1)"),P.addColorStop(.6,"rgba(30,30,30,0.9)"),P.addColorStop(1,"rgba(30,30,30,0)"),O.fillStyle=P,O.fillRect(0,0,128,128);const z=new tC(E);return z.wrapS=z.wrapT=ga,z.needsUpdate=!0,z},[]);Ho((T,E)=>o(O=>O+E));const _=Math.min(1,a/e),M=t*(T=>1-Math.pow(1-T,3))(_),A=i*(.9+.1*(1-_));return V.jsxs("group",{children:[V.jsxs("mesh",{ref:r,position:d,quaternion:h,scale:[M,M,M],children:[V.jsx("primitive",{object:g,attach:"geometry"}),V.jsx("meshBasicMaterial",{map:v,transparent:!0,opacity:A,depthWrite:!1})]}),V.jsxs("mesh",{position:d,quaternion:h,scale:[M*1.06,M*1.06,M*1.06],children:[V.jsx("ringGeometry",{args:[.88,1,64]}),V.jsx("meshBasicMaterial",{color:"#3a2f25",transparent:!0,opacity:A*.8,depthWrite:!1,side:Tl})]}),V.jsxs("mesh",{position:d,quaternion:h,scale:[M*1.6,M*1.6,M*1.6],children:[V.jsx("ringGeometry",{args:[1,1.6,64]}),V.jsx("meshBasicMaterial",{color:"#7a6a55",transparent:!0,opacity:A*.18,depthWrite:!1,side:Tl})]}),t>.08&&V.jsxs("mesh",{position:d,quaternion:h,scale:[M*.12,M*.12,M*.12],children:[V.jsx("circleGeometry",{args:[1,24]}),V.jsx("meshBasicMaterial",{color:"#2b2621",transparent:!0,opacity:A*.7,depthWrite:!1})]})]})}function uY({positions:n,maxLength:t=20,color:e="#ff6600"}){const i=n.slice(-Math.min(t,10));return i.length<2?null:V.jsx("group",{children:i.map((r,a)=>{const o=a/(i.length-1),l=.01+o*.02;return V.jsxs("mesh",{position:r.toArray(),children:[V.jsx("sphereGeometry",{args:[l,8,8]}),V.jsx("meshBasicMaterial",{color:e,transparent:!0,opacity:o*.6})]},a)})})}function MD({position:n,duration:t=2.5,maxSize:e=.25}){const i=H.useRef(null),[r,a]=H.useState(0),o=H.useMemo(()=>{const g=document.createElement("canvas");g.width=g.height=64;const v=g.getContext("2d"),_=v.createRadialGradient(32,32,0,32,32,32);_.addColorStop(0,"rgba(180,160,140,0.35)"),_.addColorStop(1,"rgba(180,160,140,0)"),v.fillStyle=_,v.fillRect(0,0,64,64);const b=new tC(g);return b.wrapS=b.wrapT=ga,b},[]);Ho((g,v)=>a(_=>_+v));const l=Math.min(1,r/t),h=e*(.6+.4*l),d=.6*(1-l);return d<=0?null:V.jsxs("mesh",{ref:i,position:n,rotation:[-Math.PI/2,0,0],scale:[h,h,h],children:[V.jsx("planeGeometry",{args:[1,1]}),V.jsx("meshBasicMaterial",{map:o,transparent:!0,opacity:d,depthWrite:!1})]})}const cY="https://api.nasa.gov",fY="ooHgXAVEeyOgGeLh8cC90YBP4gpKwYfNEJKRwN9T";async function ED(n=0){const t=new URL(`${cY}/neo/rest/v1/neo/browse`);t.searchParams.set("page",String(n)),t.searchParams.set("size","20"),t.searchParams.set("api_key",fY);const e=await fetch(t);if(!e.ok)throw new Error(`NASA NEO browse failed: ${e.status}`);return((await e.json())?.near_earth_objects||[]).map(a=>{const o=a.estimated_diameter?.meters,l=o?(o.estimated_diameter_min+o.estimated_diameter_max)/2:void 0;return{id:a.id,name:a.name,estimated_diameter_m:l??1e3,is_potentially_hazardous_asteroid:!!a.is_potentially_hazardous_asteroid,absolute_magnitude_h:a.absolute_magnitude_h,nasa_jpl_url:a.nasa_jpl_url}})}const Lx=Math.PI/180,TD=Math.PI*2;function hY(n){return n=n%TD,n<0?n+TD:n}function dY(n){const t=n.getUTCFullYear(),e=n.getUTCMonth()+1,i=n.getUTCDate(),r=n.getUTCHours(),a=n.getUTCMinutes(),o=n.getUTCSeconds()+n.getUTCMilliseconds()/1e3;let l=t,h=e;h<=2&&(l-=1,h+=12);const d=Math.floor(l/100),g=2-d+Math.floor(d/4),v=(r+(a+o/60)/60)/24;return Math.floor(365.25*(l+4716))+Math.floor(30.6001*(h+1))+i+v+g-1524.5}function KI(n){return dY(n)-2451545}function pY(n){const e=18.697374558+24.06570982441908*KI(n);return hY(e%24*(Math.PI/12))}function mY(n){const t=KI(n),e=(357.529+.98560028*t)*Lx,r=(280.459+.98564736*t)*Lx+(1.915*Math.sin(e)+.02*Math.sin(2*e))*Lx,a=(23.439-36e-8*t)*Lx,o=Math.cos(r),l=Math.cos(a)*Math.sin(r),h=Math.sin(a)*Math.sin(r);return{x:o,y:l,z:h}}function gY(n){const t=mY(n),e=pY(n),i=Math.cos(e),r=Math.sin(e),a=t.x*i+t.y*r,o=-t.x*r+t.y*i,l=t.z;return{x:a,y:o,z:l}}const QI=66743e-15,TC=5972e21,zo=6371e3,wD=1.225,Vw=7292115e-11,$I={rocky:{type:"rocky",density:3e3,strength:1e8,ablationCoeff:1e-9,dragCoeff:1.3},iron:{type:"iron",density:7800,strength:5e8,ablationCoeff:5e-10,dragCoeff:1.1},icy:{type:"icy",density:1e3,strength:1e6,ablationCoeff:5e-9,dragCoeff:1.4},carbon:{type:"carbon",density:2200,strength:5e7,ablationCoeff:2e-9,dragCoeff:1.35}};function zh(n){return Math.hypot(n.x,n.y,n.z)}function xy(n,t){return{x:n.x+t.x,y:n.y+t.y,z:n.z+t.z}}function ag(n,t){return{x:n.x*t,y:n.y*t,z:n.z*t}}function vY(n,t){return{x:n.x-t.x,y:n.y-t.y,z:n.z-t.z}}function yY(n){if(n<=0)return wD;if(n<=11e3){const t=288.15-.0065*n;return 101325*Math.pow(t/288.15,5.256)/(287.05*t)}else{if(n<=25e3)return 22632*Math.exp(-(n-11e3)/6341.6)/(287.05*216.65);if(n<=47e3){const t=216.65+.001*(n-25e3);return 2488.66*Math.pow(t/216.65,-34.163)/(287.05*t)}else return wD*Math.exp(-n/7e3)}}function _Y(n){return n<=11e3?288.15-.0065*n:n<=25e3?216.65:n<=47e3?216.65+.001*(n-25e3):Math.max(180,270.65-.0028*(n-47e3))}function xY(n,t=1){const e=n/2*Math.sqrt(t);return Math.PI*e*e}function bY(n){const t=zh(n),e=ag(n,-1/t),i=QI*TC/(t*t);return ag(e,i)}function JI(n,t){const{dt:e}=t,i=zh(n.positionM),r=Math.max(0,i-zo),a=yY(r),o=_Y(r),l=n.asteroidType?$I[n.asteroidType]:{density:3e3,strength:1e8,ablationCoeff:1e-9,dragCoeff:1.3},h=n.dragCoeff??l.dragCoeff,d=xY(n.diameterM*Math.sqrt(n.areaMultiplier??1),t.attitudeFactor??1),g={x:0,y:0,z:Vw},v={x:g.y*n.positionM.z-g.z*n.positionM.y,y:g.z*n.positionM.x-g.x*n.positionM.z,z:g.x*n.positionM.y-g.y*n.positionM.x},_=vY(n.velocityMs,v),b=zh(_),A=.5*a*b*b*h*d/n.massKg,T=b>0?ag(_,-1/b):{x:0,y:0,z:0},E=ag(T,A),O=bY(n.positionM),P=xy(O,E),z=xy(n.velocityMs,ag(P,e)),F=xy(n.positionM,ag(z,e)),I=zh(z),q=.5*n.massKg*I*I,Y=.5*a*b*b,G=o+b*b/(2*1005),K=.5*Math.sqrt(a/(zo/1e3))*Math.sqrt(a)*Math.pow(b,3),st=l.ablationCoeff;let lt=0,dt=n.massKg,vt=n.diameterM,X=n.strength??l.strength;if(st>0&&r<15e4&&I>100){lt=Math.max(0,st*K*d*e),lt=Math.min(lt,n.massKg*.05),dt=Math.max(.1,n.massKg-lt);const Q=l.density,ut=dt/Q;vt=2*Math.cbrt(3*ut/(4*Math.PI));const gt=K/1e6;X=Math.max(X*.9,X-gt*1e6)}let it=!1,tt=n.fragmentCount??1,yt=n.areaMultiplier??1;if(!n.fragmented&&Y>X){it=!0;const Q=Y/X;tt=Math.min(10,Math.floor(2+Q)),yt=Math.sqrt(tt)*1.5}return{body:{...n,positionM:F,velocityMs:z,massKg:dt,diameterM:vt,strength:X,fragmented:n.fragmented||it,fragmentCount:tt,areaMultiplier:yt},dynamicPressurePa:Y,altitudeM:r,speedMs:I,energyJ:q,heatFluxWm2:K,massLossKg:lt,temperatureK:G,fragmentationOccurred:it}}function tB(n){return n/4184e12}function SY(n){return Math.sqrt(2e9*Math.max(n,0))*1e-6/TC}function eB(n,t=4e3){let e={...n};const i=[];let r=0,a=0,o=0;for(;o<t;){const l=zh(e.positionM),h=Math.max(0,l-zo);let d=.5;h<15e4&&(d=.2),h<5e4&&(d=.05),h<1e4&&(d=.02);const g=JI(e,{dt:d});e=g.body,i.push({...e.positionM}),r+=d,a=Math.max(a,g.dynamicPressurePa);const v=zh(e.positionM);if(v<=zo)return{trajectory:i,impactPoint:{...e.positionM},timeToImpact:r,maxDynamicPressure:a};const _=zh(e.velocityMs),b=Math.sqrt(2*QI*TC/v);if(_>b&&v>zo*2)break;o++}return{trajectory:i,impactPoint:null,timeToImpact:0,maxDynamicPressure:a}}function nB(n,t){const e=.67*Math.log10(n*4184e12)-5.87,i=Math.max(1,e-3*Math.log10(t)+2),a=t*1e3/6e3;return{magnitude:Math.max(0,e),intensity:Math.max(1,Math.min(12,i)),arrivalTime:a}}function iB(n,t){const e=n*1e6,i=t/Math.cbrt(e);let r=0;i<10&&(r=808*Math.pow(i,-1.3)+1.9*Math.pow(i,-2),r*=1e3);const o=t*1e3/343,l=r*.5,h=Math.sqrt(2*l/1.225);return{overpressure:Math.max(0,r),arrivalTime:o,dynamicPressure:Math.max(0,l),windSpeed:Math.max(0,h)}}function rB(n,t="sediment"){const e=n*4184e12,r={sediment:{k1:1.8,k2:.13,density:2e3},hardrock:{k1:1.3,k2:.15,density:2700},water:{k1:3.2,k2:.11,density:1e3}}[t],a=r.k1*Math.pow(e/4184e12,1/3)*1e3,o=a*r.k2,l=o*.15,h=a*2.5;return{diameter:Math.max(1,a),depth:Math.max(.1,o),rimHeight:Math.max(.01,l),ejectaRange:Math.max(a,h)}}function MY(n,t){if(n>66.5)return"Северный Ледовитый океан";if(n<-60)return"Южный океан";if(t>120&&t<=180||t>=-180&&t<-80)return n>0?"северная часть Тихого океана":"южная часть Тихого океана";if(t>=-80&&t<=20)return n>0?"северная часть Атлантического океана":"южная часть Атлантического океана";if(t>20&&t<=120){if(n<0)return"Индийский океан";if(n<30)return"северная часть Индийского океана"}if(n>=35&&n<=85&&t>=-15&&t<=180){if(t>=19&&t<=169&&n>=35){if(t>=19&&t<=70&&n>=35&&n<=82)return"Россия/Сибирь";if(t>=70&&t<=140&&n>=15&&n<=55)return"Китай/Центральная Азия";if(t>=100&&t<=169&&n>=35)return"Дальний Восток"}if(t>=-15&&t<=50&&n>=35&&n<=75)return"Европа"}return n>=-60&&n<=35&&t>=10&&t<=55?"Африка":n>=15&&n<=85&&t>=-180&&t<=-50?"Северная Америка":n>=-60&&n<=15&&t>=-85&&t<=-30?"Южная Америка":n>=-50&&n<=10&&t>=110&&t<=180?"Австралия/Океания":Math.abs(t)>120?"Тихий океан":t>20&&t<=120?"Индийский океан":"Атлантический океан"}function EY(n){const t=n.angleDeg*Math.PI/180,e=Math.cos(t)*n.entrySpeedMs,i=Math.sin(t)*n.entrySpeedMs;let r=n.targetLatDeg,a=n.targetLonDeg,o=0;const l=[1,.7,.5,.4,.3];for(let M=0;M<5;M++){const A=Ep(r,a,n.entryAltitudeM),T=jw(r,a),E={x:T.e.x*e+T.u.x*-i,y:T.e.y*e+T.u.y*-i,z:T.e.z*e+T.u.z*-i},O={x:0,y:0,z:Vw},P={x:O.y*A.z-O.z*A.y,y:O.z*A.x-O.x*A.z,z:O.x*A.y-O.y*A.x},z=xy(E,P),F={positionM:A,velocityMs:z,massKg:n.massKg,diameterM:n.diameterM,asteroidType:n.asteroidType},I=eB(F);if(!I.impactPoint)break;const q=Vy(I.impactPoint),Y=n.targetLatDeg-q.lat,G=n.targetLonDeg-q.lng;o=Math.sqrt(Y*Y+G*G)*111;const j=l[Math.min(M,l.length-1)];if(r=r+Y*j,a=a+G*j,o<1)break}const h=Ep(r,a,n.entryAltitudeM),d=jw(r,a),g={x:d.e.x*e+d.u.x*-i,y:d.e.y*e+d.u.y*-i,z:d.e.z*e+d.u.z*-i},v={x:0,y:0,z:Vw},_={x:v.y*h.z-v.z*h.y,y:v.z*h.x-v.x*h.z,z:v.x*h.y-v.y*h.x},b=xy(g,_);return{correctedPosition:h,correctedVelocity:b,expectedDeviation:o}}const Yv=new Map,TY=(n,t)=>`${n.toFixed(5)},${t.toFixed(5)}`;function aB(n){const t=n.toLowerCase();return t.includes("indian")?"Индийский океан":t.includes("atlantic")?t.includes("north")?"северная часть Атлантического океана":t.includes("south")?"южная часть Атлантического океана":"Атлантический океан":t.includes("pacific")?t.includes("north")?"северная часть Тихого океана":t.includes("south")?"южная часть Тихого океана":"Тихий океан":t.includes("arctic")?"Северный Ледовитый океан":t.includes("southern")||t.includes("antarctic")?"Южный океан":n}function wC(n,t=", "){return n.filter(Boolean).join(t)}async function VE(n,t=5e3){const e=new AbortController,i=setTimeout(()=>e.abort(),t);try{const r=await fetch(n,{signal:e.signal,headers:{Accept:"application/json"}});if(!r.ok)throw new Error(`${r.status}`);return await r.json()}finally{clearTimeout(i)}}function wY(n){if(!n)return null;const t=n.address||{},e=t.ocean||t.sea||t.sea_area;if(e)return{label:aB(String(e)),source:"nominatim"};const i=t.water||t.waterway;if(i)return{label:String(i),source:"nominatim"};const r=t.city||t.town||t.village||t.hamlet||t.locality||t.county||t.region,a=t.state||t.province,o=t.country;return r||a||o?{label:wC([r,a,o]),source:"nominatim"}:n.display_name?{label:String(n.display_name).split(",").slice(0,3).join(", "),source:"nominatim"}:null}function AY(n){if(!n)return null;const t=n.address||{},e=t.ocean||t.sea;if(e)return{label:aB(String(e)),source:"mapsco"};const i=t.city||t.town||t.village||t.hamlet||t.suburb||t.county,r=t.state,a=t.country;return i||r||a?{label:wC([i,r,a]),source:"mapsco"}:n.display_name?{label:String(n.display_name).split(",").slice(0,3).join(", "),source:"mapsco"}:null}function CY(n,t,e){if(!n||!n.results||!n.results.length)return null;const i=n.results[0],r=i.name,a=i.admin1||i.admin2,o=i.country;let l=wC([r,a,o]);if(typeof i.latitude=="number"&&typeof i.longitude=="number"){const h=pS({lat:t,lng:e},{lat:i.latitude,lng:i.longitude});if(isFinite(h)){const d=Math.round(h/1e3);l+=d>0?` — близко к ${r} (≈${d} км)`:""}}return{label:l,source:"open-meteo"}}async function RY(n,t){const e=TY(n,t),i=Yv.get(e);if(i)return i;try{const a=`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${n}&lon=${t}&accept-language=ru&zoom=10&addressdetails=1`,o=await VE(a,6e3),l=wY(o);if(l)return Yv.set(e,l),l}catch{}try{const a=`https://geocode.maps.co/reverse?format=json&lat=${n}&lon=${t}&accept-language=ru`,o=await VE(a,6e3),l=AY(o);if(l)return Yv.set(e,l),l}catch{}try{const a=`https://geocoding-api.open-meteo.com/v1/reverse?latitude=${n}&longitude=${t}&language=ru&count=1`,o=await VE(a,6e3),l=CY(o,n,t);if(l)return Yv.set(e,l),l}catch{}const r={label:"Не удалось определить (офлайн)",source:"fallback"};return Yv.set(e,r),r}function OY(n,t){const e=H.useRef(t);H.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}function PY(n,t,e){t.center!==e.center&&n.setLatLng(t.center),t.radius!=null&&t.radius!==e.radius&&n.setRadius(t.radius)}var sB=SU();const DY=1;function LY(n){return Object.freeze({__version:DY,map:n})}function oB(n,t){return Object.freeze({...n,...t})}const AC=H.createContext(null);function CC(){const n=H.use(AC);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function lB(n){function t(e,i){const{instance:r,context:a}=n(e).current;H.useImperativeHandle(i,()=>r);const{children:o}=e;return o==null?null:mf.createElement(AC,{value:a},o)}return H.forwardRef(t)}function NY(n){function t(e,i){const{instance:r}=n(e).current;return H.useImperativeHandle(i,()=>r),null}return H.forwardRef(t)}function uB(n,t){const e=H.useRef(void 0);H.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function RC(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}var sy={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var UY=sy.exports,AD;function zY(){return AD||(AD=1,(function(n,t){(function(e,i){i(t)})(UY,(function(e){var i="1.9.4";function r(c){var y,w,U,k;for(w=1,U=arguments.length;w<U;w++){k=arguments[w];for(y in k)c[y]=k[y]}return c}var a=Object.create||(function(){function c(){}return function(y){return c.prototype=y,new c}})();function o(c,y){var w=Array.prototype.slice;if(c.bind)return c.bind.apply(c,w.call(arguments,1));var U=w.call(arguments,2);return function(){return c.apply(y,U.length?U.concat(w.call(arguments)):arguments)}}var l=0;function h(c){return"_leaflet_id"in c||(c._leaflet_id=++l),c._leaflet_id}function d(c,y,w){var U,k,J,ft;return ft=function(){U=!1,k&&(J.apply(w,k),k=!1)},J=function(){U?k=arguments:(c.apply(w,arguments),setTimeout(ft,y),U=!0)},J}function g(c,y,w){var U=y[1],k=y[0],J=U-k;return c===U&&w?c:((c-k)%J+J)%J+k}function v(){return!1}function _(c,y){if(y===!1)return c;var w=Math.pow(10,y===void 0?6:y);return Math.round(c*w)/w}function b(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function M(c){return b(c).split(/\s+/)}function A(c,y){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?a(c.options):{});for(var w in y)c.options[w]=y[w];return c.options}function T(c,y,w){var U=[];for(var k in c)U.push(encodeURIComponent(w?k.toUpperCase():k)+"="+encodeURIComponent(c[k]));return(!y||y.indexOf("?")===-1?"?":"&")+U.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function O(c,y){return c.replace(E,function(w,U){var k=y[U];if(k===void 0)throw new Error("No value provided for variable "+w);return typeof k=="function"&&(k=k(y)),k})}var P=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function z(c,y){for(var w=0;w<c.length;w++)if(c[w]===y)return w;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var q=0;function Y(c){var y=+new Date,w=Math.max(0,16-(y-q));return q=y+w,window.setTimeout(c,w)}var G=window.requestAnimationFrame||I("RequestAnimationFrame")||Y,j=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function K(c,y,w){if(w&&G===Y)c.call(y);else return G.call(window,o(c,y))}function st(c){c&&j.call(window,c)}var lt={__proto__:null,extend:r,create:a,bind:o,get lastId(){return l},stamp:h,throttle:d,wrapNum:g,falseFn:v,formatNum:_,trim:b,splitWords:M,setOptions:A,getParamString:T,template:O,isArray:P,indexOf:z,emptyImageUrl:F,requestFn:G,cancelFn:j,requestAnimFrame:K,cancelAnimFrame:st};function dt(){}dt.extend=function(c){var y=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=y.__super__=this.prototype,U=a(w);U.constructor=y,y.prototype=U;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(y[k]=this[k]);return c.statics&&r(y,c.statics),c.includes&&(vt(c.includes),r.apply(null,[U].concat(c.includes))),r(U,c),delete U.statics,delete U.includes,U.options&&(U.options=w.options?a(w.options):{},r(U.options,c.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var J=0,ft=U._initHooks.length;J<ft;J++)U._initHooks[J].call(this)}},y},dt.include=function(c){var y=this.prototype.options;return r(this.prototype,c),c.options&&(this.prototype.options=y,this.mergeOptions(c.options)),this},dt.mergeOptions=function(c){return r(this.prototype.options,c),this},dt.addInitHook=function(c){var y=Array.prototype.slice.call(arguments,1),w=typeof c=="function"?c:function(){this[c].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function vt(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=P(c)?c:[c];for(var y=0;y<c.length;y++)c[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(c,y,w){if(typeof c=="object")for(var U in c)this._on(U,c[U],y);else{c=M(c);for(var k=0,J=c.length;k<J;k++)this._on(c[k],y,w)}return this},off:function(c,y,w){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var U in c)this._off(U,c[U],y);else{c=M(c);for(var k=arguments.length===1,J=0,ft=c.length;J<ft;J++)k?this._off(c[J]):this._off(c[J],y,w)}return this},_on:function(c,y,w,U){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(c,y,w)===!1){w===this&&(w=void 0);var k={fn:y,ctx:w};U&&(k.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(k)}},_off:function(c,y,w){var U,k,J;if(this._events&&(U=this._events[c],!!U)){if(arguments.length===1){if(this._firingCount)for(k=0,J=U.length;k<J;k++)U[k].fn=v;delete this._events[c];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ft=this._listens(c,y,w);if(ft!==!1){var Ct=U[ft];this._firingCount&&(Ct.fn=v,this._events[c]=U=U.slice()),U.splice(ft,1)}}},fire:function(c,y,w){if(!this.listens(c,w))return this;var U=r({},y,{type:c,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var k=this._events[c];if(k){this._firingCount=this._firingCount+1||1;for(var J=0,ft=k.length;J<ft;J++){var Ct=k[J],kt=Ct.fn;Ct.once&&this.off(c,kt,Ct.ctx),kt.call(Ct.ctx||this,U)}this._firingCount--}}return w&&this._propagateEvent(U),this},listens:function(c,y,w,U){typeof c!="string"&&console.warn('"string" type argument expected');var k=y;typeof y!="function"&&(U=!!y,k=void 0,w=void 0);var J=this._events&&this._events[c];if(J&&J.length&&this._listens(c,k,w)!==!1)return!0;if(U){for(var ft in this._eventParents)if(this._eventParents[ft].listens(c,y,w,U))return!0}return!1},_listens:function(c,y,w){if(!this._events)return!1;var U=this._events[c]||[];if(!y)return!!U.length;w===this&&(w=void 0);for(var k=0,J=U.length;k<J;k++)if(U[k].fn===y&&U[k].ctx===w)return k;return!1},once:function(c,y,w){if(typeof c=="object")for(var U in c)this._on(U,c[U],y,!0);else{c=M(c);for(var k=0,J=c.length;k<J;k++)this._on(c[k],y,w,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[h(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[h(c)],this},_propagateEvent:function(c){for(var y in this._eventParents)this._eventParents[y].fire(c.type,r({layer:c.target,propagatedFrom:c.target},c),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var it=dt.extend(X);function tt(c,y,w){this.x=w?Math.round(c):c,this.y=w?Math.round(y):y}var yt=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};tt.prototype={clone:function(){return new tt(this.x,this.y)},add:function(c){return this.clone()._add(Q(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(Q(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new tt(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new tt(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yt(this.x),this.y=yt(this.y),this},distanceTo:function(c){c=Q(c);var y=c.x-this.x,w=c.y-this.y;return Math.sqrt(y*y+w*w)},equals:function(c){return c=Q(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=Q(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function Q(c,y,w){return c instanceof tt?c:P(c)?new tt(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new tt(c.x,c.y):new tt(c,y,w)}function ut(c,y){if(c)for(var w=y?[c,y]:c,U=0,k=w.length;U<k;U++)this.extend(w[U])}ut.prototype={extend:function(c){var y,w;if(!c)return this;if(c instanceof tt||typeof c[0]=="number"||"x"in c)y=w=Q(c);else if(c=gt(c),y=c.min,w=c.max,!y||!w)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=w.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(c){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var y,w;return typeof c[0]=="number"||c instanceof tt?c=Q(c):c=gt(c),c instanceof ut?(y=c.min,w=c.max):y=w=c,y.x>=this.min.x&&w.x<=this.max.x&&y.y>=this.min.y&&w.y<=this.max.y},intersects:function(c){c=gt(c);var y=this.min,w=this.max,U=c.min,k=c.max,J=k.x>=y.x&&U.x<=w.x,ft=k.y>=y.y&&U.y<=w.y;return J&&ft},overlaps:function(c){c=gt(c);var y=this.min,w=this.max,U=c.min,k=c.max,J=k.x>y.x&&U.x<w.x,ft=k.y>y.y&&U.y<w.y;return J&&ft},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var y=this.min,w=this.max,U=Math.abs(y.x-w.x)*c,k=Math.abs(y.y-w.y)*c;return gt(Q(y.x-U,y.y-k),Q(w.x+U,w.y+k))},equals:function(c){return c?(c=gt(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function gt(c,y){return!c||c instanceof ut?c:new ut(c,y)}function Lt(c,y){if(c)for(var w=y?[c,y]:c,U=0,k=w.length;U<k;U++)this.extend(w[U])}Lt.prototype={extend:function(c){var y=this._southWest,w=this._northEast,U,k;if(c instanceof Zt)U=c,k=c;else if(c instanceof Lt){if(U=c._southWest,k=c._northEast,!U||!k)return this}else return c?this.extend(_t(c)||Dt(c)):this;return!y&&!w?(this._southWest=new Zt(U.lat,U.lng),this._northEast=new Zt(k.lat,k.lng)):(y.lat=Math.min(U.lat,y.lat),y.lng=Math.min(U.lng,y.lng),w.lat=Math.max(k.lat,w.lat),w.lng=Math.max(k.lng,w.lng)),this},pad:function(c){var y=this._southWest,w=this._northEast,U=Math.abs(y.lat-w.lat)*c,k=Math.abs(y.lng-w.lng)*c;return new Lt(new Zt(y.lat-U,y.lng-k),new Zt(w.lat+U,w.lng+k))},getCenter:function(){return new Zt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Zt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Zt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof Zt||"lat"in c?c=_t(c):c=Dt(c);var y=this._southWest,w=this._northEast,U,k;return c instanceof Lt?(U=c.getSouthWest(),k=c.getNorthEast()):U=k=c,U.lat>=y.lat&&k.lat<=w.lat&&U.lng>=y.lng&&k.lng<=w.lng},intersects:function(c){c=Dt(c);var y=this._southWest,w=this._northEast,U=c.getSouthWest(),k=c.getNorthEast(),J=k.lat>=y.lat&&U.lat<=w.lat,ft=k.lng>=y.lng&&U.lng<=w.lng;return J&&ft},overlaps:function(c){c=Dt(c);var y=this._southWest,w=this._northEast,U=c.getSouthWest(),k=c.getNorthEast(),J=k.lat>y.lat&&U.lat<w.lat,ft=k.lng>y.lng&&U.lng<w.lng;return J&&ft},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,y){return c?(c=Dt(c),this._southWest.equals(c.getSouthWest(),y)&&this._northEast.equals(c.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Dt(c,y){return c instanceof Lt?c:new Lt(c,y)}function Zt(c,y,w){if(isNaN(c)||isNaN(y))throw new Error("Invalid LatLng object: ("+c+", "+y+")");this.lat=+c,this.lng=+y,w!==void 0&&(this.alt=+w)}Zt.prototype={equals:function(c,y){if(!c)return!1;c=_t(c);var w=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return w<=(y===void 0?1e-9:y)},toString:function(c){return"LatLng("+_(this.lat,c)+", "+_(this.lng,c)+")"},distanceTo:function(c){return ae.distance(this,_t(c))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(c){var y=180*c/40075017,w=y/Math.cos(Math.PI/180*this.lat);return Dt([this.lat-y,this.lng-w],[this.lat+y,this.lng+w])},clone:function(){return new Zt(this.lat,this.lng,this.alt)}};function _t(c,y,w){return c instanceof Zt?c:P(c)&&typeof c[0]!="object"?c.length===3?new Zt(c[0],c[1],c[2]):c.length===2?new Zt(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new Zt(c.lat,"lng"in c?c.lng:c.lon,c.alt):y===void 0?null:new Zt(c,y,w)}var Qt={latLngToPoint:function(c,y){var w=this.projection.project(c),U=this.scale(y);return this.transformation._transform(w,U)},pointToLatLng:function(c,y){var w=this.scale(y),U=this.transformation.untransform(c,w);return this.projection.unproject(U)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var y=this.projection.bounds,w=this.scale(c),U=this.transformation.transform(y.min,w),k=this.transformation.transform(y.max,w);return new ut(U,k)},infinite:!1,wrapLatLng:function(c){var y=this.wrapLng?g(c.lng,this.wrapLng,!0):c.lng,w=this.wrapLat?g(c.lat,this.wrapLat,!0):c.lat,U=c.alt;return new Zt(w,y,U)},wrapLatLngBounds:function(c){var y=c.getCenter(),w=this.wrapLatLng(y),U=y.lat-w.lat,k=y.lng-w.lng;if(U===0&&k===0)return c;var J=c.getSouthWest(),ft=c.getNorthEast(),Ct=new Zt(J.lat-U,J.lng-k),kt=new Zt(ft.lat-U,ft.lng-k);return new Lt(Ct,kt)}},ae=r({},Qt,{wrapLng:[-180,180],R:6371e3,distance:function(c,y){var w=Math.PI/180,U=c.lat*w,k=y.lat*w,J=Math.sin((y.lat-c.lat)*w/2),ft=Math.sin((y.lng-c.lng)*w/2),Ct=J*J+Math.cos(U)*Math.cos(k)*ft*ft,kt=2*Math.atan2(Math.sqrt(Ct),Math.sqrt(1-Ct));return this.R*kt}}),Xt=6378137,le={R:Xt,MAX_LATITUDE:85.0511287798,project:function(c){var y=Math.PI/180,w=this.MAX_LATITUDE,U=Math.max(Math.min(w,c.lat),-w),k=Math.sin(U*y);return new tt(this.R*c.lng*y,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(c){var y=180/Math.PI;return new Zt((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*y,c.x*y/this.R)},bounds:(function(){var c=Xt*Math.PI;return new ut([-c,-c],[c,c])})()};function pe(c,y,w,U){if(P(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=y,this._c=w,this._d=U}pe.prototype={transform:function(c,y){return this._transform(c.clone(),y)},_transform:function(c,y){return y=y||1,c.x=y*(this._a*c.x+this._b),c.y=y*(this._c*c.y+this._d),c},untransform:function(c,y){return y=y||1,new tt((c.x/y-this._b)/this._a,(c.y/y-this._d)/this._c)}};function jt(c,y,w,U){return new pe(c,y,w,U)}var ot=r({},ae,{code:"EPSG:3857",projection:le,transformation:(function(){var c=.5/(Math.PI*le.R);return jt(c,.5,-c,.5)})()}),Ht=r({},ot,{code:"EPSG:900913"});function Gt(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Yt(c,y){var w="",U,k,J,ft,Ct,kt;for(U=0,J=c.length;U<J;U++){for(Ct=c[U],k=0,ft=Ct.length;k<ft;k++)kt=Ct[k],w+=(k?"L":"M")+kt.x+" "+kt.y;w+=y?je.svg?"z":"x":""}return w||"M0 0"}var At=document.documentElement.style,me="ActiveXObject"in window,qt=me&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),Le=Di("webkit"),He=Di("android"),$=Di("android 2")||Di("android 3"),Z=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Mt=He&&Di("Google")&&Z<537&&!("AudioNode"in window),Nt=!!window.opera,$t=!te&&Di("chrome"),It=Di("gecko")&&!Le&&!Nt&&!me,Me=!$t&&Di("safari"),ve=Di("phantom"),Oe="OTransition"in At,Pe=navigator.platform.indexOf("Win")===0,oe=me&&"transition"in At,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$,De="MozPerspective"in At,ct=!window.L_DISABLE_3D&&(oe||ye||De)&&!Oe&&!ve,Et=typeof orientation<"u"||Di("mobile"),fe=Et&&Le,pt=Et&&ye,ie=!window.PointerEvent&&window.MSPointerEvent,he=!!(window.PointerEvent||ie),_e="ontouchstart"in window||!!window.TouchEvent,de=!window.L_NO_TOUCH&&(_e||he),re=Et&&Nt,we=Et&&It,ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,bn=(function(){var c=!1;try{var y=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",v,y),window.removeEventListener("testPassiveEventSupport",v,y)}catch{}return c})(),gn=(function(){return!!document.createElement("canvas").getContext})(),Fi=!!(document.createElementNS&&Gt("svg").createSVGRect),ci=!!Fi&&(function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Hi=!Fi&&(function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var y=c.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),vi=navigator.platform.indexOf("Mac")===0,Ha=navigator.platform.indexOf("Linux")===0;function Di(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var je={ie:me,ielt9:qt,edge:te,webkit:Le,android:He,android23:$,androidStock:Mt,opera:Nt,chrome:$t,gecko:It,safari:Me,phantom:ve,opera12:Oe,win:Pe,ie3d:oe,webkit3d:ye,gecko3d:De,any3d:ct,mobile:Et,mobileWebkit:fe,mobileWebkit3d:pt,msPointer:ie,pointer:he,touch:de,touchNative:_e,mobileOpera:re,mobileGecko:we,retina:ke,passiveEvents:bn,canvas:gn,svg:Fi,vml:Hi,inlineSvg:ci,mac:vi,linux:Ha},Jr=je.msPointer?"MSPointerDown":"pointerdown",ta=je.msPointer?"MSPointerMove":"pointermove",ea=je.msPointer?"MSPointerUp":"pointerup",ri=je.msPointer?"MSPointerCancel":"pointercancel",ba={touchstart:Jr,touchmove:ta,touchend:ea,touchcancel:ri},us={touchstart:Tt,touchmove:Bt,touchend:Bt,touchcancel:Bt},Sa={},Ds=!1;function ki(c,y,w){return y==="touchstart"&&Ot(),us[y]?(w=us[y].bind(this,w),c.addEventListener(ba[y],w,!1),w):(console.warn("wrong event specified:",y),v)}function Tu(c,y,w){if(!ba[y]){console.warn("wrong event specified:",y);return}c.removeEventListener(ba[y],w,!1)}function wu(c){Sa[c.pointerId]=c}function nt(c){Sa[c.pointerId]&&(Sa[c.pointerId]=c)}function St(c){delete Sa[c.pointerId]}function Ot(){Ds||(document.addEventListener(Jr,wu,!0),document.addEventListener(ta,nt,!0),document.addEventListener(ea,St,!0),document.addEventListener(ri,St,!0),Ds=!0)}function Bt(c,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var w in Sa)y.touches.push(Sa[w]);y.changedTouches=[y],c(y)}}function Tt(c,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&yi(y),Bt(c,y)}function ge(c){var y={},w,U;for(U in c)w=c[U],y[U]=w&&w.bind?w.bind(c):w;return c=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Se=200;function Ne(c,y){c.addEventListener("dblclick",y);var w=0,U;function k(J){if(J.detail!==1){U=J.detail;return}if(!(J.pointerType==="mouse"||J.sourceCapabilities&&!J.sourceCapabilities.firesTouchEvents)){var ft=Pu(J);if(!(ft.some(function(kt){return kt instanceof HTMLLabelElement&&kt.attributes.for})&&!ft.some(function(kt){return kt instanceof HTMLInputElement||kt instanceof HTMLSelectElement}))){var Ct=Date.now();Ct-w<=Se?(U++,U===2&&y(ge(J))):U=1,w=Ct}}}return c.addEventListener("click",k),{dblclick:y,simDblclick:k}}function Te(c,y){c.removeEventListener("dblclick",y.dblclick),c.removeEventListener("click",y.simDblclick)}var We=ji(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ze=ji(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Be=Ze==="webkitTransition"||Ze==="OTransition"?Ze+"End":"transitionend";function vn(c){return typeof c=="string"?document.getElementById(c):c}function Pn(c,y){var w=c.style[y]||c.currentStyle&&c.currentStyle[y];if((!w||w==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(c,null);w=U?U[y]:null}return w==="auto"?null:w}function Xe(c,y,w){var U=document.createElement(c);return U.className=y||"",w&&w.appendChild(U),U}function Je(c){var y=c.parentNode;y&&y.removeChild(c)}function cn(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function Ve(c){var y=c.parentNode;y&&y.lastChild!==c&&y.appendChild(c)}function Wn(c){var y=c.parentNode;y&&y.firstChild!==c&&y.insertBefore(c,y.firstChild)}function Sn(c,y){if(c.classList!==void 0)return c.classList.contains(y);var w=Li(c);return w.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(w)}function Ye(c,y){if(c.classList!==void 0)for(var w=M(y),U=0,k=w.length;U<k;U++)c.classList.add(w[U]);else if(!Sn(c,y)){var J=Li(c);tr(c,(J?J+" ":"")+y)}}function Hn(c,y){c.classList!==void 0?c.classList.remove(y):tr(c,b((" "+Li(c)+" ").replace(" "+y+" "," ")))}function tr(c,y){c.className.baseVal===void 0?c.className=y:c.className.baseVal=y}function Li(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function Tn(c,y){"opacity"in c.style?c.style.opacity=y:"filter"in c.style&&Nr(c,y)}function Nr(c,y){var w=!1,U="DXImageTransform.Microsoft.Alpha";try{w=c.filters.item(U)}catch{if(y===1)return}y=Math.round(y*100),w?(w.Enabled=y!==100,w.Opacity=y):c.style.filter+=" progid:"+U+"(opacity="+y+")"}function ji(c){for(var y=document.documentElement.style,w=0;w<c.length;w++)if(c[w]in y)return c[w];return!1}function Kn(c,y,w){var U=y||new tt(0,0);c.style[We]=(je.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(w?" scale("+w+")":"")}function Nn(c,y){c._leaflet_pos=y,je.any3d?Kn(c,y):(c.style.left=y.x+"px",c.style.top=y.y+"px")}function Ma(c){return c._leaflet_pos||new tt(0,0)}var Ci,Au,Il;if("onselectstart"in document)Ci=function(){sn(window,"selectstart",yi)},Au=function(){jn(window,"selectstart",yi)};else{var eo=ji(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ci=function(){if(eo){var c=document.documentElement.style;Il=c[eo],c[eo]="none"}},Au=function(){eo&&(document.documentElement.style[eo]=Il,Il=void 0)}}function Cu(){sn(window,"dragstart",yi)}function Mc(){jn(window,"dragstart",yi)}var Ec,Bl;function Ru(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(Fl(),Ec=c,Bl=c.style.outlineStyle,c.style.outlineStyle="none",sn(window,"keydown",Fl))}function Fl(){Ec&&(Ec.style.outlineStyle=Bl,Ec=void 0,Bl=void 0,jn(window,"keydown",Fl))}function no(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function io(c){var y=c.getBoundingClientRect();return{x:y.width/c.offsetWidth||1,y:y.height/c.offsetHeight||1,boundingClientRect:y}}var Jh={__proto__:null,TRANSFORM:We,TRANSITION:Ze,TRANSITION_END:Be,get:vn,getStyle:Pn,create:Xe,remove:Je,empty:cn,toFront:Ve,toBack:Wn,hasClass:Sn,addClass:Ye,removeClass:Hn,setClass:tr,getClass:Li,setOpacity:Tn,testProp:ji,setTransform:Kn,setPosition:Nn,getPosition:Ma,get disableTextSelection(){return Ci},get enableTextSelection(){return Au},disableImageDrag:Cu,enableImageDrag:Mc,preventOutline:Ru,restoreOutline:Fl,getSizedParentNode:no,getScale:io};function sn(c,y,w,U){if(y&&typeof y=="object")for(var k in y)qo(c,k,y[k],w);else{y=M(y);for(var J=0,ft=y.length;J<ft;J++)qo(c,y[J],w,U)}return this}var ka="_leaflet_events";function jn(c,y,w,U){if(arguments.length===1)cs(c),delete c[ka];else if(y&&typeof y=="object")for(var k in y)fs(c,k,y[k],w);else if(y=M(y),arguments.length===2)cs(c,function(Ct){return z(y,Ct)!==-1});else for(var J=0,ft=y.length;J<ft;J++)fs(c,y[J],w,U);return this}function cs(c,y){for(var w in c[ka]){var U=w.split(/\d/)[0];(!y||y(U))&&fs(c,U,null,null,w)}}var Hl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qo(c,y,w,U){var k=y+h(w)+(U?"_"+h(U):"");if(c[ka]&&c[ka][k])return this;var J=function(Ct){return w.call(U||c,Ct||window.event)},ft=J;!je.touchNative&&je.pointer&&y.indexOf("touch")===0?J=ki(c,y,J):je.touch&&y==="dblclick"?J=Ne(c,J):"addEventListener"in c?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?c.addEventListener(Hl[y]||y,J,je.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(J=function(Ct){Ct=Ct||window.event,Xo(c,Ct)&&ft(Ct)},c.addEventListener(Hl[y],J,!1)):c.addEventListener(y,ft,!1):c.attachEvent("on"+y,J),c[ka]=c[ka]||{},c[ka][k]=J}function fs(c,y,w,U,k){k=k||y+h(w)+(U?"_"+h(U):"");var J=c[ka]&&c[ka][k];if(!J)return this;!je.touchNative&&je.pointer&&y.indexOf("touch")===0?Tu(c,y,J):je.touch&&y==="dblclick"?Te(c,J):"removeEventListener"in c?c.removeEventListener(Hl[y]||y,J,!1):c.detachEvent("on"+y,J),c[ka][k]=null}function ro(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function Ou(c){return qo(c,"wheel",ro),this}function kl(c){return sn(c,"mousedown touchstart dblclick contextmenu",ro),c._leaflet_disable_click=!0,this}function yi(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function ja(c){return yi(c),ro(c),this}function Pu(c){if(c.composedPath)return c.composedPath();for(var y=[],w=c.target;w;)y.push(w),w=w.parentNode;return y}function Ur(c,y){if(!y)return new tt(c.clientX,c.clientY);var w=io(y),U=w.boundingClientRect;return new tt((c.clientX-U.left)/w.x-y.clientLeft,(c.clientY-U.top)/w.y-y.clientTop)}var Wo=je.linux&&je.chrome?window.devicePixelRatio:je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function jl(c){return je.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/Wo:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function Xo(c,y){var w=y.relatedTarget;if(!w)return!0;try{for(;w&&w!==c;)w=w.parentNode}catch{return!1}return w!==c}var Bp={__proto__:null,on:sn,off:jn,stopPropagation:ro,disableScrollPropagation:Ou,disableClickPropagation:kl,preventDefault:yi,stop:ja,getPropagationPath:Pu,getMousePosition:Ur,getWheelDelta:jl,isExternalTarget:Xo,addListener:sn,removeListener:jn},Ls=it.extend({run:function(c,y,w,U){this.stop(),this._el=c,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=Ma(c),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(c){var y=+new Date-this._startTime,w=this._duration*1e3;y<w?this._runFrame(this._easeOut(y/w),c):(this._runFrame(1),this._complete())},_runFrame:function(c,y){var w=this._startPos.add(this._offset.multiplyBy(c));y&&w._round(),Nn(this._el,w),this.fire("step")},_complete:function(){st(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),wn=it.extend({options:{crs:ot,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,y){y=A(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(_t(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ze&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),sn(this._proxy,Be,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,y,w){if(y=y===void 0?this._zoom:this._limitZoom(y),c=this._limitCenter(_t(c),y,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=r({animate:w.animate},w.zoom),w.pan=r({animate:w.animate,duration:w.duration},w.pan));var U=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,y,w.zoom):this._tryAnimatedPan(c,w.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(c,y,w.pan&&w.pan.noMoveStart),this},setZoom:function(c,y){return this._loaded?this.setView(this.getCenter(),c,{zoom:y}):(this._zoom=c,this)},zoomIn:function(c,y){return c=c||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,y)},zoomOut:function(c,y){return c=c||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,y)},setZoomAround:function(c,y,w){var U=this.getZoomScale(y),k=this.getSize().divideBy(2),J=c instanceof tt?c:this.latLngToContainerPoint(c),ft=J.subtract(k).multiplyBy(1-1/U),Ct=this.containerPointToLatLng(k.add(ft));return this.setView(Ct,y,{zoom:w})},_getBoundsCenterZoom:function(c,y){y=y||{},c=c.getBounds?c.getBounds():Dt(c);var w=Q(y.paddingTopLeft||y.padding||[0,0]),U=Q(y.paddingBottomRight||y.padding||[0,0]),k=this.getBoundsZoom(c,!1,w.add(U));if(k=typeof y.maxZoom=="number"?Math.min(y.maxZoom,k):k,k===1/0)return{center:c.getCenter(),zoom:k};var J=U.subtract(w).divideBy(2),ft=this.project(c.getSouthWest(),k),Ct=this.project(c.getNorthEast(),k),kt=this.unproject(ft.add(Ct).divideBy(2).add(J),k);return{center:kt,zoom:k}},fitBounds:function(c,y){if(c=Dt(c),!c.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(c,y);return this.setView(w.center,w.zoom,y)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,y){return this.setView(c,this._zoom,{pan:y})},panBy:function(c,y){if(c=Q(c).round(),y=y||{},!c.x&&!c.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ls,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){Ye(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,w,y.duration||.25,y.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,y,w){if(w=w||{},w.animate===!1||!je.any3d)return this.setView(c,y,w);this._stop();var U=this.project(this.getCenter()),k=this.project(c),J=this.getSize(),ft=this._zoom;c=_t(c),y=y===void 0?ft:y;var Ct=Math.max(J.x,J.y),kt=Ct*this.getZoomScale(ft,y),ce=k.distanceTo(U)||1,Ae=1.42,Ie=Ae*Ae;function Ge(Ui){var ds=Ui?-1:1,mo=Ui?kt:Ct,il=kt*kt-Ct*Ct+ds*Ie*Ie*ce*ce,go=2*mo*Ie*ce,Uc=il/go,Gu=Math.sqrt(Uc*Uc+1)-Uc,Xa=Gu<1e-9?-18:Math.log(Gu);return Xa}function on(Ui){return(Math.exp(Ui)-Math.exp(-Ui))/2}function Qn(Ui){return(Math.exp(Ui)+Math.exp(-Ui))/2}function _i(Ui){return on(Ui)/Qn(Ui)}var Er=Ge(0);function Aa(Ui){return Ct*(Qn(Er)/Qn(Er+Ae*Ui))}function Yp(Ui){return Ct*(Qn(Er)*_i(Er+Ae*Ui)-on(Er))/Ie}function ud(Ui){return 1-Math.pow(1-Ui,1.5)}var hs=Date.now(),Jl=(Ge(1)-Er)/Ae,Xn=w.duration?1e3*w.duration:1e3*Jl*.8;function nl(){var Ui=(Date.now()-hs)/Xn,ds=ud(Ui)*Jl;Ui<=1?(this._flyToFrame=K(nl,this),this._move(this.unproject(U.add(k.subtract(U).multiplyBy(Yp(ds)/ce)),ft),this.getScaleZoom(Ct/Aa(ds),ft),{flyTo:!0})):this._move(c,y)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),nl.call(this),this},flyToBounds:function(c,y){var w=this._getBoundsCenterZoom(c,y);return this.flyTo(w.center,w.zoom,y)},setMaxBounds:function(c){return c=Dt(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var y=this.options.minZoom;return this.options.minZoom=c,this._loaded&&y!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var y=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&y!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,y){this._enforcingBounds=!0;var w=this.getCenter(),U=this._limitCenter(w,this._zoom,Dt(c));return w.equals(U)||this.panTo(U,y),this._enforcingBounds=!1,this},panInside:function(c,y){y=y||{};var w=Q(y.paddingTopLeft||y.padding||[0,0]),U=Q(y.paddingBottomRight||y.padding||[0,0]),k=this.project(this.getCenter()),J=this.project(c),ft=this.getPixelBounds(),Ct=gt([ft.min.add(w),ft.max.subtract(U)]),kt=Ct.getSize();if(!Ct.contains(J)){this._enforcingBounds=!0;var ce=J.subtract(Ct.getCenter()),Ae=Ct.extend(J).getSize().subtract(kt);k.x+=ce.x<0?-Ae.x:Ae.x,k.y+=ce.y<0?-Ae.y:Ae.y,this.panTo(this.unproject(k),y),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=r({animate:!1,pan:!0},c===!0?{animate:!0}:c);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),U=y.divideBy(2).round(),k=w.divideBy(2).round(),J=U.subtract(k);return!J.x&&!J.y?this:(c.animate&&c.pan?this.panBy(J):(c.pan&&this._rawPanBy(J),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=r({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),w=o(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,w,c):navigator.geolocation.getCurrentPosition(y,w,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var y=c.code,w=c.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var y=c.coords.latitude,w=c.coords.longitude,U=new Zt(y,w),k=U.toBounds(c.coords.accuracy*2),J=this._locateOptions;if(J.setView){var ft=this.getBoundsZoom(k);this.setView(U,J.maxZoom?Math.min(ft,J.maxZoom):ft)}var Ct={latlng:U,bounds:k,timestamp:c.timestamp};for(var kt in c.coords)typeof c.coords[kt]=="number"&&(Ct[kt]=c.coords[kt]);this.fire("locationfound",Ct)}},addHandler:function(c,y){if(!y)return this;var w=this[c]=new y(this);return this._handlers.push(w),this.options[c]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(st(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)Je(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,y){var w="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),U=Xe("div",w,y||this._mapPane);return c&&(this._panes[c]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),y=this.unproject(c.getBottomLeft()),w=this.unproject(c.getTopRight());return new Lt(y,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,y,w){c=Dt(c),w=Q(w||[0,0]);var U=this.getZoom()||0,k=this.getMinZoom(),J=this.getMaxZoom(),ft=c.getNorthWest(),Ct=c.getSouthEast(),kt=this.getSize().subtract(w),ce=gt(this.project(Ct,U),this.project(ft,U)).getSize(),Ae=je.any3d?this.options.zoomSnap:1,Ie=kt.x/ce.x,Ge=kt.y/ce.y,on=y?Math.max(Ie,Ge):Math.min(Ie,Ge);return U=this.getScaleZoom(on,U),Ae&&(U=Math.round(U/(Ae/100))*(Ae/100),U=y?Math.ceil(U/Ae)*Ae:Math.floor(U/Ae)*Ae),Math.max(k,Math.min(J,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new tt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,y){var w=this._getTopLeftPoint(c,y);return new ut(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,y){var w=this.options.crs;return y=y===void 0?this._zoom:y,w.scale(c)/w.scale(y)},getScaleZoom:function(c,y){var w=this.options.crs;y=y===void 0?this._zoom:y;var U=w.zoom(c*w.scale(y));return isNaN(U)?1/0:U},project:function(c,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(_t(c),y)},unproject:function(c,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(Q(c),y)},layerPointToLatLng:function(c){var y=Q(c).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(c){var y=this.project(_t(c))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(_t(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(Dt(c))},distance:function(c,y){return this.options.crs.distance(_t(c),_t(y))},containerPointToLayerPoint:function(c){return Q(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return Q(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var y=this.containerPointToLayerPoint(Q(c));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(c)))},mouseEventToContainerPoint:function(c){return Ur(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var y=this._container=vn(c);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");sn(y,"scroll",this._onScroll,this),this._containerId=h(y)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,Ye(c,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Pn(c,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Nn(this._mapPane,new tt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ye(c.markerPane,"leaflet-zoom-hide"),Ye(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,y,w){Nn(this._mapPane,new tt(0,0));var U=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var k=this._zoom!==y;this._moveStart(k,w)._move(c,y)._moveEnd(k),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(c,y){return c&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(c,y,w,U){y===void 0&&(y=this._zoom);var k=this._zoom!==y;return this._zoom=y,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),U?w&&w.pinch&&this.fire("zoom",w):((k||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return st(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Nn(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[h(this._container)]=this;var y=c?jn:sn;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){st(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,y){for(var w=[],U,k=y==="mouseout"||y==="mouseover",J=c.target||c.srcElement,ft=!1;J;){if(U=this._targets[h(J)],U&&(y==="click"||y==="preclick")&&this._draggableMoved(U)){ft=!0;break}if(U&&U.listens(y,!0)&&(k&&!Xo(J,c)||(w.push(U),k))||J===this._container)break;J=J.parentNode}return!w.length&&!ft&&!k&&this.listens(y,!0)&&(w=[this]),w},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var y=c.target||c.srcElement;if(!(!this._loaded||y._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(y))){var w=c.type;w==="mousedown"&&Ru(y),this._fireDOMEvent(c,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,y,w){if(c.type==="click"){var U=r({},c);U.type="preclick",this._fireDOMEvent(U,U.type,w)}var k=this._findEventTargets(c,y);if(w){for(var J=[],ft=0;ft<w.length;ft++)w[ft].listens(y,!0)&&J.push(w[ft]);k=J.concat(k)}if(k.length){y==="contextmenu"&&yi(c);var Ct=k[0],kt={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var ce=Ct.getLatLng&&(!Ct._radius||Ct._radius<=10);kt.containerPoint=ce?this.latLngToContainerPoint(Ct.getLatLng()):this.mouseEventToContainerPoint(c),kt.layerPoint=this.containerPointToLayerPoint(kt.containerPoint),kt.latlng=ce?Ct.getLatLng():this.layerPointToLatLng(kt.layerPoint)}for(ft=0;ft<k.length;ft++)if(k[ft].fire(y,kt,!0),kt.originalEvent._stopped||k[ft].options.bubblingMouseEvents===!1&&z(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,y=this._handlers.length;c<y;c++)this._handlers[c].disable()},whenReady:function(c,y){return this._loaded?c.call(y||this,{target:this}):this.on("load",c,y),this},_getMapPanePos:function(){return Ma(this._mapPane)||new tt(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,y){var w=c&&y!==void 0?this._getNewPixelOrigin(c,y):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,y){var w=this.getSize()._divideBy(2);return this.project(c,y)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,y,w){var U=this._getNewPixelOrigin(w,y);return this.project(c,y)._subtract(U)},_latLngBoundsToNewLayerBounds:function(c,y,w){var U=this._getNewPixelOrigin(w,y);return gt([this.project(c.getSouthWest(),y)._subtract(U),this.project(c.getNorthWest(),y)._subtract(U),this.project(c.getSouthEast(),y)._subtract(U),this.project(c.getNorthEast(),y)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,y,w){if(!w)return c;var U=this.project(c,y),k=this.getSize().divideBy(2),J=new ut(U.subtract(k),U.add(k)),ft=this._getBoundsOffset(J,w,y);return Math.abs(ft.x)<=1&&Math.abs(ft.y)<=1?c:this.unproject(U.add(ft),y)},_limitOffset:function(c,y){if(!y)return c;var w=this.getPixelBounds(),U=new ut(w.min.add(c),w.max.add(c));return c.add(this._getBoundsOffset(U,y))},_getBoundsOffset:function(c,y,w){var U=gt(this.project(y.getNorthEast(),w),this.project(y.getSouthWest(),w)),k=U.min.subtract(c.min),J=U.max.subtract(c.max),ft=this._rebound(k.x,-J.x),Ct=this._rebound(k.y,-J.y);return new tt(ft,Ct)},_rebound:function(c,y){return c+y>0?Math.round(c-y)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(y))},_limitZoom:function(c){var y=this.getMinZoom(),w=this.getMaxZoom(),U=je.any3d?this.options.zoomSnap:1;return U&&(c=Math.round(c/U)*U),Math.max(y,Math.min(w,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Hn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,y){var w=this._getCenterOffset(c)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,y),!0)},_createAnimProxy:function(){var c=this._proxy=Xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(y){var w=We,U=this._proxy.style[w];Kn(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),U===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),y=this.getZoom();Kn(this._proxy,this.project(c,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,y,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(y),k=this._getCenterOffset(c)._divideBy(1-1/U);return w.animate!==!0&&!this.getSize().contains(k)?!1:(K(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(c,y,!0)},this),!0)},_animateZoom:function(c,y,w,U){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=y,Ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:y,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Hn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Du(c,y){return new wn(c,y)}var zr=dt.extend({options:{position:"topright"},initialize:function(c){A(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var y=this._map;return y&&y.removeControl(this),this.options.position=c,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var y=this._container=this.onAdd(c),w=this.getPosition(),U=c._controlCorners[w];return Ye(y,"leaflet-control"),w.indexOf("bottom")!==-1?U.insertBefore(y,U.firstChild):U.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),Vl=function(c){return new zr(c)};wn.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},y="leaflet-",w=this._controlContainer=Xe("div",y+"control-container",this._container);function U(k,J){var ft=y+k+" "+y+J;c[k+J]=Xe("div",ft,w)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)Je(this._controlCorners[c]);Je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var td=zr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,y,w,U){return w<U?-1:U<w?1:0}},initialize:function(c,y,w){A(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in c)this._addLayer(c[U],U);for(U in y)this._addLayer(y[U],U,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return zr.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,y){return this._addLayer(c,y),this._map?this._update():this},addOverlay:function(c,y){return this._addLayer(c,y,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var y=this._getLayer(h(c));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){Ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Hn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Hn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",y=this._container=Xe("div",c),w=this.options.collapsed;y.setAttribute("aria-haspopup",!0),kl(y),Ou(y);var U=this._section=Xe("section",c+"-list");w&&(this._map.on("click",this.collapse,this),sn(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=Xe("a",c+"-toggle",y);k.href="#",k.title="Layers",k.setAttribute("role","button"),sn(k,{keydown:function(J){J.keyCode===13&&this._expandSafely()},click:function(J){yi(J),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=Xe("div",c+"-base",U),this._separator=Xe("div",c+"-separator",U),this._overlaysList=Xe("div",c+"-overlays",U),y.appendChild(U)},_getLayer:function(c){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&h(this._layers[y].layer)===c)return this._layers[y]},_addLayer:function(c,y,w){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:y,overlay:w}),this.options.sortLayers&&this._layers.sort(o(function(U,k){return this.options.sortFunction(U.layer,k.layer,U.name,k.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cn(this._baseLayersList),cn(this._overlaysList),this._layerControlInputs=[];var c,y,w,U,k=0;for(w=0;w<this._layers.length;w++)U=this._layers[w],this._addItem(U),y=y||U.overlay,c=c||!U.overlay,k+=U.overlay?0:1;return this.options.hideSingleBase&&(c=c&&k>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=y&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var y=this._getLayer(h(c.target)),w=y.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;w&&this._map.fire(w,y)},_createRadioElement:function(c,y){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(y?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=w,U.firstChild},_addItem:function(c){var y=document.createElement("label"),w=this._map.hasLayer(c.layer),U;c.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=w):U=this._createRadioElement("leaflet-base-layers_"+h(this),w),this._layerControlInputs.push(U),U.layerId=h(c.layer),sn(U,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+c.name;var J=document.createElement("span");y.appendChild(J),J.appendChild(U),J.appendChild(k);var ft=c.overlay?this._overlaysList:this._baseLayersList;return ft.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,y,w,U=[],k=[];this._handlingClick=!0;for(var J=c.length-1;J>=0;J--)y=c[J],w=this._getLayer(y.layerId).layer,y.checked?U.push(w):y.checked||k.push(w);for(J=0;J<k.length;J++)this._map.hasLayer(k[J])&&this._map.removeLayer(k[J]);for(J=0;J<U.length;J++)this._map.hasLayer(U[J])||this._map.addLayer(U[J]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,y,w,U=this._map.getZoom(),k=c.length-1;k>=0;k--)y=c[k],w=this._getLayer(y.layerId).layer,y.disabled=w.options.minZoom!==void 0&&U<w.options.minZoom||w.options.maxZoom!==void 0&&U>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,sn(c,"click",yi),this.expand();var y=this;setTimeout(function(){jn(c,"click",yi),y._preventClick=!1})}}),Yg=function(c,y,w){return new td(c,y,w)},er=zr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var y="leaflet-control-zoom",w=Xe("div",y+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,y+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,y+"-out",w,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,y,w,U,k){var J=Xe("a",w,U);return J.innerHTML=c,J.href="#",J.title=y,J.setAttribute("role","button"),J.setAttribute("aria-label",y),kl(J),sn(J,"click",ja),sn(J,"click",k,this),sn(J,"click",this._refocusOnMap,this),J},_updateDisabled:function(){var c=this._map,y="leaflet-disabled";Hn(this._zoomInButton,y),Hn(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Ye(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Ye(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});wn.mergeOptions({zoomControl:!0}),wn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new er,this.addControl(this.zoomControl))});var Uf=function(c){return new er(c)},ed=zr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var y="leaflet-control-scale",w=Xe("div",y),U=this.options;return this._addScales(U,y+"-line",w),c.on(U.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),w},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,y,w){c.metric&&(this._mScale=Xe("div",y,w)),c.imperial&&(this._iScale=Xe("div",y,w))},_update:function(){var c=this._map,y=c.getSize().y/2,w=c.distance(c.containerPointToLatLng([0,y]),c.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(w)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var y=this._getRoundNum(c),w=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,w,y/c)},_updateImperial:function(c){var y=c*3.2808399,w,U,k;y>5280?(w=y/5280,U=this._getRoundNum(w),this._updateScale(this._iScale,U+" mi",U/w)):(k=this._getRoundNum(y),this._updateScale(this._iScale,k+" ft",k/y))},_updateScale:function(c,y,w){c.style.width=Math.round(this.options.maxWidth*w)+"px",c.innerHTML=y},_getRoundNum:function(c){var y=Math.pow(10,(Math.floor(c)+"").length-1),w=c/y;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,y*w}}),Fp=function(c){return new ed(c)},Hp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zf=zr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?Hp+" ":"")+"Leaflet</a>"},initialize:function(c){A(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=Xe("div","leaflet-control-attribution"),kl(this._container);for(var y in c._layers)c._layers[y].getAttribution&&this.addAttribution(c._layers[y].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var y in this._attributions)this._attributions[y]&&c.push(y);var w=[];this.options.prefix&&w.push(this.options.prefix),c.length&&w.push(c.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});wn.mergeOptions({attributionControl:!0}),wn.addInitHook(function(){this.options.attributionControl&&new zf().addTo(this)});var Tc=function(c){return new zf(c)};zr.Layers=td,zr.Zoom=er,zr.Scale=ed,zr.Attribution=zf,Vl.layers=Yg,Vl.zoom=Uf,Vl.scale=Fp,Vl.attribution=Tc;var Ea=dt.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ea.addTo=function(c,y){return c.addHandler(y,this),this};var kp={Events:X},nd=je.touch?"touchstart mousedown":"mousedown",ao=it.extend({options:{clickTolerance:3},initialize:function(c,y,w,U){A(this,U),this._element=c,this._dragStartTarget=y||c,this._preventOutline=w},enable:function(){this._enabled||(sn(this._dragStartTarget,nd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ao._dragging===this&&this.finishDrag(!0),jn(this._dragStartTarget,nd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!Sn(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){ao._dragging===this&&this.finishDrag();return}if(!(ao._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(ao._dragging=this,this._preventOutline&&Ru(this._element),Cu(),Ci(),!this._moving)){this.fire("down");var y=c.touches?c.touches[0]:c,w=no(this._element);this._startPoint=new tt(y.clientX,y.clientY),this._startPos=Ma(this._element),this._parentScale=io(w);var U=c.type==="mousedown";sn(document,U?"mousemove":"touchmove",this._onMove,this),sn(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var y=c.touches&&c.touches.length===1?c.touches[0]:c,w=new tt(y.clientX,y.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,yi(c),this._moved||(this.fire("dragstart"),this._moved=!0,Ye(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Nn(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Hn(document.body,"leaflet-dragging"),this._lastTarget&&(Hn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jn(document,"mousemove touchmove",this._onMove,this),jn(document,"mouseup touchend touchcancel",this._onUp,this),Mc(),Au();var y=this._moved&&this._moving;this._moving=!1,ao._dragging=!1,y&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function If(c,y,w){var U,k=[1,4,2,8],J,ft,Ct,kt,ce,Ae,Ie,Ge;for(J=0,Ae=c.length;J<Ae;J++)c[J]._code=na(c[J],y);for(Ct=0;Ct<4;Ct++){for(Ie=k[Ct],U=[],J=0,Ae=c.length,ft=Ae-1;J<Ae;ft=J++)kt=c[J],ce=c[ft],kt._code&Ie?ce._code&Ie||(Ge=Ac(ce,kt,Ie,y,w),Ge._code=na(Ge,y),U.push(Ge)):(ce._code&Ie&&(Ge=Ac(ce,kt,Ie,y,w),Ge._code=na(Ge,y),U.push(Ge)),U.push(kt));c=U}return c}function Lu(c,y){var w,U,k,J,ft,Ct,kt,ce,Ae;if(!c||c.length===0)throw new Error("latlngs not passed");dr(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Ie=_t([0,0]),Ge=Dt(c),on=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());on<1700&&(Ie=Bf(c));var Qn=c.length,_i=[];for(w=0;w<Qn;w++){var Er=_t(c[w]);_i.push(y.project(_t([Er.lat-Ie.lat,Er.lng-Ie.lng])))}for(Ct=kt=ce=0,w=0,U=Qn-1;w<Qn;U=w++)k=_i[w],J=_i[U],ft=k.y*J.x-J.y*k.x,kt+=(k.x+J.x)*ft,ce+=(k.y+J.y)*ft,Ct+=ft*3;Ct===0?Ae=_i[0]:Ae=[kt/Ct,ce/Ct];var Aa=y.unproject(Q(Ae));return _t([Aa.lat+Ie.lat,Aa.lng+Ie.lng])}function Bf(c){for(var y=0,w=0,U=0,k=0;k<c.length;k++){var J=_t(c[k]);y+=J.lat,w+=J.lng,U++}return _t([y/U,w/U])}var id={__proto__:null,clipPolygon:If,polygonCenter:Lu,centroid:Bf};function Ff(c,y){if(!y||!c.length)return c.slice();var w=y*y;return c=so(c,w),c=rd(c,w),c}function wc(c,y,w){return Math.sqrt(lo(c,y,w,!0))}function jp(c,y,w){return lo(c,y,w)}function rd(c,y){var w=c.length,U=typeof Uint8Array<"u"?Uint8Array:Array,k=new U(w);k[0]=k[w-1]=1,Hf(c,k,y,0,w-1);var J,ft=[];for(J=0;J<w;J++)k[J]&&ft.push(c[J]);return ft}function Hf(c,y,w,U,k){var J=0,ft,Ct,kt;for(Ct=U+1;Ct<=k-1;Ct++)kt=lo(c[Ct],c[U],c[k],!0),kt>J&&(ft=Ct,J=kt);J>w&&(y[ft]=1,Hf(c,y,w,U,ft),Hf(c,y,w,ft,k))}function so(c,y){for(var w=[c[0]],U=1,k=0,J=c.length;U<J;U++)oo(c[U],c[k])>y&&(w.push(c[U]),k=U);return k<J-1&&w.push(c[J-1]),w}var kf;function Vp(c,y,w,U,k){var J=U?kf:na(c,w),ft=na(y,w),Ct,kt,ce;for(kf=ft;;){if(!(J|ft))return[c,y];if(J&ft)return!1;Ct=J||ft,kt=Ac(c,y,Ct,w,k),ce=na(kt,w),Ct===J?(c=kt,J=ce):(y=kt,ft=ce)}}function Ac(c,y,w,U,k){var J=y.x-c.x,ft=y.y-c.y,Ct=U.min,kt=U.max,ce,Ae;return w&8?(ce=c.x+J*(kt.y-c.y)/ft,Ae=kt.y):w&4?(ce=c.x+J*(Ct.y-c.y)/ft,Ae=Ct.y):w&2?(ce=kt.x,Ae=c.y+ft*(kt.x-c.x)/J):w&1&&(ce=Ct.x,Ae=c.y+ft*(Ct.x-c.x)/J),new tt(ce,Ae,k)}function na(c,y){var w=0;return c.x<y.min.x?w|=1:c.x>y.max.x&&(w|=2),c.y<y.min.y?w|=4:c.y>y.max.y&&(w|=8),w}function oo(c,y){var w=y.x-c.x,U=y.y-c.y;return w*w+U*U}function lo(c,y,w,U){var k=y.x,J=y.y,ft=w.x-k,Ct=w.y-J,kt=ft*ft+Ct*Ct,ce;return kt>0&&(ce=((c.x-k)*ft+(c.y-J)*Ct)/kt,ce>1?(k=w.x,J=w.y):ce>0&&(k+=ft*ce,J+=Ct*ce)),ft=c.x-k,Ct=c.y-J,U?ft*ft+Ct*Ct:new tt(k,J)}function dr(c){return!P(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function Nu(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dr(c)}function Uu(c,y){var w,U,k,J,ft,Ct,kt,ce;if(!c||c.length===0)throw new Error("latlngs not passed");dr(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Ae=_t([0,0]),Ie=Dt(c),Ge=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Ge<1700&&(Ae=Bf(c));var on=c.length,Qn=[];for(w=0;w<on;w++){var _i=_t(c[w]);Qn.push(y.project(_t([_i.lat-Ae.lat,_i.lng-Ae.lng])))}for(w=0,U=0;w<on-1;w++)U+=Qn[w].distanceTo(Qn[w+1])/2;if(U===0)ce=Qn[0];else for(w=0,J=0;w<on-1;w++)if(ft=Qn[w],Ct=Qn[w+1],k=ft.distanceTo(Ct),J+=k,J>U){kt=(J-U)/k,ce=[Ct.x-kt*(Ct.x-ft.x),Ct.y-kt*(Ct.y-ft.y)];break}var Er=y.unproject(Q(ce));return _t([Er.lat+Ae.lat,Er.lng+Ae.lng])}var Yo={__proto__:null,simplify:Ff,pointToSegmentDistance:wc,closestPointOnSegment:jp,clipSegment:Vp,_getEdgeIntersection:Ac,_getBitCode:na,_sqClosestPointOnSegment:lo,isFlat:dr,_flat:Nu,polylineCenter:Uu},nr={project:function(c){return new tt(c.lng,c.lat)},unproject:function(c){return new Zt(c.y,c.x)},bounds:new ut([-180,-90],[180,90])},Gl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ut([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var y=Math.PI/180,w=this.R,U=c.lat*y,k=this.R_MINOR/w,J=Math.sqrt(1-k*k),ft=J*Math.sin(U),Ct=Math.tan(Math.PI/4-U/2)/Math.pow((1-ft)/(1+ft),J/2);return U=-w*Math.log(Math.max(Ct,1e-10)),new tt(c.lng*y*w,U)},unproject:function(c){for(var y=180/Math.PI,w=this.R,U=this.R_MINOR/w,k=Math.sqrt(1-U*U),J=Math.exp(-c.y/w),ft=Math.PI/2-2*Math.atan(J),Ct=0,kt=.1,ce;Ct<15&&Math.abs(kt)>1e-7;Ct++)ce=k*Math.sin(ft),ce=Math.pow((1-ce)/(1+ce),k/2),kt=Math.PI/2-2*Math.atan(J*ce)-ft,ft+=kt;return new Zt(ft*y,c.x*y/w)}},ad={__proto__:null,LonLat:nr,Mercator:Gl,SphericalMercator:le},Zo=r({},ae,{code:"EPSG:3395",projection:Gl,transformation:(function(){var c=.5/(Math.PI*Gl.R);return jt(c,.5,-c,.5)})()}),zu=r({},ae,{code:"EPSG:4326",projection:nr,transformation:jt(1/180,1,-1/180,.5)}),sd=r({},Qt,{projection:nr,transformation:jt(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,y){var w=y.lng-c.lng,U=y.lat-c.lat;return Math.sqrt(w*w+U*U)},infinite:!0});Qt.Earth=ae,Qt.EPSG3395=Zo,Qt.EPSG3857=ot,Qt.EPSG900913=Ht,Qt.EPSG4326=zu,Qt.Simple=sd;var ia=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[h(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[h(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var y=c.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var w=this.getEvents();y.on(w,this),this.once("remove",function(){y.off(w,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});wn.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var y=h(c);return this._layers[y]?this:(this._layers[y]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var y=h(c);return this._layers[y]?(this._loaded&&c.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return h(c)in this._layers},eachLayer:function(c,y){for(var w in this._layers)c.call(y,this._layers[w]);return this},_addLayers:function(c){c=c?P(c)?c:[c]:[];for(var y=0,w=c.length;y<w;y++)this.addLayer(c[y])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[h(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var y=h(c);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,y=-1/0,w=this._getZoomSpan();for(var U in this._zoomBoundLayers){var k=this._zoomBoundLayers[U].options;c=k.minZoom===void 0?c:Math.min(c,k.minZoom),y=k.maxZoom===void 0?y:Math.max(y,k.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=c===1/0?void 0:c,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ko=ia.extend({initialize:function(c,y){A(this,y),this._layers={};var w,U;if(c)for(w=0,U=c.length;w<U;w++)this.addLayer(c[w])},addLayer:function(c){var y=this.getLayerId(c);return this._layers[y]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var y=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(c){var y=typeof c=="number"?c:this.getLayerId(c);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var y=Array.prototype.slice.call(arguments,1),w,U;for(w in this._layers)U=this._layers[w],U[c]&&U[c].apply(U,y);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,y){for(var w in this._layers)c.call(y,this._layers[w]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return h(c)}}),ra=function(c,y){return new Ko(c,y)},aa=Ko.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),Ko.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),Ko.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new Lt;for(var y in this._layers){var w=this._layers[y];c.extend(w.getBounds?w.getBounds():w.getLatLng())}return c}}),ql=function(c,y){return new aa(c,y)},Wl=dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){A(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,y){var w=this._getIconUrl(c);if(!w){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(w,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(U,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(c,y){var w=this.options,U=w[y+"Size"];typeof U=="number"&&(U=[U,U]);var k=Q(U),J=Q(y==="shadow"&&w.shadowAnchor||w.iconAnchor||k&&k.divideBy(2,!0));c.className="leaflet-marker-"+y+" "+(w.className||""),J&&(c.style.marginLeft=-J.x+"px",c.style.marginTop=-J.y+"px"),k&&(c.style.width=k.x+"px",c.style.height=k.y+"px")},_createImg:function(c,y){return y=y||document.createElement("img"),y.src=c,y},_getIconUrl:function(c){return je.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function Cc(c){return new Wl(c)}var Qo=Wl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof Qo.imagePath!="string"&&(Qo.imagePath=this._detectIconPath()),(this.options.imagePath||Qo.imagePath)+Wl.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var y=function(w,U,k){var J=U.exec(w);return J&&J[k]};return c=y(c,/^url\((['"])?(.+)\1\)$/,2),c&&y(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=Xe("div","leaflet-default-icon-path",document.body),y=Pn(c,"background-image")||Pn(c,"backgroundImage");if(document.body.removeChild(c),y=this._stripUrl(y),y)return y;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),Rc=Ea.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new ao(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ye(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Hn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var y=this._marker,w=y._map,U=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,J=Ma(y._icon),ft=w.getPixelBounds(),Ct=w.getPixelOrigin(),kt=gt(ft.min._subtract(Ct).add(k),ft.max._subtract(Ct).subtract(k));if(!kt.contains(J)){var ce=Q((Math.max(kt.max.x,J.x)-kt.max.x)/(ft.max.x-kt.max.x)-(Math.min(kt.min.x,J.x)-kt.min.x)/(ft.min.x-kt.min.x),(Math.max(kt.max.y,J.y)-kt.max.y)/(ft.max.y-kt.max.y)-(Math.min(kt.min.y,J.y)-kt.min.y)/(ft.min.y-kt.min.y)).multiplyBy(U);w.panBy(ce,{animate:!1}),this._draggable._newPos._add(ce),this._draggable._startPos._add(ce),Nn(y._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=K(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(st(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,c)))},_onDrag:function(c){var y=this._marker,w=y._shadow,U=Ma(y._icon),k=y._map.layerPointToLatLng(U);w&&Nn(w,U),y._latlng=k,c.latlng=k,c.oldLatLng=this._oldLatLng,y.fire("move",c).fire("drag",c)},_onDragEnd:function(c){st(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),Xl=ia.extend({options:{icon:new Qo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,y){A(this,y),this._latlng=_t(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var y=this._latlng;return this._latlng=_t(c),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=c.icon.createIcon(this._icon),U=!1;w!==this._icon&&(this._icon&&this._removeIcon(),U=!0,c.title&&(w.title=c.title),w.tagName==="IMG"&&(w.alt=c.alt||"")),Ye(w,y),c.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sn(w,"focus",this._panOnFocus,this);var k=c.icon.createShadow(this._shadow),J=!1;k!==this._shadow&&(this._removeShadow(),J=!0),k&&(Ye(k,y),k.alt=""),this._shadow=k,c.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&J&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jn(this._icon,"focus",this._panOnFocus,this),Je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Je(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Nn(this._icon,c),this._shadow&&Nn(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var y=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(Ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Rc)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Rc(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Tn(this._icon,c),this._shadow&&Tn(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var y=this.options.icon.options,w=y.iconSize?Q(y.iconSize):Q(0,0),U=y.iconAnchor?Q(y.iconAnchor):Q(0,0);c.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:w.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Iu(c,y){return new Xl(c,y)}var Ta=ia.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return A(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ai=Ta.extend({options:{fill:!0,radius:10},initialize:function(c,y){A(this,y),this._latlng=_t(c),this._radius=this.options.radius},setLatLng:function(c){var y=this._latlng;return this._latlng=_t(c),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var y=c&&c.radius||this._radius;return Ta.prototype.setStyle.call(this,c),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,y=this._radiusY||c,w=this._clickTolerance(),U=[c+w,y+w];this._pxBounds=new ut(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gp(c,y){return new ai(c,y)}var od=ai.extend({initialize:function(c,y,w){if(typeof y=="number"&&(y=r({},w,{radius:y})),A(this,y),this._latlng=_t(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new Lt(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:Ta.prototype.setStyle,_project:function(){var c=this._latlng.lng,y=this._latlng.lat,w=this._map,U=w.options.crs;if(U.distance===ae.distance){var k=Math.PI/180,J=this._mRadius/ae.R/k,ft=w.project([y+J,c]),Ct=w.project([y-J,c]),kt=ft.add(Ct).divideBy(2),ce=w.unproject(kt).lat,Ae=Math.acos((Math.cos(J*k)-Math.sin(y*k)*Math.sin(ce*k))/(Math.cos(y*k)*Math.cos(ce*k)))/k;(isNaN(Ae)||Ae===0)&&(Ae=J/Math.cos(Math.PI/180*y)),this._point=kt.subtract(w.getPixelOrigin()),this._radius=isNaN(Ae)?0:kt.x-w.project([ce,c-Ae]).x,this._radiusY=kt.y-ft.y}else{var Ie=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(Ie).x}this._updateBounds()}});function qp(c,y,w){return new od(c,y,w)}var wa=Ta.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,y){A(this,y),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var y=1/0,w=null,U=lo,k,J,ft=0,Ct=this._parts.length;ft<Ct;ft++)for(var kt=this._parts[ft],ce=1,Ae=kt.length;ce<Ae;ce++){k=kt[ce-1],J=kt[ce];var Ie=U(c,k,J,!0);Ie<y&&(y=Ie,w=U(c,k,J))}return w&&(w.distance=Math.sqrt(y)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Uu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,y){return y=y||this._defaultShape(),c=_t(c),y.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new Lt,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return dr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var y=[],w=dr(c),U=0,k=c.length;U<k;U++)w?(y[U]=_t(c[U]),this._bounds.extend(y[U])):y[U]=this._convertLatLngs(c[U]);return y},_project:function(){var c=new ut;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),y=new tt(c,c);this._rawPxBounds&&(this._pxBounds=new ut([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(c,y,w){var U=c[0]instanceof Zt,k=c.length,J,ft;if(U){for(ft=[],J=0;J<k;J++)ft[J]=this._map.latLngToLayerPoint(c[J]),w.extend(ft[J]);y.push(ft)}else for(J=0;J<k;J++)this._projectLatlngs(c[J],y,w)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,w,U,k,J,ft,Ct,kt;for(w=0,k=0,J=this._rings.length;w<J;w++)for(kt=this._rings[w],U=0,ft=kt.length;U<ft-1;U++)Ct=Vp(kt[U],kt[U+1],c,U,!0),Ct&&(y[k]=y[k]||[],y[k].push(Ct[0]),(Ct[1]!==kt[U+1]||U===ft-2)&&(y[k].push(Ct[1]),k++))}},_simplifyPoints:function(){for(var c=this._parts,y=this.options.smoothFactor,w=0,U=c.length;w<U;w++)c[w]=Ff(c[w],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,y){var w,U,k,J,ft,Ct,kt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(w=0,J=this._parts.length;w<J;w++)for(Ct=this._parts[w],U=0,ft=Ct.length,k=ft-1;U<ft;k=U++)if(!(!y&&U===0)&&wc(c,Ct[k],Ct[U])<=kt)return!0;return!1}});function $o(c,y){return new wa(c,y)}wa._flat=Nu;var Yl=wa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var y=wa.prototype._convertLatLngs.call(this,c),w=y.length;return w>=2&&y[0]instanceof Zt&&y[0].equals(y[w-1])&&y.pop(),y},_setLatLngs:function(c){wa.prototype._setLatLngs.call(this,c),dr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,y=this.options.weight,w=new tt(y,y);if(c=new ut(c.min.subtract(w),c.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,k=this._rings.length,J;U<k;U++)J=If(this._rings[U],c,!0),J.length&&this._parts.push(J)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var y=!1,w,U,k,J,ft,Ct,kt,ce;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(J=0,kt=this._parts.length;J<kt;J++)for(w=this._parts[J],ft=0,ce=w.length,Ct=ce-1;ft<ce;Ct=ft++)U=w[ft],k=w[Ct],U.y>c.y!=k.y>c.y&&c.x<(k.x-U.x)*(c.y-U.y)/(k.y-U.y)+U.x&&(y=!y);return y||wa.prototype._containsPoint.call(this,c,!0)}});function sa(c,y){return new Yl(c,y)}var ir=aa.extend({initialize:function(c,y){A(this,y),this._layers={},c&&this.addData(c)},addData:function(c){var y=P(c)?c:c.features,w,U,k;if(y){for(w=0,U=y.length;w<U;w++)k=y[w],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var J=this.options;if(J.filter&&!J.filter(c))return this;var ft=br(c,J);return ft?(ft.feature=Kl(c),ft.defaultOptions=ft.options,this.resetStyle(ft),J.onEachFeature&&J.onEachFeature(c,ft),this.addLayer(ft)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=r({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(y){this._setLayerStyle(y,c)},this)},_setLayerStyle:function(c,y){c.setStyle&&(typeof y=="function"&&(y=y(c.feature)),c.setStyle(y))}});function br(c,y){var w=c.type==="Feature"?c.geometry:c,U=w?w.coordinates:null,k=[],J=y&&y.pointToLayer,ft=y&&y.coordsToLatLng||Oc,Ct,kt,ce,Ae;if(!U&&!w)return null;switch(w.type){case"Point":return Ct=ft(U),jf(J,c,Ct,y);case"MultiPoint":for(ce=0,Ae=U.length;ce<Ae;ce++)Ct=ft(U[ce]),k.push(jf(J,c,Ct,y));return new aa(k);case"LineString":case"MultiLineString":return kt=Bu(U,w.type==="LineString"?0:1,ft),new wa(kt,y);case"Polygon":case"MultiPolygon":return kt=Bu(U,w.type==="Polygon"?1:2,ft),new Yl(kt,y);case"GeometryCollection":for(ce=0,Ae=w.geometries.length;ce<Ae;ce++){var Ie=br({geometry:w.geometries[ce],type:"Feature",properties:c.properties},y);Ie&&k.push(Ie)}return new aa(k);case"FeatureCollection":for(ce=0,Ae=w.features.length;ce<Ae;ce++){var Ge=br(w.features[ce],y);Ge&&k.push(Ge)}return new aa(k);default:throw new Error("Invalid GeoJSON object.")}}function jf(c,y,w,U){return c?c(y,w):new Xl(w,U&&U.markersInheritOptions&&U)}function Oc(c){return new Zt(c[1],c[0],c[2])}function Bu(c,y,w){for(var U=[],k=0,J=c.length,ft;k<J;k++)ft=y?Bu(c[k],y-1,w):(w||Oc)(c[k]),U.push(ft);return U}function Zl(c,y){return c=_t(c),c.alt!==void 0?[_(c.lng,y),_(c.lat,y),_(c.alt,y)]:[_(c.lng,y),_(c.lat,y)]}function Fu(c,y,w,U){for(var k=[],J=0,ft=c.length;J<ft;J++)k.push(y?Fu(c[J],dr(c[J])?0:y-1,w,U):Zl(c[J],U));return!y&&w&&k.length>0&&k.push(k[0].slice()),k}function oa(c,y){return c.feature?r({},c.feature,{geometry:y}):Kl(y)}function Kl(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var Ql={toGeoJSON:function(c){return oa(this,{type:"Point",coordinates:Zl(this.getLatLng(),c)})}};Xl.include(Ql),od.include(Ql),ai.include(Ql),wa.include({toGeoJSON:function(c){var y=!dr(this._latlngs),w=Fu(this._latlngs,y?1:0,!1,c);return oa(this,{type:(y?"Multi":"")+"LineString",coordinates:w})}}),Yl.include({toGeoJSON:function(c){var y=!dr(this._latlngs),w=y&&!dr(this._latlngs[0]),U=Fu(this._latlngs,w?2:y?1:0,!0,c);return y||(U=[U]),oa(this,{type:(w?"Multi":"")+"Polygon",coordinates:U})}}),Ko.include({toMultiPoint:function(c){var y=[];return this.eachLayer(function(w){y.push(w.toGeoJSON(c).geometry.coordinates)}),oa(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(c){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(c);var w=y==="GeometryCollection",U=[];return this.eachLayer(function(k){if(k.toGeoJSON){var J=k.toGeoJSON(c);if(w)U.push(J.geometry);else{var ft=Kl(J);ft.type==="FeatureCollection"?U.push.apply(U,ft.features):U.push(ft)}}}),w?oa(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function Pc(c,y){return new ir(c,y)}var ld=Pc,Vi=ia.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,y,w){this._url=c,this._bounds=Dt(y),A(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&Ve(this._image),this},bringToBack:function(){return this._map&&Wn(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=Dt(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",y=this._image=c?this._url:Xe("img");if(Ye(y,"leaflet-image-layer"),this._zoomAnimated&&Ye(y,"leaflet-zoom-animated"),this.options.className&&Ye(y,this.options.className),y.onselectstart=v,y.onmousemove=v,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(c){var y=this._map.getZoomScale(c.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;Kn(this._image,w,y)},_reset:function(){var c=this._image,y=new ut(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=y.getSize();Nn(c,y.min),c.style.width=w.x+"px",c.style.height=w.y+"px"},_updateOpacity:function(){Tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),Jo=function(c,y,w){return new Vi(c,y,w)},Dc=Vi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",y=this._image=c?this._url:Xe("video");if(Ye(y,"leaflet-image-layer"),this._zoomAnimated&&Ye(y,"leaflet-zoom-animated"),this.options.className&&Ye(y,this.options.className),y.onselectstart=v,y.onmousemove=v,y.onloadeddata=o(this.fire,this,"load"),c){for(var w=y.getElementsByTagName("source"),U=[],k=0;k<w.length;k++)U.push(w[k].src);this._url=w.length>0?U:[y.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var J=0;J<this._url.length;J++){var ft=Xe("source");ft.src=this._url[J],y.appendChild(ft)}}});function Wp(c,y,w){return new Dc(c,y,w)}var Ns=Vi.extend({_initImage:function(){var c=this._image=this._url;Ye(c,"leaflet-image-layer"),this._zoomAnimated&&Ye(c,"leaflet-zoom-animated"),this.options.className&&Ye(c,this.options.className),c.onselectstart=v,c.onmousemove=v}});function Vr(c,y,w){return new Ns(c,y,w)}var Va=ia.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,y){c&&(c instanceof Zt||P(c))?(this._latlng=_t(c),A(this,y)):(A(this,c),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&Tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&Tn(this._container,1),this.bringToFront(),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(Tn(this._container,0),this._removeTimeout=setTimeout(o(Je,void 0,this._container),200)):Je(this._container),this.options.interactive&&(Hn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=_t(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ve(this._container),this},bringToBack:function(){return this._map&&Wn(this._container),this},_prepareOpen:function(c){var y=this._source;if(!y._map)return!1;if(y instanceof aa){y=null;var w=this._source._layers;for(var U in w)if(w[U]._map){y=w[U];break}if(!y)return!1;this._source=y}if(!c)if(y.getCenter)c=y.getCenter();else if(y.getLatLng)c=y.getLatLng();else if(y.getBounds)c=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")c.innerHTML=y;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),y=Q(this.options.offset),w=this._getAnchor();this._zoomAnimated?Nn(this._container,c.add(w)):y=y.add(c).add(w);var U=this._containerBottom=-y.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=U+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});wn.include({_initOverlay:function(c,y,w,U){var k=y;return k instanceof c||(k=new c(U).setContent(y)),w&&k.setLatLng(w),k}}),ia.include({_initOverlay:function(c,y,w,U){var k=w;return k instanceof c?(A(k,U),k._source=this):(k=y&&!U?y:new c(U,this),k.setContent(w)),k}});var Sr=Va.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,Va.prototype.openOn.call(this,c)},onAdd:function(c){Va.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ta||this._source.on("preclick",ro))},onRemove:function(c){Va.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ta||this._source.off("preclick",ro))},getEvents:function(){var c=Va.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",y=this._container=Xe("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=Xe("div",c+"-content-wrapper",y);if(this._contentNode=Xe("div",c+"-content",w),kl(y),Ou(this._contentNode),sn(y,"contextmenu",ro),this._tipContainer=Xe("div",c+"-tip-container",y),this._tip=Xe("div",c+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=Xe("a",c+"-close-button",y);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',sn(U,"click",function(k){yi(k),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,y=c.style;y.width="",y.whiteSpace="nowrap";var w=c.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),y.width=w+1+"px",y.whiteSpace="",y.height="";var U=c.offsetHeight,k=this.options.maxHeight,J="leaflet-popup-scrolled";k&&U>k?(y.height=k+"px",Ye(c,J)):Hn(c,J),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var y=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),w=this._getAnchor();Nn(this._container,y.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,y=parseInt(Pn(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+y,U=this._containerWidth,k=new tt(this._containerLeft,-w-this._containerBottom);k._add(Ma(this._container));var J=c.layerPointToContainerPoint(k),ft=Q(this.options.autoPanPadding),Ct=Q(this.options.autoPanPaddingTopLeft||ft),kt=Q(this.options.autoPanPaddingBottomRight||ft),ce=c.getSize(),Ae=0,Ie=0;J.x+U+kt.x>ce.x&&(Ae=J.x+U-ce.x+kt.x),J.x-Ae-Ct.x<0&&(Ae=J.x-Ct.x),J.y+w+kt.y>ce.y&&(Ie=J.y+w-ce.y+kt.y),J.y-Ie-Ct.y<0&&(Ie=J.y-Ct.y),(Ae||Ie)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([Ae,Ie]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xp=function(c,y){return new Sr(c,y)};wn.mergeOptions({closePopupOnClick:!0}),wn.include({openPopup:function(c,y,w){return this._initOverlay(Sr,c,y,w).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),ia.include({bindPopup:function(c,y){return this._popup=this._initOverlay(Sr,this._popup,c,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof aa||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){ja(c);var y=c.layer||c.target;if(this._popup._source===y&&!(y instanceof Ta)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=y,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var Ga=Va.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){Va.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){Va.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=Va.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",y=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xe("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var y,w,U=this._map,k=this._container,J=U.latLngToContainerPoint(U.getCenter()),ft=U.layerPointToContainerPoint(c),Ct=this.options.direction,kt=k.offsetWidth,ce=k.offsetHeight,Ae=Q(this.options.offset),Ie=this._getAnchor();Ct==="top"?(y=kt/2,w=ce):Ct==="bottom"?(y=kt/2,w=0):Ct==="center"?(y=kt/2,w=ce/2):Ct==="right"?(y=0,w=ce/2):Ct==="left"?(y=kt,w=ce/2):ft.x<J.x?(Ct="right",y=0,w=ce/2):(Ct="left",y=kt+(Ae.x+Ie.x)*2,w=ce/2),c=c.subtract(Q(y,w,!0)).add(Ae).add(Ie),Hn(k,"leaflet-tooltip-right"),Hn(k,"leaflet-tooltip-left"),Hn(k,"leaflet-tooltip-top"),Hn(k,"leaflet-tooltip-bottom"),Ye(k,"leaflet-tooltip-"+Ct),Nn(k,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&Tn(this._container,c)},_animateZoom:function(c){var y=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(y)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Hu=function(c,y){return new Ga(c,y)};wn.include({openTooltip:function(c,y,w){return this._initOverlay(Ga,c,y,w).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),ia.include({bindTooltip:function(c,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ga,this._tooltip,c,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var y=c?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[y](w),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof aa||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var y=typeof c.getElement=="function"&&c.getElement();y&&(sn(y,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),sn(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var y=typeof c.getElement=="function"&&c.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var y=c.latlng,w,U;this._tooltip.options.sticky&&c.originalEvent&&(w=this._map.mouseEventToContainerPoint(c.originalEvent),U=this._map.containerPointToLayerPoint(w),y=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(y)}});var Us=Wl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var y=c&&c.tagName==="DIV"?c:document.createElement("div"),w=this.options;if(w.html instanceof Element?(cn(y),y.appendChild(w.html)):y.innerHTML=w.html!==!1?w.html:"",w.bgPos){var U=Q(w.bgPos);y.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Vf(c){return new Us(c)}Wl.Default=Qo;var uo=ia.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){A(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),Je(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ve(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof tt?c:new tt(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var y=this.getPane().children,w=-c(-1/0,1/0),U=0,k=y.length,J;U<k;U++)J=y[U].style.zIndex,y[U]!==this._container&&J&&(w=c(w,+J));isFinite(w)&&(this.options.zIndex=w+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){Tn(this._container,this.options.opacity);var c=+new Date,y=!1,w=!1;for(var U in this._tiles){var k=this._tiles[U];if(!(!k.current||!k.loaded)){var J=Math.min(1,(c-k.loaded)/200);Tn(k.el,J),J<1?y=!0:(k.active?w=!0:this._onOpaqueTile(k),k.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),y&&(st(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,y=this.options.maxZoom;if(c!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===c?(this._levels[w].el.style.zIndex=y-Math.abs(c-w),this._onUpdateLevel(w)):(Je(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var U=this._levels[c],k=this._map;return U||(U=this._levels[c]={},U.el=Xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=y,U.origin=k.project(k.unproject(k.getPixelOrigin()),c).round(),U.zoom=c,this._setZoomTransform(U,k.getCenter(),k.getZoom()),v(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var c,y,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)y=this._tiles[c],y.retain=y.current;for(c in this._tiles)if(y=this._tiles[c],y.current&&!y.active){var U=y.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var y in this._tiles)this._tiles[y].coords.z===c&&this._removeTile(y)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)Je(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,y,w,U){var k=Math.floor(c/2),J=Math.floor(y/2),ft=w-1,Ct=new tt(+k,+J);Ct.z=+ft;var kt=this._tileCoordsToKey(Ct),ce=this._tiles[kt];return ce&&ce.active?(ce.retain=!0,!0):(ce&&ce.loaded&&(ce.retain=!0),ft>U?this._retainParent(k,J,ft,U):!1)},_retainChildren:function(c,y,w,U){for(var k=2*c;k<2*c+2;k++)for(var J=2*y;J<2*y+2;J++){var ft=new tt(k,J);ft.z=w+1;var Ct=this._tileCoordsToKey(ft),kt=this._tiles[Ct];if(kt&&kt.active){kt.retain=!0;continue}else kt&&kt.loaded&&(kt.retain=!0);w+1<U&&this._retainChildren(k,J,w+1,U)}},_resetView:function(c){var y=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var y=this.options;return y.minNativeZoom!==void 0&&c<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<c?y.maxNativeZoom:c},_setView:function(c,y,w,U){var k=Math.round(y);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var J=this.options.updateWhenZooming&&k!==this._tileZoom;(!U||J)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(c),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(c,y)},_setZoomTransforms:function(c,y){for(var w in this._levels)this._setZoomTransform(this._levels[w],c,y)},_setZoomTransform:function(c,y,w){var U=this._map.getZoomScale(w,c.zoom),k=c.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(y,w)).round();je.any3d?Kn(c.el,k,U):Nn(c.el,k)},_resetGrid:function(){var c=this._map,y=c.options.crs,w=this._tileSize=this.getTileSize(),U=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,y.wrapLng[0]],U).x/w.x),Math.ceil(c.project([0,y.wrapLng[1]],U).x/w.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([y.wrapLat[0],0],U).y/w.x),Math.ceil(c.project([y.wrapLat[1],0],U).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var y=this._map,w=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),U=y.getZoomScale(w,this._tileZoom),k=y.project(c,this._tileZoom).floor(),J=y.getSize().divideBy(U*2);return new ut(k.subtract(J),k.add(J))},_update:function(c){var y=this._map;if(y){var w=this._clampZoom(y.getZoom());if(c===void 0&&(c=y.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(c),k=this._pxBoundsToTileRange(U),J=k.getCenter(),ft=[],Ct=this.options.keepBuffer,kt=new ut(k.getBottomLeft().subtract([Ct,-Ct]),k.getTopRight().add([Ct,-Ct]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ce in this._tiles){var Ae=this._tiles[ce].coords;(Ae.z!==this._tileZoom||!kt.contains(new tt(Ae.x,Ae.y)))&&(this._tiles[ce].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(c,w);return}for(var Ie=k.min.y;Ie<=k.max.y;Ie++)for(var Ge=k.min.x;Ge<=k.max.x;Ge++){var on=new tt(Ge,Ie);if(on.z=this._tileZoom,!!this._isValidTile(on)){var Qn=this._tiles[this._tileCoordsToKey(on)];Qn?Qn.current=!0:ft.push(on)}}if(ft.sort(function(Er,Aa){return Er.distanceTo(J)-Aa.distanceTo(J)}),ft.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _i=document.createDocumentFragment();for(Ge=0;Ge<ft.length;Ge++)this._addTile(ft[Ge],_i);this._level.el.appendChild(_i)}}}},_isValidTile:function(c){var y=this._map.options.crs;if(!y.infinite){var w=this._globalTileRange;if(!y.wrapLng&&(c.x<w.min.x||c.x>w.max.x)||!y.wrapLat&&(c.y<w.min.y||c.y>w.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(c);return Dt(this.options.bounds).overlaps(U)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var y=this._map,w=this.getTileSize(),U=c.scaleBy(w),k=U.add(w),J=y.unproject(U,c.z),ft=y.unproject(k,c.z);return[J,ft]},_tileCoordsToBounds:function(c){var y=this._tileCoordsToNwSe(c),w=new Lt(y[0],y[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var y=c.split(":"),w=new tt(+y[0],+y[1]);return w.z=+y[2],w},_removeTile:function(c){var y=this._tiles[c];y&&(Je(y.el),delete this._tiles[c],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Ye(c,"leaflet-tile");var y=this.getTileSize();c.style.width=y.x+"px",c.style.height=y.y+"px",c.onselectstart=v,c.onmousemove=v,je.ielt9&&this.options.opacity<1&&Tn(c,this.options.opacity)},_addTile:function(c,y){var w=this._getTilePos(c),U=this._tileCoordsToKey(c),k=this.createTile(this._wrapCoords(c),o(this._tileReady,this,c));this._initTile(k),this.createTile.length<2&&K(o(this._tileReady,this,c,null,k)),Nn(k,w),this._tiles[U]={el:k,coords:c,current:!0},y.appendChild(k),this.fire("tileloadstart",{tile:k,coords:c})},_tileReady:function(c,y,w){y&&this.fire("tileerror",{error:y,tile:w,coords:c});var U=this._tileCoordsToKey(c);w=this._tiles[U],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Tn(w.el,0),st(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),y||(Ye(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var y=new tt(this._wrapX?g(c.x,this._wrapX):c.x,this._wrapY?g(c.y,this._wrapY):c.y);return y.z=c.z,y},_pxBoundsToTileRange:function(c){var y=this.getTileSize();return new ut(c.min.unscaleBy(y).floor(),c.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function pr(c){return new uo(c)}var tl=uo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,y){this._url=c,y=A(this,y),y.detectRetina&&je.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,y){return this._url===c&&y===void 0&&(y=!0),this._url=c,y||this.redraw(),this},createTile:function(c,y){var w=document.createElement("img");return sn(w,"load",o(this._tileOnLoad,this,y,w)),sn(w,"error",o(this._tileOnError,this,y,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(c),w},getTileUrl:function(c){var y={r:je.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-c.y;this.options.tms&&(y.y=w),y["-y"]=w}return O(this._url,r(y,this.options))},_tileOnLoad:function(c,y){je.ielt9?setTimeout(o(c,this,null,y),0):c(null,y)},_tileOnError:function(c,y,w){var U=this.options.errorTileUrl;U&&y.getAttribute("src")!==U&&(y.src=U),c(w,y)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,y=this.options.maxZoom,w=this.options.zoomReverse,U=this.options.zoomOffset;return w&&(c=y-c),c+U},_getSubdomain:function(c){var y=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var c,y;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(y=this._tiles[c].el,y.onload=v,y.onerror=v,!y.complete)){y.src=F;var w=this._tiles[c].coords;Je(y),delete this._tiles[c],this.fire("tileabort",{tile:y,coords:w})}},_removeTile:function(c){var y=this._tiles[c];if(y)return y.el.setAttribute("src",F),uo.prototype._removeTile.call(this,c)},_tileReady:function(c,y,w){if(!(!this._map||w&&w.getAttribute("src")===F))return uo.prototype._tileReady.call(this,c,y,w)}});function mr(c,y){return new tl(c,y)}var Mr=tl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,y){this._url=c;var w=r({},this.defaultWmsParams);for(var U in y)U in this.options||(w[U]=y[U]);y=A(this,y);var k=y.detectRetina&&je.retina?2:1,J=this.getTileSize();w.width=J.x*k,w.height=J.y*k,this.wmsParams=w},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,tl.prototype.onAdd.call(this,c)},getTileUrl:function(c){var y=this._tileCoordsToNwSe(c),w=this._crs,U=gt(w.project(y[0]),w.project(y[1])),k=U.min,J=U.max,ft=(this._wmsVersion>=1.3&&this._crs===zu?[k.y,k.x,J.y,J.x]:[k.x,k.y,J.x,J.y]).join(","),Ct=tl.prototype.getTileUrl.call(this,c);return Ct+T(this.wmsParams,Ct,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ft},setParams:function(c,y){return r(this.wmsParams,c),y||this.redraw(),this}});function qa(c,y){return new Mr(c,y)}tl.WMS=Mr,mr.wms=qa;var Wa=ia.extend({options:{padding:.1},initialize:function(c){A(this,c),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,y){var w=this._map.getZoomScale(y,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,y),J=U.multiplyBy(-w).add(k).subtract(this._map._getNewPixelOrigin(c,y));je.any3d?Kn(this._container,J,w):Nn(this._container,J)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,y=this._map.getSize(),w=this._map.containerPointToLayerPoint(y.multiplyBy(-c)).round();this._bounds=new ut(w,w.add(y.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ku=Wa.extend({options:{tolerance:0},getEvents:function(){var c=Wa.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");sn(c,"mousemove",this._onMouseMove,this),sn(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),sn(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){st(this._redrawRequest),delete this._ctx,Je(this._container),jn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var y in this._layers)c=this._layers[y],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wa.prototype._update.call(this);var c=this._bounds,y=this._container,w=c.getSize(),U=je.retina?2:1;Nn(y,c.min),y.width=U*w.x,y.height=U*w.y,y.style.width=w.x+"px",y.style.height=w.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){Wa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[h(c)]=c;var y=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var y=c._order,w=y.next,U=y.prev;w?w.prev=U:this._drawLast=U,U?U.next=w:this._drawFirst=w,delete c._order,delete this._layers[h(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var y=c.options.dashArray.split(/[, ]+/),w=[],U,k;for(k=0;k<y.length;k++){if(U=Number(y[k]),isNaN(U))return;w.push(U)}c.options._dashArray=w}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var y=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ut,this._redrawBounds.extend(c._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(c._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var y=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,y=this._redrawBounds;if(this._ctx.save(),y){var w=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)c=U.layer,(!y||c._pxBounds&&c._pxBounds.intersects(y))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,y){if(this._drawing){var w,U,k,J,ft=c._parts,Ct=ft.length,kt=this._ctx;if(Ct){for(kt.beginPath(),w=0;w<Ct;w++){for(U=0,k=ft[w].length;U<k;U++)J=ft[w][U],kt[U?"lineTo":"moveTo"](J.x,J.y);y&&kt.closePath()}this._fillStroke(kt,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var y=c._point,w=this._ctx,U=Math.max(Math.round(c._radius),1),k=(Math.max(Math.round(c._radiusY),1)||U)/U;k!==1&&(w.save(),w.scale(1,k)),w.beginPath(),w.arc(y.x,y.y/k,U,0,Math.PI*2,!1),k!==1&&w.restore(),this._fillStroke(w,c)}},_fillStroke:function(c,y){var w=y.options;w.fill&&(c.globalAlpha=w.fillOpacity,c.fillStyle=w.fillColor||w.color,c.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(c.setLineDash&&c.setLineDash(y.options&&y.options._dashArray||[]),c.globalAlpha=w.opacity,c.lineWidth=w.weight,c.strokeStyle=w.color,c.lineCap=w.lineCap,c.lineJoin=w.lineJoin,c.stroke())},_onClick:function(c){for(var y=this._map.mouseEventToLayerPoint(c),w,U,k=this._drawFirst;k;k=k.next)w=k.layer,w.options.interactive&&w._containsPoint(y)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(w))&&(U=w);this._fireEvent(U?[U]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,y)}},_handleMouseOut:function(c){var y=this._hoveredLayer;y&&(Hn(this._container,"leaflet-interactive"),this._fireEvent([y],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,y){if(!this._mouseHoverThrottled){for(var w,U,k=this._drawFirst;k;k=k.next)w=k.layer,w.options.interactive&&w._containsPoint(y)&&(U=w);U!==this._hoveredLayer&&(this._handleMouseOut(c),U&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([U],c,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,y,w){this._map._fireDOMEvent(y,w||y.type,c)},_bringToFront:function(c){var y=c._order;if(y){var w=y.next,U=y.prev;if(w)w.prev=U;else return;U?U.next=w:w&&(this._drawFirst=w),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(c)}},_bringToBack:function(c){var y=c._order;if(y){var w=y.next,U=y.prev;if(U)U.next=w;else return;w?w.prev=U:U&&(this._drawLast=U),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(c)}}});function co(c){return je.canvas?new ku(c):null}var el=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fo={_initContainer:function(){this._container=Xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wa.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var y=c._container=el("shape");Ye(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",c._path=el("path"),y.appendChild(c._path),this._updateStyle(c),this._layers[h(c)]=c},_addPath:function(c){var y=c._container;this._container.appendChild(y),c.options.interactive&&c.addInteractiveTarget(y)},_removePath:function(c){var y=c._container;Je(y),c.removeInteractiveTarget(y),delete this._layers[h(c)]},_updateStyle:function(c){var y=c._stroke,w=c._fill,U=c.options,k=c._container;k.stroked=!!U.stroke,k.filled=!!U.fill,U.stroke?(y||(y=c._stroke=el("stroke")),k.appendChild(y),y.weight=U.weight+"px",y.color=U.color,y.opacity=U.opacity,U.dashArray?y.dashStyle=P(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=U.lineCap.replace("butt","flat"),y.joinstyle=U.lineJoin):y&&(k.removeChild(y),c._stroke=null),U.fill?(w||(w=c._fill=el("fill")),k.appendChild(w),w.color=U.fillColor||U.color,w.opacity=U.fillOpacity):w&&(k.removeChild(w),c._fill=null)},_updateCircle:function(c){var y=c._point.round(),w=Math.round(c._radius),U=Math.round(c._radiusY||w);this._setPath(c,c._empty()?"M0 0":"AL "+y.x+","+y.y+" "+w+","+U+" 0,"+65535*360)},_setPath:function(c,y){c._path.v=y},_bringToFront:function(c){Ve(c._container)},_bringToBack:function(c){Wn(c._container)}},ju=je.vml?el:Gt,zs=Wa.extend({_initContainer:function(){this._container=ju("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ju("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Je(this._container),jn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wa.prototype._update.call(this);var c=this._bounds,y=c.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,w.setAttribute("width",y.x),w.setAttribute("height",y.y)),Nn(w,c.min),w.setAttribute("viewBox",[c.min.x,c.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(c){var y=c._path=ju("path");c.options.className&&Ye(y,c.options.className),c.options.interactive&&Ye(y,"leaflet-interactive"),this._updateStyle(c),this._layers[h(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){Je(c._path),c.removeInteractiveTarget(c._path),delete this._layers[h(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var y=c._path,w=c.options;y&&(w.stroke?(y.setAttribute("stroke",w.color),y.setAttribute("stroke-opacity",w.opacity),y.setAttribute("stroke-width",w.weight),y.setAttribute("stroke-linecap",w.lineCap),y.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?y.setAttribute("stroke-dasharray",w.dashArray):y.removeAttribute("stroke-dasharray"),w.dashOffset?y.setAttribute("stroke-dashoffset",w.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),w.fill?(y.setAttribute("fill",w.fillColor||w.color),y.setAttribute("fill-opacity",w.fillOpacity),y.setAttribute("fill-rule",w.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(c,y){this._setPath(c,Yt(c._parts,y))},_updateCircle:function(c){var y=c._point,w=Math.max(Math.round(c._radius),1),U=Math.max(Math.round(c._radiusY),1)||w,k="a"+w+","+U+" 0 1,0 ",J=c._empty()?"M0 0":"M"+(y.x-w)+","+y.y+k+w*2+",0 "+k+-w*2+",0 ";this._setPath(c,J)},_setPath:function(c,y){c._path.setAttribute("d",y)},_bringToFront:function(c){Ve(c._path)},_bringToBack:function(c){Wn(c._path)}});je.vml&&zs.include(fo);function ho(c){return je.svg||je.vml?new zs(c):null}wn.include({getRenderer:function(c){var y=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var y=this._paneRenderers[c];return y===void 0&&(y=this._createRenderer({pane:c}),this._paneRenderers[c]=y),y},_createRenderer:function(c){return this.options.preferCanvas&&co(c)||ho(c)}});var Gf=Yl.extend({initialize:function(c,y){Yl.prototype.initialize.call(this,this._boundsToLatLngs(c),y)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=Dt(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function la(c,y){return new Gf(c,y)}zs.create=ju,zs.pointsToPath=Yt,ir.geometryToLayer=br,ir.coordsToLatLng=Oc,ir.coordsToLatLngs=Bu,ir.latLngToCoords=Zl,ir.latLngsToCoords=Fu,ir.getFeature=oa,ir.asFeature=Kl,wn.mergeOptions({boxZoom:!0});var Vu=Ea.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){sn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ci(),Cu(),this._startPoint=this._map.mouseEventToContainerPoint(c),sn(document,{contextmenu:ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=Xe("div","leaflet-zoom-box",this._container),Ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var y=new ut(this._point,this._startPoint),w=y.getSize();Nn(this._box,y.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Je(this._box),Hn(this._container,"leaflet-crosshair")),Au(),Mc(),jn(document,{contextmenu:ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new Lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wn.addInitHook("addHandler","boxZoom",Vu),wn.mergeOptions({doubleClickZoom:!0});var Ni=Ea.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var y=this._map,w=y.getZoom(),U=y.options.zoomDelta,k=c.originalEvent.shiftKey?w-U:w+U;y.options.doubleClickZoom==="center"?y.setZoom(k):y.setZoomAround(c.containerPoint,k)}});wn.addInitHook("addHandler","doubleClickZoom",Ni),wn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qf=Ea.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new ao(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Hn(this._map._container,"leaflet-grab"),Hn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=Dt(this._map.options.maxBounds);this._offsetLimit=gt(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var y=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(y),this._prunePositions(y)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,y){return c-(c-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;c.x<y.min.x&&(c.x=this._viscousLimit(c.x,y.min.x)),c.y<y.min.y&&(c.y=this._viscousLimit(c.y,y.min.y)),c.x>y.max.x&&(c.x=this._viscousLimit(c.x,y.max.x)),c.y>y.max.y&&(c.y=this._viscousLimit(c.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,y=Math.round(c/2),w=this._initialWorldOffset,U=this._draggable._newPos.x,k=(U-y+w)%c+y-w,J=(U+y+w)%c-y-w,ft=Math.abs(k+w)<Math.abs(J+w)?k:J;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ft},_onDragEnd:function(c){var y=this._map,w=y.options,U=!w.inertia||c.noInertia||this._times.length<2;if(y.fire("dragend",c),U)y.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),J=(this._lastTime-this._times[0])/1e3,ft=w.easeLinearity,Ct=k.multiplyBy(ft/J),kt=Ct.distanceTo([0,0]),ce=Math.min(w.inertiaMaxSpeed,kt),Ae=Ct.multiplyBy(ce/kt),Ie=ce/(w.inertiaDeceleration*ft),Ge=Ae.multiplyBy(-Ie/2).round();!Ge.x&&!Ge.y?y.fire("moveend"):(Ge=y._limitOffset(Ge,y.options.maxBounds),K(function(){y.panBy(Ge,{duration:Ie,easeLinearity:ft,noMoveStart:!0,animate:!0})}))}}});wn.addInitHook("addHandler","dragging",qf),wn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rr=Ea.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),sn(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,y=document.documentElement,w=c.scrollTop||y.scrollTop,U=c.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(U,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var y=this._panKeys={},w=this.keyCodes,U,k;for(U=0,k=w.left.length;U<k;U++)y[w.left[U]]=[-1*c,0];for(U=0,k=w.right.length;U<k;U++)y[w.right[U]]=[c,0];for(U=0,k=w.down.length;U<k;U++)y[w.down[U]]=[0,c];for(U=0,k=w.up.length;U<k;U++)y[w.up[U]]=[0,-1*c]},_setZoomDelta:function(c){var y=this._zoomKeys={},w=this.keyCodes,U,k;for(U=0,k=w.zoomIn.length;U<k;U++)y[w.zoomIn[U]]=c;for(U=0,k=w.zoomOut.length;U<k;U++)y[w.zoomOut[U]]=-c},_addHooks:function(){sn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var y=c.keyCode,w=this._map,U;if(y in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(U=this._panKeys[y],c.shiftKey&&(U=Q(U).multiplyBy(3)),w.options.maxBounds&&(U=w._limitOffset(Q(U),w.options.maxBounds)),w.options.worldCopyJump){var k=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(U)));w.panTo(k)}else w.panBy(U)}else if(y in this._zoomKeys)w.setZoom(w.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;ja(c)}}});wn.addInitHook("addHandler","keyboard",rr),wn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var po=Ea.extend({addHooks:function(){sn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var y=jl(c),w=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var U=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),U),ja(c)},_performZoom:function(){var c=this._map,y=c.getZoom(),w=this._map.options.zoomSnap||0;c._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,J=w?Math.ceil(k/w)*w:k,ft=c._limitZoom(y+(this._delta>0?J:-J))-y;this._delta=0,this._startTime=null,ft&&(c.options.scrollWheelZoom==="center"?c.setZoom(y+ft):c.setZoomAround(this._lastMousePos,y+ft))}});wn.addInitHook("addHandler","scrollWheelZoom",po);var Lc=600;wn.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var Nc=Ea.extend({addHooks:function(){sn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var y=c.touches[0];this._startPos=this._newPos=new tt(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(sn(document,"touchend",yi),sn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Lc),sn(document,"touchend touchcancel contextmenu",this._cancel,this),sn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){jn(document,"touchend",yi),jn(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),jn(document,"touchend touchcancel contextmenu",this._cancel,this),jn(document,"touchmove",this._onMove,this)},_onMove:function(c){var y=c.touches[0];this._newPos=new tt(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,y){var w=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});w._simulated=!0,y.target.dispatchEvent(w)}});wn.addInitHook("addHandler","tapHold",Nc),wn.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var $l=Ea.extend({addHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),sn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Hn(this._map._container,"leaflet-touch-zoom"),jn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var y=this._map;if(!(!c.touches||c.touches.length!==2||y._animatingZoom||this._zooming)){var w=y.mouseEventToContainerPoint(c.touches[0]),U=y.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(w.add(U)._divideBy(2))),this._startDist=w.distanceTo(U),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),sn(document,"touchmove",this._onTouchMove,this),sn(document,"touchend touchcancel",this._onTouchEnd,this),yi(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var y=this._map,w=y.mouseEventToContainerPoint(c.touches[0]),U=y.mouseEventToContainerPoint(c.touches[1]),k=w.distanceTo(U)/this._startDist;if(this._zoom=y.getScaleZoom(k,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&k<1||this._zoom>y.getMaxZoom()&&k>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var J=w._add(U)._divideBy(2)._subtract(this._centerPoint);if(k===1&&J.x===0&&J.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(J),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),st(this._animRequest);var ft=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(ft,this,!0),yi(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,st(this._animRequest),jn(document,"touchmove",this._onTouchMove,this),jn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});wn.addInitHook("addHandler","touchZoom",$l),wn.BoxZoom=Vu,wn.DoubleClickZoom=Ni,wn.Drag=qf,wn.Keyboard=rr,wn.ScrollWheelZoom=po,wn.TapHold=Nc,wn.TouchZoom=$l,e.Bounds=ut,e.Browser=je,e.CRS=Qt,e.Canvas=ku,e.Circle=od,e.CircleMarker=ai,e.Class=dt,e.Control=zr,e.DivIcon=Us,e.DivOverlay=Va,e.DomEvent=Bp,e.DomUtil=Jh,e.Draggable=ao,e.Evented=it,e.FeatureGroup=aa,e.GeoJSON=ir,e.GridLayer=uo,e.Handler=Ea,e.Icon=Wl,e.ImageOverlay=Vi,e.LatLng=Zt,e.LatLngBounds=Lt,e.Layer=ia,e.LayerGroup=Ko,e.LineUtil=Yo,e.Map=wn,e.Marker=Xl,e.Mixin=kp,e.Path=Ta,e.Point=tt,e.PolyUtil=id,e.Polygon=Yl,e.Polyline=wa,e.Popup=Sr,e.PosAnimation=Ls,e.Projection=ad,e.Rectangle=Gf,e.Renderer=Wa,e.SVG=zs,e.SVGOverlay=Ns,e.TileLayer=tl,e.Tooltip=Ga,e.Transformation=pe,e.Util=lt,e.VideoOverlay=Dc,e.bind=o,e.bounds=gt,e.canvas=co,e.circle=qp,e.circleMarker=Gp,e.control=Vl,e.divIcon=Vf,e.extend=r,e.featureGroup=ql,e.geoJSON=Pc,e.geoJson=ld,e.gridLayer=pr,e.icon=Cc,e.imageOverlay=Jo,e.latLng=_t,e.latLngBounds=Dt,e.layerGroup=ra,e.map=Du,e.marker=Iu,e.point=Q,e.polygon=sa,e.polyline=$o,e.popup=Xp,e.rectangle=la,e.setOptions=A,e.stamp=h,e.svg=ho,e.svgOverlay=Vr,e.tileLayer=mr,e.tooltip=Hu,e.transformation=jt,e.version=i,e.videoOverlay=Wp;var ua=window.L;e.noConflict=function(){return window.L=ua,this},window.L=e}))})(sy,sy.exports)),sy.exports}var g0=zY();const cB=Ll(g0);function OC(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function PC(n,t){return t==null?function(i,r){const a=H.useRef(void 0);return a.current||(a.current=n(i,r)),a}:function(i,r){const a=H.useRef(void 0);a.current||(a.current=n(i,r));const o=H.useRef(i),{instance:l}=a.current;return H.useEffect(function(){o.current!==i&&(t(l,i,o.current),o.current=i)},[l,i,t]),a}}function fB(n,t){H.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function hB(n){return function(e){const i=CC(),r=n(RC(e,i),i);return OY(i.map,e.attribution),uB(r.current,e.eventHandlers),fB(r.current,i),r}}function IY(n,t){const e=H.useRef(void 0);H.useEffect(function(){if(t.pathOptions!==e.current){const r=t.pathOptions??{};n.instance.setStyle(r),e.current=r}},[n,t])}function BY(n){return function(e){const i=CC(),r=n(RC(e,i),i);return uB(r.current,e.eventHandlers),fB(r.current,i),IY(r.current,e),r}}function FY(n,t){const e=PC(n,t),i=hB(e);return lB(i)}function HY(n,t){const e=PC(n,t),i=BY(e);return lB(i)}function kY(n,t){const e=PC(n,t),i=hB(e);return NY(i)}function jY(n,t,e){const{opacity:i,zIndex:r}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),r!=null&&r!==e.zIndex&&n.setZIndex(r)}function VY(){return CC().map}function GY(n){const t=VY();return H.useEffect(function(){return t.on(n),function(){t.off(n)}},[t,n]),t}const GE=HY(function({center:t,children:e,...i},r){const a=new g0.Circle(t,i);return OC(a,oB(r,{overlayContainer:a}))},PY);function qY({bounds:n,boundsOptions:t,center:e,children:i,className:r,id:a,placeholder:o,style:l,whenReady:h,zoom:d,...g},v){const[_]=H.useState({className:r,id:a,style:l}),[b,M]=H.useState(null),A=H.useRef(void 0);H.useImperativeHandle(v,()=>b?.map??null,[b]);const T=H.useCallback(O=>{if(O!==null&&!A.current){const P=new g0.Map(O,g);A.current=P,e!=null&&d!=null?P.setView(e,d):n!=null&&P.fitBounds(n,t),h!=null&&P.whenReady(h),M(LY(P))}},[]);H.useEffect(()=>()=>{b?.map.remove()},[b]);const E=b?mf.createElement(AC,{value:b},i):o??null;return mf.createElement("div",{..._,ref:T},E)}const WY=H.forwardRef(qY),XY=FY(function({position:t,...e},i){const r=new g0.Marker(t,e);return OC(r,oB(i,{overlayContainer:r}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),YY=kY(function({url:t,...e},i){const r=new g0.TileLayer(t,RC(e,i));return OC(r,i)},function(t,e,i){jY(t,e,i);const{url:r}=e;r!=null&&r!==i.url&&t.setUrl(r)});delete cB.Icon.Default.prototype._getIconUrl;cB.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function ZY({onLocationChange:n}){return GY({click(t){const{lat:e,lng:i}=t.latlng,r=ZI(e,i);r.isValid||console.warn(`Координатная точность снижена: ${r.message}`),n(e,i)}}),null}function KY({lat:n,lng:t,impactData:e}){return e?V.jsxs(V.Fragment,{children:[V.jsx(GE,{center:[n,t],radius:e.craterRadius,pathOptions:{color:"#ff0000",fillColor:"#ff0000",fillOpacity:.3,weight:2}}),V.jsx(GE,{center:[n,t],radius:e.blastRadius,pathOptions:{color:"#ff8800",fillColor:"#ff8800",fillOpacity:.15,weight:2}}),V.jsx(GE,{center:[n,t],radius:e.seismicRadius,pathOptions:{color:"#ffdd00",fillColor:"#ffdd00",fillOpacity:.1,weight:1}})]}):null}function QY({location:n,onLocationChange:t,impactData:e,showDamageZones:i=!0}){const[r,a]=n,o=ZI(r,a);return V.jsxs("div",{style:{height:"400px",width:"100%",border:"1px solid #333",borderRadius:"8px",overflow:"hidden",position:"relative"},children:[V.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",zIndex:1e3,fontFamily:"monospace"},children:[V.jsxs("div",{children:["📍 ",r.toFixed(4),"°, ",a.toFixed(4),"°"]}),V.jsxs("div",{style:{color:o.isValid?"#4CAF50":"#FF9800"},children:["⚡ Точность: ",o.error.toFixed(1),"м"]})]}),V.jsxs(WY,{center:[r,a],zoom:6,style:{height:"100%",width:"100%"},attributionControl:!1,children:[V.jsx(YY,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),V.jsx(ZY,{onLocationChange:t}),V.jsx(XY,{position:[r,a]}),i&&e&&V.jsx(KY,{lat:r,lng:a,impactData:e})]})]})}function dB(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=dB(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function oi(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=dB(n))&&(i&&(i+=" "),i+=t);return i}var qE={},WE={},CD;function $Y(){return CD||(CD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==="__proto__"}n.isUnsafeProperty=t})(WE)),WE}var XE={},RD;function pB(){return RD||(RD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}n.isDeepKey=t})(XE)),XE}var YE={},OD;function mB(){return OD||(OD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="string"||typeof e=="symbol"?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}n.toKey=t})(YE)),YE}var ZE={},PD;function DC(){return PD||(PD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){const i=[],r=e.length;if(r===0)return i;let a=0,o="",l="",h=!1;for(e.charCodeAt(0)===46&&(i.push(""),a++);a<r;){const d=e[a];l?d==="\\"&&a+1<r?(a++,o+=e[a]):d===l?l="":o+=d:h?d==='"'||d==="'"?l=d:d==="]"?(h=!1,i.push(o),o=""):o+=d:d==="["?(h=!0,o&&(i.push(o),o="")):d==="."?o&&(i.push(o),o=""):o+=d,a++}return o&&i.push(o),i}n.toPath=t})(ZE)),ZE}var DD;function LC(){return DD||(DD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=$Y(),e=pB(),i=mB(),r=DC();function a(l,h,d){if(l==null)return d;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return d;const g=l[h];return g===void 0?e.isDeepKey(h)?a(l,r.toPath(h),d):d:g}case"number":case"symbol":{typeof h=="number"&&(h=i.toKey(h));const g=l[h];return g===void 0?d:g}default:{if(Array.isArray(h))return o(l,h,d);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return d;const g=l[h];return g===void 0?d:g}}}function o(l,h,d){if(h.length===0)return d;let g=l;for(let v=0;v<h.length;v++){if(g==null||t.isUnsafeProperty(h[v]))return d;g=g[h[v]]}return g===void 0?d:g}n.get=a})(qE)),qE}var KE,LD;function JY(){return LD||(LD=1,KE=LC().get),KE}var tZ=JY();const Tp=Ll(tZ);var QE={exports:{}},Ti={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND;function eZ(){if(ND)return Ti;ND=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function M(A){if(typeof A=="object"&&A!==null){var T=A.$$typeof;switch(T){case n:switch(A=A.type,A){case e:case r:case i:case h:case d:case _:return A;default:switch(A=A&&A.$$typeof,A){case o:case l:case v:case g:return A;case a:return A;default:return T}}case t:return T}}}return Ti.ContextConsumer=a,Ti.ContextProvider=o,Ti.Element=n,Ti.ForwardRef=l,Ti.Fragment=e,Ti.Lazy=v,Ti.Memo=g,Ti.Portal=t,Ti.Profiler=r,Ti.StrictMode=i,Ti.Suspense=h,Ti.SuspenseList=d,Ti.isContextConsumer=function(A){return M(A)===a},Ti.isContextProvider=function(A){return M(A)===o},Ti.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},Ti.isForwardRef=function(A){return M(A)===l},Ti.isFragment=function(A){return M(A)===e},Ti.isLazy=function(A){return M(A)===v},Ti.isMemo=function(A){return M(A)===g},Ti.isPortal=function(A){return M(A)===t},Ti.isProfiler=function(A){return M(A)===r},Ti.isStrictMode=function(A){return M(A)===i},Ti.isSuspense=function(A){return M(A)===h},Ti.isSuspenseList=function(A){return M(A)===d},Ti.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===e||A===r||A===i||A===h||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===g||A.$$typeof===o||A.$$typeof===a||A.$$typeof===l||A.$$typeof===b||A.getModuleId!==void 0)},Ti.typeOf=M,Ti}var UD;function nZ(){return UD||(UD=1,QE.exports=eZ()),QE.exports}var iZ=nZ(),rs=n=>n===0?0:n>0?1:-1,Ol=n=>typeof n=="number"&&n!=+n,sp=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,un=n=>(typeof n=="number"||n instanceof Number)&&!Ol(n),_c=n=>un(n)||typeof n=="string",rZ=0,Gy=n=>{var t=++rZ;return"".concat(n||"").concat(t)},Io=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!un(t)&&typeof t!="string")return i;var a;if(sp(t)){if(e==null)return i;var o=t.indexOf("%");a=e*parseFloat(t.slice(0,o))/100}else a=+t;return Ol(a)&&(a=i),r&&e!=null&&a>e&&(a=e),a},gB=n=>{if(!Array.isArray(n))return!1;for(var t=n.length,e={},i=0;i<t;i++)if(!e[n[i]])e[n[i]]=!0;else return!0;return!1};function ns(n,t,e){return un(n)&&un(t)?n+e*(t-n):t}function vB(n,t,e){if(!(!n||!n.length))return n.find(i=>i&&(typeof t=="function"?t(i):Tp(i,t))===e)}var Yr=n=>n===null||typeof n>"u",v0=n=>Yr(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1)),aZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NC(n){if(typeof n!="string")return!1;var t=aZ;return t.includes(n)}var sZ=["viewBox","children"],zD=["points","pathLength"],$E={svg:sZ,polygon:zD,polyline:zD},UC=(n,t)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var e=n;if(H.isValidElement(n)&&(e=n.props),typeof e!="object"&&typeof e!="function")return null;var i={};return Object.keys(e).forEach(r=>{NC(r)&&(i[r]=(a=>e[r](e,a)))}),i},oZ=(n,t,e)=>i=>(n(t,e,i),null),zC=(n,t,e)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var a=n[r];NC(r)&&typeof a=="function"&&(i||(i={}),i[r]=oZ(a,t,e))}),i},lZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yB(n){if(typeof n!="string")return!1;var t=lZ;return t.includes(n)}function qh(n){var t=Object.entries(n).filter(e=>{var[i]=e;return yB(i)});return Object.fromEntries(t)}var ID=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",BD=null,JE=null,_B=n=>{if(n===BD&&Array.isArray(JE))return JE;var t=[];return H.Children.forEach(n,e=>{Yr(e)||(iZ.isFragment(e)?t=t.concat(_B(e.props.children)):t.push(e))}),JE=t,BD=n,t};function xB(n,t){var e=[],i=[];return Array.isArray(t)?i=t.map(r=>ID(r)):i=[ID(t)],_B(n).forEach(r=>{var a=Tp(r,"type.displayName")||Tp(r,"type.name");i.indexOf(a)!==-1&&e.push(r)}),e}var bB=n=>n&&typeof n=="object"&&"clipDot"in n?!!n.clipDot:!0,uZ=(n,t,e,i)=>{var r;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(r=i&&$E?.[i])!==null&&r!==void 0?r:[],o=t.startsWith("data-"),l=typeof n!="function"&&(!!i&&a.includes(t)||yB(t)),h=!!e&&NC(t);return o||l||h},fr=(n,t,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var i=n;if(H.isValidElement(n)&&(i=n.props),typeof i!="object"&&typeof i!="function")return null;var r={};return Object.keys(i).forEach(a=>{var o;uZ((o=i)===null||o===void 0?void 0:o[a],a,t,e)&&(r[a]=i[a])}),r},cZ=["children","width","height","viewBox","className","style","title","desc"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gw.apply(null,arguments)}function fZ(n,t){if(n==null)return{};var e,i,r=hZ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function hZ(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var IC=H.forwardRef((n,t)=>{var{children:e,width:i,height:r,viewBox:a,className:o,style:l,title:h,desc:d}=n,g=fZ(n,cZ),v=a||{width:i,height:r,x:0,y:0},_=oi("recharts-surface",o);return H.createElement("svg",Gw({},fr(g,!0,"svg"),{className:_,width:i,height:r,style:l,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),H.createElement("title",null,h),H.createElement("desc",null,d),e)}),dZ=["children","className"];function qw(){return qw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qw.apply(null,arguments)}function pZ(n,t){if(n==null)return{};var e,i,r=mZ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function mZ(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var ko=H.forwardRef((n,t)=>{var{children:e,className:i}=n,r=pZ(n,dZ),a=oi("recharts-layer",i);return H.createElement("g",qw({className:a},fr(r,!0),{ref:t}),e)}),SB=H.createContext(null),gZ=()=>H.useContext(SB);function zi(n){return function(){return n}}const MB=Math.cos,Jb=Math.sin,Eu=Math.sqrt,t1=Math.PI,mS=2*t1,Ww=Math.PI,Xw=2*Ww,Qd=1e-6,vZ=Xw-Qd;function EB(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function yZ(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return EB;const e=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}class _Z{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?EB:yZ(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,a,o){this._append`C${+t},${+e},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(t,e,i,r,a){if(t=+t,e=+e,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,h=i-t,d=r-e,g=o-t,v=l-e,_=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(_>Qd)if(!(Math.abs(v*h-d*g)>Qd)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let b=i-o,M=r-l,A=h*h+d*d,T=b*b+M*M,E=Math.sqrt(A),O=Math.sqrt(_),P=a*Math.tan((Ww-Math.acos((A+_-T)/(2*E*O)))/2),z=P/O,F=P/E;Math.abs(z-1)>Qd&&this._append`L${t+z*g},${e+z*v}`,this._append`A${a},${a},0,0,${+(v*b>g*M)},${this._x1=t+F*h},${this._y1=e+F*d}`}}arc(t,e,i,r,a,o){if(t=+t,e=+e,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(r),h=i*Math.sin(r),d=t+l,g=e+h,v=1^o,_=o?r-a:a-r;this._x1===null?this._append`M${d},${g}`:(Math.abs(this._x1-d)>Qd||Math.abs(this._y1-g)>Qd)&&this._append`L${d},${g}`,i&&(_<0&&(_=_%Xw+Xw),_>vZ?this._append`A${i},${i},0,1,${v},${t-l},${e-h}A${i},${i},0,1,${v},${this._x1=d},${this._y1=g}`:_>Qd&&this._append`A${i},${i},0,${+(_>=Ww)},${v},${this._x1=t+i*Math.cos(a)},${this._y1=e+i*Math.sin(a)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function BC(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new _Z(t)}function FC(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function TB(n){this._context=n}TB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function gS(n){return new TB(n)}function wB(n){return n[0]}function AB(n){return n[1]}function CB(n,t){var e=zi(!0),i=null,r=gS,a=null,o=BC(l);n=typeof n=="function"?n:n===void 0?wB:zi(n),t=typeof t=="function"?t:t===void 0?AB:zi(t);function l(h){var d,g=(h=FC(h)).length,v,_=!1,b;for(i==null&&(a=r(b=o())),d=0;d<=g;++d)!(d<g&&e(v=h[d],d,h))===_&&((_=!_)?a.lineStart():a.lineEnd()),_&&a.point(+n(v,d,h),+t(v,d,h));if(b)return a=null,b+""||null}return l.x=function(h){return arguments.length?(n=typeof h=="function"?h:zi(+h),l):n},l.y=function(h){return arguments.length?(t=typeof h=="function"?h:zi(+h),l):t},l.defined=function(h){return arguments.length?(e=typeof h=="function"?h:zi(!!h),l):e},l.curve=function(h){return arguments.length?(r=h,i!=null&&(a=r(i)),l):r},l.context=function(h){return arguments.length?(h==null?i=a=null:a=r(i=h),l):i},l}function Nx(n,t,e){var i=null,r=zi(!0),a=null,o=gS,l=null,h=BC(d);n=typeof n=="function"?n:n===void 0?wB:zi(+n),t=typeof t=="function"?t:zi(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?AB:zi(+e);function d(v){var _,b,M,A=(v=FC(v)).length,T,E=!1,O,P=new Array(A),z=new Array(A);for(a==null&&(l=o(O=h())),_=0;_<=A;++_){if(!(_<A&&r(T=v[_],_,v))===E)if(E=!E)b=_,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),M=_-1;M>=b;--M)l.point(P[M],z[M]);l.lineEnd(),l.areaEnd()}E&&(P[_]=+n(T,_,v),z[_]=+t(T,_,v),l.point(i?+i(T,_,v):P[_],e?+e(T,_,v):z[_]))}if(O)return l=null,O+""||null}function g(){return CB().defined(r).curve(o).context(a)}return d.x=function(v){return arguments.length?(n=typeof v=="function"?v:zi(+v),i=null,d):n},d.x0=function(v){return arguments.length?(n=typeof v=="function"?v:zi(+v),d):n},d.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:zi(+v),d):i},d.y=function(v){return arguments.length?(t=typeof v=="function"?v:zi(+v),e=null,d):t},d.y0=function(v){return arguments.length?(t=typeof v=="function"?v:zi(+v),d):t},d.y1=function(v){return arguments.length?(e=v==null?null:typeof v=="function"?v:zi(+v),d):e},d.lineX0=d.lineY0=function(){return g().x(n).y(t)},d.lineY1=function(){return g().x(n).y(e)},d.lineX1=function(){return g().x(i).y(t)},d.defined=function(v){return arguments.length?(r=typeof v=="function"?v:zi(!!v),d):r},d.curve=function(v){return arguments.length?(o=v,a!=null&&(l=o(a)),d):o},d.context=function(v){return arguments.length?(v==null?a=l=null:l=o(a=v),d):a},d}class RB{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function xZ(n){return new RB(n,!0)}function bZ(n){return new RB(n,!1)}const HC={draw(n,t){const e=Eu(t/t1);n.moveTo(e,0),n.arc(0,0,e,0,mS)}},SZ={draw(n,t){const e=Eu(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},OB=Eu(1/3),MZ=OB*2,EZ={draw(n,t){const e=Eu(t/MZ),i=e*OB;n.moveTo(0,-e),n.lineTo(i,0),n.lineTo(0,e),n.lineTo(-i,0),n.closePath()}},TZ={draw(n,t){const e=Eu(t),i=-e/2;n.rect(i,i,e,e)}},wZ=.8908130915292852,PB=Jb(t1/10)/Jb(7*t1/10),AZ=Jb(mS/10)*PB,CZ=-MB(mS/10)*PB,RZ={draw(n,t){const e=Eu(t*wZ),i=AZ*e,r=CZ*e;n.moveTo(0,-e),n.lineTo(i,r);for(let a=1;a<5;++a){const o=mS*a/5,l=MB(o),h=Jb(o);n.lineTo(h*e,-l*e),n.lineTo(l*i-h*r,h*i+l*r)}n.closePath()}},tT=Eu(3),OZ={draw(n,t){const e=-Eu(t/(tT*3));n.moveTo(0,e*2),n.lineTo(-tT*e,-e),n.lineTo(tT*e,-e),n.closePath()}},xl=-.5,bl=Eu(3)/2,Yw=1/Eu(12),PZ=(Yw/2+1)*3,DZ={draw(n,t){const e=Eu(t/PZ),i=e/2,r=e*Yw,a=i,o=e*Yw+e,l=-a,h=o;n.moveTo(i,r),n.lineTo(a,o),n.lineTo(l,h),n.lineTo(xl*i-bl*r,bl*i+xl*r),n.lineTo(xl*a-bl*o,bl*a+xl*o),n.lineTo(xl*l-bl*h,bl*l+xl*h),n.lineTo(xl*i+bl*r,xl*r-bl*i),n.lineTo(xl*a+bl*o,xl*o-bl*a),n.lineTo(xl*l+bl*h,xl*h-bl*l),n.closePath()}};function LZ(n,t){let e=null,i=BC(r);n=typeof n=="function"?n:zi(n||HC),t=typeof t=="function"?t:zi(t===void 0?64:+t);function r(){let a;if(e||(e=a=i()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),a)return e=null,a+""||null}return r.type=function(a){return arguments.length?(n=typeof a=="function"?a:zi(a),r):n},r.size=function(a){return arguments.length?(t=typeof a=="function"?a:zi(+a),r):t},r.context=function(a){return arguments.length?(e=a??null,r):e},r}function e1(){}function n1(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function DB(n){this._context=n}DB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:n1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:n1(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function NZ(n){return new DB(n)}function LB(n){this._context=n}LB.prototype={areaStart:e1,areaEnd:e1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:n1(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function UZ(n){return new LB(n)}function NB(n){this._context=n}NB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:n1(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function zZ(n){return new NB(n)}function UB(n){this._context=n}UB.prototype={areaStart:e1,areaEnd:e1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function IZ(n){return new UB(n)}function FD(n){return n<0?-1:1}function HD(n,t,e){var i=n._x1-n._x0,r=t-n._x1,a=(n._y1-n._y0)/(i||r<0&&-0),o=(e-n._y1)/(r||i<0&&-0),l=(a*r+o*i)/(i+r);return(FD(a)+FD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function kD(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function eT(n,t,e){var i=n._x0,r=n._y0,a=n._x1,o=n._y1,l=(a-i)/3;n._context.bezierCurveTo(i+l,r+l*t,a-l,o-l*e,a,o)}function i1(n){this._context=n}i1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eT(this,this._t0,kD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,eT(this,kD(this,e=HD(this,n,t)),e);break;default:eT(this,this._t0,e=HD(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function zB(n){this._context=new IB(n)}(zB.prototype=Object.create(i1.prototype)).point=function(n,t){i1.prototype.point.call(this,t,n)};function IB(n){this._context=n}IB.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,i,r,a){this._context.bezierCurveTo(t,n,i,e,a,r)}};function BZ(n){return new i1(n)}function FZ(n){return new zB(n)}function BB(n){this._context=n}BB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var i=jD(n),r=jD(t),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],n[o],t[o]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function jD(n){var t,e=n.length-1,i,r=new Array(e),a=new Array(e),o=new Array(e);for(r[0]=0,a[0]=2,o[0]=n[0]+2*n[1],t=1;t<e-1;++t)r[t]=1,a[t]=4,o[t]=4*n[t]+2*n[t+1];for(r[e-1]=2,a[e-1]=7,o[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)i=r[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(r[e-1]=o[e-1]/a[e-1],t=e-2;t>=0;--t)r[t]=(o[t]-r[t+1])/a[t];for(a[e-1]=(n[e]+r[e-1])/2,t=0;t<e-1;++t)a[t]=2*n[t+1]-r[t+1];return[r,a]}function HZ(n){return new BB(n)}function vS(n,t){this._context=n,this._t=t}vS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function kZ(n){return new vS(n,.5)}function jZ(n){return new vS(n,0)}function VZ(n){return new vS(n,1)}function Sg(n,t){if((o=n.length)>1)for(var e=1,i,r,a=n[t[0]],o,l=a.length;e<o;++e)for(r=a,a=n[t[e]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function Zw(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function GZ(n,t){return n[t]}function qZ(n){const t=[];return t.key=n,t}function WZ(){var n=zi([]),t=Zw,e=Sg,i=GZ;function r(a){var o=Array.from(n.apply(this,arguments),qZ),l,h=o.length,d=-1,g;for(const v of a)for(l=0,++d;l<h;++l)(o[l][d]=[0,+i(v,o[l].key,d,a)]).data=v;for(l=0,g=FC(t(o));l<h;++l)o[g[l]].index=l;return e(o,g),o}return r.keys=function(a){return arguments.length?(n=typeof a=="function"?a:zi(Array.from(a)),r):n},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:zi(+a),r):i},r.order=function(a){return arguments.length?(t=a==null?Zw:typeof a=="function"?a:zi(Array.from(a)),r):t},r.offset=function(a){return arguments.length?(e=a??Sg,r):e},r}function XZ(n,t){if((i=n.length)>0){for(var e,i,r=0,a=n[0].length,o;r<a;++r){for(o=e=0;e<i;++e)o+=n[e][r][1]||0;if(o)for(e=0;e<i;++e)n[e][r][1]/=o}Sg(n,t)}}function YZ(n,t){if((r=n.length)>0){for(var e=0,i=n[t[0]],r,a=i.length;e<a;++e){for(var o=0,l=0;o<r;++o)l+=n[o][e][1]||0;i[e][1]+=i[e][0]=-l/2}Sg(n,t)}}function ZZ(n,t){if(!(!((o=n.length)>0)||!((a=(r=n[t[0]]).length)>0))){for(var e=0,i=1,r,a,o;i<a;++i){for(var l=0,h=0,d=0;l<o;++l){for(var g=n[t[l]],v=g[i][1]||0,_=g[i-1][1]||0,b=(v-_)/2,M=0;M<l;++M){var A=n[t[M]],T=A[i][1]||0,E=A[i-1][1]||0;b+=T-E}h+=v,d+=b*v}r[i-1][1]+=r[i-1][0]=e,h&&(e-=d/h)}r[i-1][1]+=r[i-1][0]=e,Sg(n,t)}}var KZ=["type","size","sizeType"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Kw.apply(null,arguments)}function VD(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function GD(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(e),!0).forEach(function(i){QZ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):VD(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function QZ(n,t,e){return(t=$Z(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $Z(n){var t=JZ(n,"string");return typeof t=="symbol"?t:t+""}function JZ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function tK(n,t){if(n==null)return{};var e,i,r=eK(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function eK(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var FB={symbolCircle:HC,symbolCross:SZ,symbolDiamond:EZ,symbolSquare:TZ,symbolStar:RZ,symbolTriangle:OZ,symbolWye:DZ},nK=Math.PI/180,iK=n=>{var t="symbol".concat(v0(n));return FB[t]||HC},rK=(n,t,e)=>{if(t==="area")return n;switch(e){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*nK;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},aK=(n,t)=>{FB["symbol".concat(v0(n))]=t},kC=n=>{var{type:t="circle",size:e=64,sizeType:i="area"}=n,r=tK(n,KZ),a=GD(GD({},r),{},{type:t,size:e,sizeType:i}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var _=iK(o),b=LZ().type(_).size(rK(e,i,o));return b()},{className:h,cx:d,cy:g}=a,v=fr(a,!0);return d===+d&&g===+g&&e===+e?H.createElement("path",Kw({},v,{className:oi("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(g,")"),d:l()})):null};kC.registerSymbol=aK;function Qw(){return Qw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qw.apply(null,arguments)}function qD(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function sK(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(e),!0).forEach(function(i){jC(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):qD(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function jC(n,t,e){return(t=oK(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oK(n){var t=lK(n,"string");return typeof t=="symbol"?t:t+""}function lK(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Sl=32;class VC extends H.PureComponent{renderIcon(t,e){var{inactiveColor:i}=this.props,r=Sl/2,a=Sl/6,o=Sl/3,l=t.inactive?i:t.color,h=e??t.type;if(h==="none")return null;if(h==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:r,x2:Sl,y2:r,className:"recharts-legend-icon"});if(h==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(r,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(r,`
            H`).concat(Sl,"M").concat(2*o,",").concat(r,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if(h==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Sl/8,"h").concat(Sl,"v").concat(Sl*3/4,"h").concat(-Sl,"z"),className:"recharts-legend-icon"});if(H.isValidElement(t.legendIcon)){var d=sK({},t);return delete d.legendIcon,H.cloneElement(t.legendIcon,d)}return H.createElement(kC,{fill:l,cx:r,cy:r,size:Sl,sizeType:"diameter",type:h})}renderItems(){var{payload:t,iconSize:e,layout:i,formatter:r,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:Sl,height:Sl},h={display:i==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,v)=>{var _=g.formatter||r,b=oi({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:g.inactive});if(g.type==="none")return null;var M=g.inactive?a:g.color,A=_?_(g.value,g,v):g.value;return H.createElement("li",Qw({className:b,style:h,key:"legend-item-".concat(v)},zC(this.props,g,v)),H.createElement(IC,{width:e,height:e,viewBox:l,style:d,"aria-label":"".concat(A," legend icon")},this.renderIcon(g,o)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},A))})}render(){var{payload:t,layout:e,align:i}=this.props;if(!t||!t.length)return null;var r={padding:0,margin:0,textAlign:e==="horizontal"?i:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}jC(VC,"displayName","Legend");jC(VC,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var nT={},iT={},WD;function uK(){return WD||(WD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){const r=new Map;for(let a=0;a<e.length;a++){const o=e[a],l=i(o);r.has(l)||r.set(l,o)}return Array.from(r.values())}n.uniqBy=t})(iT)),iT}var rT={},XD;function HB(){return XD||(XD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e}n.identity=t})(rT)),rT}var aT={},sT={},oT={},YD;function cK(){return YD||(YD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Number.isSafeInteger(e)&&e>=0}n.isLength=t})(oT)),oT}var ZD;function GC(){return ZD||(ZD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=cK();function e(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}n.isArrayLike=e})(sT)),sT}var lT={},KD;function fK(){return KD||(KD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="object"&&e!==null}n.isObjectLike=t})(lT)),lT}var QD;function hK(){return QD||(QD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=GC(),e=fK();function i(r){return e.isObjectLike(r)&&t.isArrayLike(r)}n.isArrayLikeObject=i})(aT)),aT}var uT={},cT={},$D;function dK(){return $D||($D=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=LC();function e(i){return function(r){return t.get(r,i)}}n.property=e})(cT)),cT}var fT={},hT={},dT={},pT={},JD;function kB(){return JD||(JD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e!==null&&(typeof e=="object"||typeof e=="function")}n.isObject=t})(pT)),pT}var mT={},t3;function jB(){return t3||(t3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null||typeof e!="object"&&typeof e!="function"}n.isPrimitive=t})(mT)),mT}var gT={},e3;function VB(){return e3||(e3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){return e===i||Number.isNaN(e)&&Number.isNaN(i)}n.eq=t})(gT)),gT}var n3;function pK(){return n3||(n3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=qC(),e=kB(),i=jB(),r=VB();function a(v,_,b){return typeof b!="function"?t.isMatch(v,_):o(v,_,function M(A,T,E,O,P,z){const F=b(A,T,E,O,P,z);return F!==void 0?!!F:o(A,T,M,z)},new Map)}function o(v,_,b,M){if(_===v)return!0;switch(typeof _){case"object":return l(v,_,b,M);case"function":return Object.keys(_).length>0?o(v,{..._},b,M):r.eq(v,_);default:return e.isObject(v)?typeof _=="string"?_==="":!0:r.eq(v,_)}}function l(v,_,b,M){if(_==null)return!0;if(Array.isArray(_))return d(v,_,b,M);if(_ instanceof Map)return h(v,_,b,M);if(_ instanceof Set)return g(v,_,b,M);const A=Object.keys(_);if(v==null)return A.length===0;if(A.length===0)return!0;if(M&&M.has(_))return M.get(_)===v;M&&M.set(_,v);try{for(let T=0;T<A.length;T++){const E=A[T];if(!i.isPrimitive(v)&&!(E in v)||_[E]===void 0&&v[E]!==void 0||_[E]===null&&v[E]!==null||!b(v[E],_[E],E,v,_,M))return!1}return!0}finally{M&&M.delete(_)}}function h(v,_,b,M){if(_.size===0)return!0;if(!(v instanceof Map))return!1;for(const[A,T]of _.entries()){const E=v.get(A);if(b(E,T,A,v,_,M)===!1)return!1}return!0}function d(v,_,b,M){if(_.length===0)return!0;if(!Array.isArray(v))return!1;const A=new Set;for(let T=0;T<_.length;T++){const E=_[T];let O=!1;for(let P=0;P<v.length;P++){if(A.has(P))continue;const z=v[P];let F=!1;if(b(z,E,T,v,_,M)&&(F=!0),F){A.add(P),O=!0;break}}if(!O)return!1}return!0}function g(v,_,b,M){return _.size===0?!0:v instanceof Set?d([...v],[..._],b,M):!1}n.isMatchWith=a,n.isSetMatch=g})(dT)),dT}var i3;function qC(){return i3||(i3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=pK();function e(i,r){return t.isMatchWith(i,r,()=>{})}n.isMatch=e})(hT)),hT}var vT={},yT={},_T={},r3;function mK(){return r3||(r3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Object.getOwnPropertySymbols(e).filter(i=>Object.prototype.propertyIsEnumerable.call(e,i))}n.getSymbols=t})(_T)),_T}var xT={},a3;function GB(){return a3||(a3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}n.getTag=t})(xT)),xT}var bT={},s3;function qB(){return s3||(s3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",e="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",h="[object Map]",d="[object Set]",g="[object Array]",v="[object Function]",_="[object ArrayBuffer]",b="[object Object]",M="[object Error]",A="[object DataView]",T="[object Uint8Array]",E="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",z="[object BigUint64Array]",F="[object Int8Array]",I="[object Int16Array]",q="[object Int32Array]",Y="[object BigInt64Array]",G="[object Float32Array]",j="[object Float64Array]";n.argumentsTag=a,n.arrayBufferTag=_,n.arrayTag=g,n.bigInt64ArrayTag=Y,n.bigUint64ArrayTag=z,n.booleanTag=r,n.dataViewTag=A,n.dateTag=l,n.errorTag=M,n.float32ArrayTag=G,n.float64ArrayTag=j,n.functionTag=v,n.int16ArrayTag=I,n.int32ArrayTag=q,n.int8ArrayTag=F,n.mapTag=h,n.numberTag=i,n.objectTag=b,n.regexpTag=t,n.setTag=d,n.stringTag=e,n.symbolTag=o,n.uint16ArrayTag=O,n.uint32ArrayTag=P,n.uint8ArrayTag=T,n.uint8ClampedArrayTag=E})(bT)),bT}var ST={},o3;function gK(){return o3||(o3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.isTypedArray=t})(ST)),ST}var l3;function WB(){return l3||(l3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=mK(),e=GB(),i=qB(),r=jB(),a=gK();function o(g,v){return l(g,void 0,g,new Map,v)}function l(g,v,_,b=new Map,M=void 0){const A=M?.(g,v,_,b);if(A!==void 0)return A;if(r.isPrimitive(g))return g;if(b.has(g))return b.get(g);if(Array.isArray(g)){const T=new Array(g.length);b.set(g,T);for(let E=0;E<g.length;E++)T[E]=l(g[E],E,_,b,M);return Object.hasOwn(g,"index")&&(T.index=g.index),Object.hasOwn(g,"input")&&(T.input=g.input),T}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const T=new RegExp(g.source,g.flags);return T.lastIndex=g.lastIndex,T}if(g instanceof Map){const T=new Map;b.set(g,T);for(const[E,O]of g)T.set(E,l(O,E,_,b,M));return T}if(g instanceof Set){const T=new Set;b.set(g,T);for(const E of g)T.add(l(E,void 0,_,b,M));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(a.isTypedArray(g)){const T=new(Object.getPrototypeOf(g)).constructor(g.length);b.set(g,T);for(let E=0;E<g.length;E++)T[E]=l(g[E],E,_,b,M);return T}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const T=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return b.set(g,T),h(T,g,_,b,M),T}if(typeof File<"u"&&g instanceof File){const T=new File([g],g.name,{type:g.type});return b.set(g,T),h(T,g,_,b,M),T}if(g instanceof Blob){const T=new Blob([g],{type:g.type});return b.set(g,T),h(T,g,_,b,M),T}if(g instanceof Error){const T=new g.constructor;return b.set(g,T),T.message=g.message,T.name=g.name,T.stack=g.stack,T.cause=g.cause,h(T,g,_,b,M),T}if(typeof g=="object"&&d(g)){const T=Object.create(Object.getPrototypeOf(g));return b.set(g,T),h(T,g,_,b,M),T}return g}function h(g,v,_=g,b,M){const A=[...Object.keys(v),...t.getSymbols(v)];for(let T=0;T<A.length;T++){const E=A[T],O=Object.getOwnPropertyDescriptor(g,E);(O==null||O.writable)&&(g[E]=l(v[E],E,_,b,M))}}function d(g){switch(e.getTag(g)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=o,n.cloneDeepWithImpl=l,n.copyProperties=h})(yT)),yT}var u3;function vK(){return u3||(u3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=WB();function e(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=e})(vT)),vT}var c3;function yK(){return c3||(c3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=qC(),e=vK();function i(r){return r=e.cloneDeep(r),a=>t.isMatch(a,r)}n.matches=i})(fT)),fT}var MT={},ET={},TT={},f3;function _K(){return f3||(f3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=WB(),e=qB();function i(r,a){return t.cloneDeepWith(r,(o,l,h,d)=>{const g=a?.(o,l,h,d);if(g!==void 0)return g;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case e.numberTag:case e.stringTag:case e.booleanTag:{const v=new r.constructor(r?.valueOf());return t.copyProperties(v,r),v}case e.argumentsTag:{const v={};return t.copyProperties(v,r),v.length=r.length,v[Symbol.iterator]=r[Symbol.iterator],v}default:return}})}n.cloneDeepWith=i})(TT)),TT}var h3;function xK(){return h3||(h3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=_K();function e(i){return t.cloneDeepWith(i)}n.cloneDeep=e})(ET)),ET}var wT={},AT={},d3;function XB(){return d3||(d3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function e(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return t.test(i)}}n.isIndex=e})(AT)),AT}var CT={},p3;function bK(){return p3||(p3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=GB();function e(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}n.isArguments=e})(CT)),CT}var m3;function SK(){return m3||(m3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=pB(),e=XB(),i=bK(),r=DC();function a(o,l){let h;if(Array.isArray(l)?h=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?h=r.toPath(l):h=[l],h.length===0)return!1;let d=o;for(let g=0;g<h.length;g++){const v=h[g];if((d==null||!Object.hasOwn(d,v))&&!((Array.isArray(d)||i.isArguments(d))&&e.isIndex(v)&&v<d.length))return!1;d=d[v]}return!0}n.has=a})(wT)),wT}var g3;function MK(){return g3||(g3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=qC(),e=mB(),i=xK(),r=LC(),a=SK();function o(l,h){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=e.toKey(l);break}}return h=i.cloneDeep(h),function(d){const g=r.get(d,l);return g===void 0?a.has(d,l):h===void 0?g===void 0:t.isMatch(g,h)}}n.matchesProperty=o})(MT)),MT}var v3;function EK(){return v3||(v3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=HB(),e=dK(),i=yK(),r=MK();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?r.matchesProperty(o[0],o[1]):i.matches(o);case"string":case"symbol":case"number":return e.property(o)}}n.iteratee=a})(uT)),uT}var y3;function TK(){return y3||(y3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=uK(),e=HB(),i=hK(),r=EK();function a(o,l=e.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.iteratee(l)):[]}n.uniqBy=a})(nT)),nT}var RT,_3;function wK(){return _3||(_3=1,RT=TK().uniqBy),RT}var AK=wK();const x3=Ll(AK);function YB(n,t,e){return t===!0?x3(n,e):typeof t=="function"?x3(n,t):n}var WC=H.createContext(null),CK=n=>n,hr=()=>{var n=H.useContext(WC);return n?n.store.dispatch:CK},ib=()=>{},RK=()=>ib,OK=(n,t)=>n===t;function Qe(n){var t=H.useContext(WC);return EI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:RK,t?t.store.getState:ib,t?t.store.getState:ib,t?n:ib,OK)}function PK(n,t=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(t)}function DK(n,t=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(t)}function LK(n,t="expected all items to be functions, instead received the following types: "){if(!n.every(e=>typeof e=="function")){const e=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${e}]`)}}var b3=n=>Array.isArray(n)?n:[n];function NK(n){const t=Array.isArray(n[0])?n[0]:n;return LK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UK(n,t){const e=[],{length:i}=n;for(let r=0;r<i;r++)e.push(n[r].apply(null,t));return e}var zK=class{constructor(n){this.value=n}deref(){return this.value}},IK=typeof WeakRef<"u"?WeakRef:zK,BK=0,S3=1;function Ux(){return{s:BK,v:void 0,o:null,p:null}}function ZB(n,t={}){let e=Ux();const{resultEqualityCheck:i}=t;let r,a=0;function o(){let l=e;const{length:h}=arguments;for(let v=0,_=h;v<_;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let M=l.o;M===null&&(l.o=M=new WeakMap);const A=M.get(b);A===void 0?(l=Ux(),M.set(b,l)):l=A}else{let M=l.p;M===null&&(l.p=M=new Map);const A=M.get(b);A===void 0?(l=Ux(),M.set(b,l)):l=A}}const d=l;let g;if(l.s===S3)g=l.v;else if(g=n.apply(null,arguments),a++,i){const v=r?.deref?.()??r;v!=null&&i(v,g)&&(g=v,a!==0&&a--),r=typeof g=="object"&&g!==null||typeof g=="function"?new IK(g):g}return d.s=S3,d.v=g,g}return o.clearCache=()=>{e=Ux(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function FK(n,...t){const e=typeof n=="function"?{memoize:n,memoizeOptions:t}:n,i=(...r)=>{let a=0,o=0,l,h={},d=r.pop();typeof d=="object"&&(h=d,d=r.pop()),PK(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const g={...e,...h},{memoize:v,memoizeOptions:_=[],argsMemoize:b=ZB,argsMemoizeOptions:M=[]}=g,A=b3(_),T=b3(M),E=NK(r),O=v(function(){return a++,d.apply(null,arguments)},...A),P=b(function(){o++;const F=UK(E,arguments);return l=O.apply(null,F),l},...T);return Object.assign(P,{resultFunc:d,memoizedResultFunc:O,dependencies:E,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:v,argsMemoize:b})};return Object.assign(i,{withTypes:()=>i}),i}var Kt=FK(ZB),HK=Object.assign((n,t=Kt)=>{DK(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const e=Object.keys(n),i=e.map(a=>n[a]);return t(i,(...a)=>a.reduce((o,l,h)=>(o[e[h]]=l,o),{}))},{withTypes:()=>HK}),OT={},PT={},DT={},M3;function kK(){return M3||(M3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const e=(i,r,a)=>{if(i!==r){const o=t(i),l=t(r);if(o===l&&o===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};n.compareValues=e})(DT)),DT}var LT={},NT={},E3;function KB(){return E3||(E3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="symbol"||e instanceof Symbol}n.isSymbol=t})(NT)),NT}var T3;function jK(){return T3||(T3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=KB(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!e.test(a))||o!=null&&Object.hasOwn(o,a)}n.isKey=r})(LT)),LT}var w3;function VK(){return w3||(w3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=kK(),e=jK(),i=DC();function r(a,o,l,h){if(a==null)return[];l=h?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const d=(b,M)=>{let A=b;for(let T=0;T<M.length&&A!=null;++T)A=A[M[T]];return A},g=(b,M)=>M==null||b==null?M:typeof b=="object"&&"key"in b?Object.hasOwn(M,b.key)?M[b.key]:d(M,b.path):typeof b=="function"?b(M):Array.isArray(b)?d(M,b):typeof M=="object"?M[b]:M,v=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||e.isKey(b)?b:{key:b,path:i.toPath(b)}));return a.map(b=>({original:b,criteria:v.map(M=>g(M,b))})).slice().sort((b,M)=>{for(let A=0;A<v.length;A++){const T=t.compareValues(b.criteria[A],M.criteria[A],l[A]);if(T!==0)return T}return 0}).map(b=>b.original)}n.orderBy=r})(PT)),PT}var UT={},A3;function GK(){return A3||(A3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i=1){const r=[],a=Math.floor(i),o=(l,h)=>{for(let d=0;d<l.length;d++){const g=l[d];Array.isArray(g)&&h<a?o(g,h+1):r.push(g)}};return o(e,0),r}n.flatten=t})(UT)),UT}var zT={},C3;function QB(){return C3||(C3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=XB(),e=GC(),i=kB(),r=VB();function a(o,l,h){return i.isObject(h)&&(typeof l=="number"&&e.isArrayLike(h)&&t.isIndex(l)&&l<h.length||typeof l=="string"&&l in h)?r.eq(h[l],o):!1}n.isIterateeCall=a})(zT)),zT}var R3;function qK(){return R3||(R3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=VK(),e=GK(),i=QB();function r(a,...o){const l=o.length;return l>1&&i.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&i.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,e.flatten(o),["asc"])}n.sortBy=r})(OT)),OT}var IT,O3;function WK(){return O3||(O3=1,IT=qK().sortBy),IT}var XK=WK();const yS=Ll(XK);var $B=n=>n.legend.settings,YK=n=>n.legend.size,ZK=n=>n.legend.payload,KK=Kt([ZK,$B],(n,t)=>{var{itemSorter:e}=t,i=n.flat(1);return e?yS(i,e):i});function QK(){return Qe(KK)}var zx=1;function JB(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,e]=H.useState({height:0,left:0,top:0,width:0}),i=H.useCallback(r=>{if(r!=null){var a=r.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>zx||Math.abs(o.left-t.left)>zx||Math.abs(o.top-t.top)>zx||Math.abs(o.width-t.width)>zx)&&e({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...n]);return[t,i]}function Na(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $K=typeof Symbol=="function"&&Symbol.observable||"@@observable",P3=$K,BT=()=>Math.random().toString(36).substring(7).split("").join("."),JK={INIT:`@@redux/INIT${BT()}`,REPLACE:`@@redux/REPLACE${BT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${BT()}`},r1=JK;function XC(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function t4(n,t,e){if(typeof n!="function")throw new Error(Na(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Na(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Na(1));return e(t4)(n,t)}let i=n,r=t,a=new Map,o=a,l=0,h=!1;function d(){o===a&&(o=new Map,a.forEach((T,E)=>{o.set(E,T)}))}function g(){if(h)throw new Error(Na(3));return r}function v(T){if(typeof T!="function")throw new Error(Na(4));if(h)throw new Error(Na(5));let E=!0;d();const O=l++;return o.set(O,T),function(){if(E){if(h)throw new Error(Na(6));E=!1,d(),o.delete(O),a=null}}}function _(T){if(!XC(T))throw new Error(Na(7));if(typeof T.type>"u")throw new Error(Na(8));if(typeof T.type!="string")throw new Error(Na(17));if(h)throw new Error(Na(9));try{h=!0,r=i(r,T)}finally{h=!1}return(a=o).forEach(O=>{O()}),T}function b(T){if(typeof T!="function")throw new Error(Na(10));i=T,_({type:r1.REPLACE})}function M(){const T=v;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Na(11));function O(){const z=E;z.next&&z.next(g())}return O(),{unsubscribe:T(O)}},[P3](){return this}}}return _({type:r1.INIT}),{dispatch:_,subscribe:v,getState:g,replaceReducer:b,[P3]:M}}function tQ(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:r1.INIT})>"u")throw new Error(Na(12));if(typeof e(void 0,{type:r1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Na(13))})}function e4(n){const t=Object.keys(n),e={};for(let a=0;a<t.length;a++){const o=t[a];typeof n[o]=="function"&&(e[o]=n[o])}const i=Object.keys(e);let r;try{tQ(e)}catch(a){r=a}return function(o={},l){if(r)throw r;let h=!1;const d={};for(let g=0;g<i.length;g++){const v=i[g],_=e[v],b=o[v],M=_(b,l);if(typeof M>"u")throw l&&l.type,new Error(Na(14));d[v]=M,h=h||M!==b}return h=h||i.length!==Object.keys(o).length,h?d:o}}function a1(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function eQ(...n){return t=>(e,i)=>{const r=t(e,i);let a=()=>{throw new Error(Na(15))};const o={getState:r.getState,dispatch:(h,...d)=>a(h,...d)},l=n.map(h=>h(o));return a=a1(...l)(r.dispatch),{...r,dispatch:a}}}function n4(n){return XC(n)&&"type"in n&&typeof n.type=="string"}var i4=Symbol.for("immer-nothing"),D3=Symbol.for("immer-draftable"),jo=Symbol.for("immer-state");function yu(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Mg=Object.getPrototypeOf;function wp(n){return!!n&&!!n[jo]}function Af(n){return n?r4(n)||Array.isArray(n)||!!n[D3]||!!n.constructor?.[D3]||y0(n)||xS(n):!1}var nQ=Object.prototype.constructor.toString();function r4(n){if(!n||typeof n!="object")return!1;const t=Mg(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===nQ}function s1(n,t){_S(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,i)=>t(i,e,n))}function _S(n){const t=n[jo];return t?t.type_:Array.isArray(n)?1:y0(n)?2:xS(n)?3:0}function $w(n,t){return _S(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function a4(n,t,e){const i=_S(n);i===2?n.set(t,e):i===3?n.add(e):n[t]=e}function iQ(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function y0(n){return n instanceof Map}function xS(n){return n instanceof Set}function $d(n){return n.copy_||n.base_}function Jw(n,t){if(y0(n))return new Map(n);if(xS(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=r4(n);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(n);delete i[jo];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],l=i[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:n[o]})}return Object.create(Mg(n),i)}else{const i=Mg(n);if(i!==null&&e)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function YC(n,t=!1){return bS(n)||wp(n)||!Af(n)||(_S(n)>1&&Object.defineProperties(n,{set:{value:Ix},add:{value:Ix},clear:{value:Ix},delete:{value:Ix}}),Object.freeze(n),t&&Object.values(n).forEach(e=>YC(e,!0))),n}function Ix(){yu(2)}function bS(n){return Object.isFrozen(n)}var rQ={};function Ap(n){const t=rQ[n];return t||yu(0,n),t}var qy;function s4(){return qy}function aQ(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function L3(n,t){t&&(Ap("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function tA(n){eA(n),n.drafts_.forEach(sQ),n.drafts_=null}function eA(n){n===qy&&(qy=n.parent_)}function N3(n){return qy=aQ(qy,n)}function sQ(n){const t=n[jo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function U3(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[jo].modified_&&(tA(t),yu(4)),Af(n)&&(n=o1(t,n),t.parent_||l1(t,n)),t.patches_&&Ap("Patches").generateReplacementPatches_(e[jo].base_,n,t.patches_,t.inversePatches_)):n=o1(t,e,[]),tA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==i4?n:void 0}function o1(n,t,e){if(bS(t))return t;const i=t[jo];if(!i)return s1(t,(r,a)=>z3(n,i,t,r,a,e)),t;if(i.scope_!==n)return t;if(!i.modified_)return l1(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let a=r,o=!1;i.type_===3&&(a=new Set(r),r.clear(),o=!0),s1(a,(l,h)=>z3(n,i,r,l,h,e,o)),l1(n,r,!1),e&&n.patches_&&Ap("Patches").generatePatches_(i,e,n.patches_,n.inversePatches_)}return i.copy_}function z3(n,t,e,i,r,a,o){if(wp(r)){const l=a&&t&&t.type_!==3&&!$w(t.assigned_,i)?a.concat(i):void 0,h=o1(n,r,l);if(a4(e,i,h),wp(h))n.canAutoFreeze_=!1;else return}else o&&e.add(r);if(Af(r)&&!bS(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;o1(n,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(y0(e)?e.has(i):Object.prototype.propertyIsEnumerable.call(e,i))&&l1(n,r)}}function l1(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&YC(t,e)}function oQ(n,t){const e=Array.isArray(n),i={type_:e?1:0,scope_:t?t.scope_:s4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=ZC;e&&(r=[i],a=Wy);const{revoke:o,proxy:l}=Proxy.revocable(r,a);return i.draft_=l,i.revoke_=o,l}var ZC={get(n,t){if(t===jo)return n;const e=$d(n);if(!$w(e,t))return lQ(n,e,t);const i=e[t];return n.finalized_||!Af(i)?i:i===FT(n.base_,t)?(HT(n),n.copy_[t]=iA(i,n)):i},has(n,t){return t in $d(n)},ownKeys(n){return Reflect.ownKeys($d(n))},set(n,t,e){const i=o4($d(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=FT($d(n),t),a=r?.[jo];if(a&&a.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(iQ(e,r)&&(e!==void 0||$w(n.base_,t)))return!0;HT(n),nA(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return FT(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,HT(n),nA(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=$d(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){yu(11)},getPrototypeOf(n){return Mg(n.base_)},setPrototypeOf(){yu(12)}},Wy={};s1(ZC,(n,t)=>{Wy[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wy.deleteProperty=function(n,t){return Wy.set.call(this,n,t,void 0)};Wy.set=function(n,t,e){return ZC.set.call(this,n[0],t,e,n[0])};function FT(n,t){const e=n[jo];return(e?$d(e):n)[t]}function lQ(n,t,e){const i=o4(t,e);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function o4(n,t){if(!(t in n))return;let e=Mg(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=Mg(e)}}function nA(n){n.modified_||(n.modified_=!0,n.parent_&&nA(n.parent_))}function HT(n){n.copy_||(n.copy_=Jw(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var uQ=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const a=e;e=t;const o=this;return function(h=a,...d){return o.produce(h,g=>e.call(this,g,...d))}}typeof e!="function"&&yu(6),i!==void 0&&typeof i!="function"&&yu(7);let r;if(Af(t)){const a=N3(this),o=iA(t,void 0);let l=!0;try{r=e(o),l=!1}finally{l?tA(a):eA(a)}return L3(a,i),U3(r,a)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===i4&&(r=void 0),this.autoFreeze_&&YC(r,!0),i){const a=[],o=[];Ap("Patches").generateReplacementPatches_(t,r,a,o),i(a,o)}return r}else yu(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,h=>t(h,...l));let i,r;return[this.produce(t,e,(o,l)=>{i=o,r=l}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Af(n)||yu(8),wp(n)&&(n=xf(n));const t=N3(this),e=iA(n,void 0);return e[jo].isManual_=!0,eA(t),e}finishDraft(n,t){const e=n&&n[jo];(!e||!e.isManual_)&&yu(9);const{scope_:i}=e;return L3(i,t),U3(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}e>-1&&(t=t.slice(e+1));const i=Ap("Patches").applyPatches_;return wp(n)?i(n,t):this.produce(n,r=>i(r,t))}};function iA(n,t){const e=y0(n)?Ap("MapSet").proxyMap_(n,t):xS(n)?Ap("MapSet").proxySet_(n,t):oQ(n,t);return(t?t.scope_:s4()).drafts_.push(e),e}function xf(n){return wp(n)||yu(10,n),l4(n)}function l4(n){if(!Af(n)||bS(n))return n;const t=n[jo];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Jw(n,t.scope_.immer_.useStrictShallowCopy_)}else e=Jw(n,!0);return s1(e,(i,r)=>{a4(e,i,l4(r))}),t&&(t.finalized_=!1),e}var cQ=new uQ,u4=cQ.produce;function c4(n){return({dispatch:e,getState:i})=>r=>a=>typeof a=="function"?a(e,i,n):r(a)}var fQ=c4(),hQ=c4,dQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?a1:a1.apply(null,arguments)};function Pl(n,t){function e(...i){if(t){let r=t(...i);if(!r)throw new Error(Bo(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>n4(i)&&i.type===n,e}var f4=class oy extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oy.prototype)}static get[Symbol.species](){return oy}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oy(...t[0].concat(this)):new oy(...t.concat(this))}};function I3(n){return Af(n)?u4(n,()=>{}):n}function Bx(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function pQ(n){return typeof n=="boolean"}var mQ=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=t??{};let o=new f4;return e&&(pQ(e)?o.push(fQ):o.push(hQ(e.extraArgument))),o},gQ="RTK_autoBatch",B3=n=>t=>{setTimeout(t,n)},vQ=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let r=!0,a=!1,o=!1;const l=new Set,h=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:B3(10):n.type==="callback"?n.queueNotification:B3(n.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const v=()=>r&&g(),_=i.subscribe(v);return l.add(g),()=>{_(),l.delete(g)}},dispatch(g){try{return r=!g?.meta?.[gQ],a=!r,a&&(o||(o=!0,h(d))),i.dispatch(g)}finally{r=!0}}})},yQ=n=>function(e){const{autoBatch:i=!0}=e??{};let r=new f4(n);return i&&r.push(vQ(typeof i=="object"?i:void 0)),r};function _Q(n){const t=mQ(),{reducer:e=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:o=void 0}=n||{};let l;if(typeof e=="function")l=e;else if(XC(e))l=e4(e);else throw new Error(Bo(1));let h;typeof i=="function"?h=i(t):h=t();let d=a1;r&&(d=dQ({trace:!1,...typeof r=="object"&&r}));const g=eQ(...h),v=yQ(g);let _=typeof o=="function"?o(v):v();const b=d(..._);return t4(l,a,b)}function h4(n){const t={},e=[];let i;const r={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Bo(28));if(l in t)throw new Error(Bo(29));return t[l]=o,r},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&e.push({matcher:a.settled,reducer:o.settled}),r},addMatcher(a,o){return e.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return n(r),[t,e,i]}function xQ(n){return typeof n=="function"}function bQ(n,t){let[e,i,r]=h4(t),a;if(xQ(n))a=()=>I3(n());else{const l=I3(n);a=()=>l}function o(l=a(),h){let d=[e[h.type],...i.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return d.filter(g=>!!g).length===0&&(d=[r]),d.reduce((g,v)=>{if(v)if(wp(g)){const b=v(g,h);return b===void 0?g:b}else{if(Af(g))return u4(g,_=>v(_,h));{const _=v(g,h);if(_===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return g},l)}return o.getInitialState=a,o}var SQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MQ=(n=21)=>{let t="",e=n;for(;e--;)t+=SQ[Math.random()*64|0];return t},EQ=Symbol.for("rtk-slice-createasyncthunk");function TQ(n,t){return`${n}/${t}`}function wQ({creators:n}={}){const t=n?.asyncThunk?.[EQ];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(Bo(11));const o=(typeof i.reducers=="function"?i.reducers(CQ()):i.reducers)||{},l=Object.keys(o),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,z){const F=typeof P=="string"?P:P.type;if(!F)throw new Error(Bo(12));if(F in h.sliceCaseReducersByType)throw new Error(Bo(13));return h.sliceCaseReducersByType[F]=z,d},addMatcher(P,z){return h.sliceMatchers.push({matcher:P,reducer:z}),d},exposeAction(P,z){return h.actionCreators[P]=z,d},exposeCaseReducer(P,z){return h.sliceCaseReducersByName[P]=z,d}};l.forEach(P=>{const z=o[P],F={reducerName:P,type:TQ(r,P),createNotation:typeof i.reducers=="function"};OQ(z)?DQ(F,z,d,t):RQ(F,z,d)});function g(){const[P={},z=[],F=void 0]=typeof i.extraReducers=="function"?h4(i.extraReducers):[i.extraReducers],I={...P,...h.sliceCaseReducersByType};return bQ(i.initialState,q=>{for(let Y in I)q.addCase(Y,I[Y]);for(let Y of h.sliceMatchers)q.addMatcher(Y.matcher,Y.reducer);for(let Y of z)q.addMatcher(Y.matcher,Y.reducer);F&&q.addDefaultCase(F)})}const v=P=>P,_=new Map,b=new WeakMap;let M;function A(P,z){return M||(M=g()),M(P,z)}function T(){return M||(M=g()),M.getInitialState()}function E(P,z=!1){function F(q){let Y=q[P];return typeof Y>"u"&&z&&(Y=Bx(b,F,T)),Y}function I(q=v){const Y=Bx(_,z,()=>new WeakMap);return Bx(Y,q,()=>{const G={};for(const[j,K]of Object.entries(i.selectors??{}))G[j]=AQ(K,q,()=>Bx(b,q,T),z);return G})}return{reducerPath:P,getSelectors:I,get selectors(){return I(F)},selectSlice:F}}const O={name:r,reducer:A,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:T,...E(a),injectInto(P,{reducerPath:z,...F}={}){const I=z??a;return P.inject({reducerPath:I,reducer:A},F),{...O,...E(I,!0)}}};return O}}function AQ(n,t,e,i){function r(a,...o){let l=t(a);return typeof l>"u"&&i&&(l=e()),n(l,...o)}return r.unwrapped=n,r}var Vo=wQ();function CQ(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function RQ({type:n,reducerName:t,createNotation:e},i,r){let a,o;if("reducer"in i){if(e&&!PQ(i))throw new Error(Bo(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(t,a).exposeAction(t,o?Pl(n,o):Pl(n))}function OQ(n){return n._reducerDefinitionType==="asyncThunk"}function PQ(n){return n._reducerDefinitionType==="reducerWithPrepare"}function DQ({type:n,reducerName:t},e,i,r){if(!r)throw new Error(Bo(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:h,settled:d,options:g}=e,v=r(n,a,g);i.exposeAction(t,v),o&&i.addCase(v.fulfilled,o),l&&i.addCase(v.pending,l),h&&i.addCase(v.rejected,h),d&&i.addMatcher(v.settled,d),i.exposeCaseReducer(t,{fulfilled:o||Fx,pending:l||Fx,rejected:h||Fx,settled:d||Fx})}function Fx(){}var LQ="task",d4="listener",p4="completed",KC="cancelled",NQ=`task-${KC}`,UQ=`task-${p4}`,rA=`${d4}-${KC}`,zQ=`${d4}-${p4}`,SS=class{constructor(n){this.code=n,this.message=`${LQ} ${KC} (reason: ${n})`}name="TaskAbortError";message},QC=(n,t)=>{if(typeof n!="function")throw new TypeError(Bo(32))},u1=()=>{},m4=(n,t=u1)=>(n.catch(t),n),g4=(n,t)=>(n.addEventListener("abort",t,{once:!0}),()=>n.removeEventListener("abort",t)),dp=(n,t)=>{const e=n.signal;e.aborted||("reason"in e||Object.defineProperty(e,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),n.abort(t))},pp=n=>{if(n.aborted){const{reason:t}=n;throw new SS(t)}};function v4(n,t){let e=u1;return new Promise((i,r)=>{const a=()=>r(new SS(n.reason));if(n.aborted){a();return}e=g4(n,a),t.finally(()=>e()).then(i,r)}).finally(()=>{e=u1})}var IQ=async(n,t)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(e){return{status:e instanceof SS?"cancelled":"rejected",error:e}}finally{t?.()}},c1=n=>t=>m4(v4(n,t).then(e=>(pp(n),e))),y4=n=>{const t=c1(n);return e=>t(new Promise(i=>setTimeout(i,e)))},{assign:ug}=Object,F3={},MS="listenerMiddleware",BQ=(n,t)=>{const e=i=>g4(n,()=>dp(i,n.reason));return(i,r)=>{QC(i);const a=new AbortController;e(a);const o=IQ(async()=>{pp(n),pp(a.signal);const l=await i({pause:c1(a.signal),delay:y4(a.signal),signal:a.signal});return pp(a.signal),l},()=>dp(a,UQ));return r?.autoJoin&&t.push(o.catch(u1)),{result:c1(n)(o),cancel(){dp(a,NQ)}}}},FQ=(n,t)=>{const e=async(i,r)=>{pp(t);let a=()=>{};const l=[new Promise((h,d)=>{let g=n({predicate:i,effect:(v,_)=>{_.unsubscribe(),h([v,_.getState(),_.getOriginalState()])}});a=()=>{g(),d()}})];r!=null&&l.push(new Promise(h=>setTimeout(h,r,null)));try{const h=await v4(t,Promise.race(l));return pp(t),h}finally{a()}};return(i,r)=>m4(e(i,r))},_4=n=>{let{type:t,actionCreator:e,matcher:i,predicate:r,effect:a}=n;if(t)r=Pl(t).match;else if(e)t=e.type,r=e.match;else if(i)r=i;else if(!r)throw new Error(Bo(21));return QC(a),{predicate:r,type:t,effect:a}},x4=ug(n=>{const{type:t,predicate:e,effect:i}=_4(n);return{id:MQ(),effect:i,type:t,predicate:e,pending:new Set,unsubscribe:()=>{throw new Error(Bo(22))}}},{withTypes:()=>x4}),H3=(n,t)=>{const{type:e,effect:i,predicate:r}=_4(t);return Array.from(n.values()).find(a=>(typeof e=="string"?a.type===e:a.predicate===r)&&a.effect===i)},aA=n=>{n.pending.forEach(t=>{dp(t,rA)})},HQ=n=>()=>{n.forEach(aA),n.clear()},k3=(n,t,e)=>{try{n(t,e)}catch(i){setTimeout(()=>{throw i},0)}},b4=ug(Pl(`${MS}/add`),{withTypes:()=>b4}),kQ=Pl(`${MS}/removeAll`),S4=ug(Pl(`${MS}/remove`),{withTypes:()=>S4}),jQ=(...n)=>{console.error(`${MS}/error`,...n)},_0=(n={})=>{const t=new Map,{extra:e,onError:i=jQ}=n;QC(i);const r=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),v=>{g.unsubscribe(),v?.cancelActive&&aA(g)}),a=g=>{const v=H3(t,g)??x4(g);return r(v)};ug(a,{withTypes:()=>a});const o=g=>{const v=H3(t,g);return v&&(v.unsubscribe(),g.cancelActive&&aA(v)),!!v};ug(o,{withTypes:()=>o});const l=async(g,v,_,b)=>{const M=new AbortController,A=FQ(a,M.signal),T=[];try{g.pending.add(M),await Promise.resolve(g.effect(v,ug({},_,{getOriginalState:b,condition:(E,O)=>A(E,O).then(Boolean),take:A,delay:y4(M.signal),pause:c1(M.signal),extra:e,signal:M.signal,fork:BQ(M.signal,T),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((E,O,P)=>{E!==M&&(dp(E,rA),P.delete(E))})},cancel:()=>{dp(M,rA),g.pending.delete(M)},throwIfCancelled:()=>{pp(M.signal)}})))}catch(E){E instanceof SS||k3(i,E,{raisedBy:"effect"})}finally{await Promise.all(T),dp(M,zQ),g.pending.delete(M)}},h=HQ(t);return{middleware:g=>v=>_=>{if(!n4(_))return v(_);if(b4.match(_))return a(_.payload);if(kQ.match(_)){h();return}if(S4.match(_))return o(_.payload);let b=g.getState();const M=()=>{if(b===F3)throw new Error(Bo(23));return b};let A;try{if(A=v(_),t.size>0){const T=g.getState(),E=Array.from(t.values());for(const O of E){let P=!1;try{P=O.predicate(_,T,b)}catch(z){P=!1,k3(i,z,{raisedBy:"predicate"})}P&&l(O,_,g,M)}}}finally{b=F3}return A},startListening:a,stopListening:o,clearListeners:h}};function Bo(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var VQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},M4=Vo({name:"chartLayout",initialState:VQ,reducers:{setLayout(n,t){n.layoutType=t.payload},setChartSize(n,t){n.width=t.payload.width,n.height=t.payload.height},setMargin(n,t){var e,i,r,a;n.margin.top=(e=t.payload.top)!==null&&e!==void 0?e:0,n.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=t.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(n,t){n.scale=t.payload}}}),{setMargin:GQ,setLayout:qQ,setChartSize:WQ,setScale:XQ}=M4.actions,YQ=M4.reducer;function j3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function V3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(e),!0).forEach(function(i){ZQ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):j3(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function ZQ(n,t,e){return(t=KQ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function KQ(n){var t=QQ(n,"string");return typeof t=="symbol"?t:t+""}function QQ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var f1=Math.PI/180,$Q=n=>n*180/Math.PI,kr=(n,t,e,i)=>({x:n+Math.cos(-f1*i)*e,y:t+Math.sin(-f1*i)*e}),E4=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(e-(i.top||0)-(i.bottom||0)))/2},JQ=(n,t)=>{var{x:e,y:i}=n,{x:r,y:a}=t;return Math.sqrt((e-r)**2+(i-a)**2)},t$=(n,t)=>{var{x:e,y:i}=n,{cx:r,cy:a}=t,o=JQ({x:e,y:i},{x:r,y:a});if(o<=0)return{radius:o,angle:0};var l=(e-r)/o,h=Math.acos(l);return i>a&&(h=2*Math.PI-h),{radius:o,angle:$Q(h),angleInRadian:h}},e$=n=>{var{startAngle:t,endAngle:e}=n,i=Math.floor(t/360),r=Math.floor(e/360),a=Math.min(i,r);return{startAngle:t-a*360,endAngle:e-a*360}},n$=(n,t)=>{var{startAngle:e,endAngle:i}=t,r=Math.floor(e/360),a=Math.floor(i/360),o=Math.min(r,a);return n+o*360},i$=(n,t)=>{var{x:e,y:i}=n,{radius:r,angle:a}=t$({x:e,y:i},t),{innerRadius:o,outerRadius:l}=t;if(r<o||r>l||r===0)return null;var{startAngle:h,endAngle:d}=e$(t),g=a,v;if(h<=d){for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}else{for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}return v?V3(V3({},t),{},{radius:r,angle:n$(g,t)}):null};function T4(n,t,e){return Array.isArray(n)&&n&&t+e!==0?n.slice(t,e+1):n}function G3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function El(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(e),!0).forEach(function(i){r$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):G3(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function r$(n,t,e){return(t=a$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a$(n){var t=s$(n,"string");return typeof t=="symbol"?t:t+""}function s$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ki(n,t,e){return Yr(n)||Yr(t)?e:_c(t)?Tp(n,t,e):typeof t=="function"?t(n):e}var o$=(n,t,e,i,r)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var h=0;h<l;h++){var d=h>0?e[h-1].coordinate:e[l-1].coordinate,g=e[h].coordinate,v=h>=l-1?e[0].coordinate:e[h+1].coordinate,_=void 0;if(rs(g-d)!==rs(v-g)){var b=[];if(rs(v-g)===rs(r[1]-r[0])){_=v;var M=g+r[1]-r[0];b[0]=Math.min(M,(M+d)/2),b[1]=Math.max(M,(M+d)/2)}else{_=d;var A=v+r[1]-r[0];b[0]=Math.min(g,(A+g)/2),b[1]=Math.max(g,(A+g)/2)}var T=[Math.min(g,(_+g)/2),Math.max(g,(_+g)/2)];if(n>T[0]&&n<=T[1]||n>=b[0]&&n<=b[1]){({index:o}=e[h]);break}}else{var E=Math.min(d,v),O=Math.max(d,v);if(n>(E+g)/2&&n<=(O+g)/2){({index:o}=e[h]);break}}}else if(t){for(var P=0;P<l;P++)if(P===0&&n<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<l-1&&n>(t[P].coordinate+t[P-1].coordinate)/2&&n<=(t[P].coordinate+t[P+1].coordinate)/2||P===l-1&&n>(t[P].coordinate+t[P-1].coordinate)/2){({index:o}=t[P]);break}}return o},l$=(n,t,e)=>{if(t&&e){var{width:i,height:r}=e,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&un(n[a]))return El(El({},n),{},{[a]:n[a]+(i||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&un(n[o]))return El(El({},n),{},{[o]:n[o]+(r||0)})}return n},Wh=(n,t)=>n==="horizontal"&&t==="xAxis"||n==="vertical"&&t==="yAxis"||n==="centric"&&t==="angleAxis"||n==="radial"&&t==="radiusAxis",w4=(n,t,e,i)=>{if(i)return n.map(l=>l.coordinate);var r,a,o=n.map(l=>(l.coordinate===t&&(r=!0),l.coordinate===e&&(a=!0),l.coordinate));return r||o.push(t),a||o.push(e),o},A4=(n,t,e)=>{if(!n)return null;var{duplicateDomain:i,type:r,range:a,scale:o,realScaleType:l,isCategorical:h,categoricalDomain:d,tickCount:g,ticks:v,niceTicks:_,axisType:b}=n;if(!o)return null;var M=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,A=r==="category"&&o.bandwidth?o.bandwidth()/M:0;if(A=b==="angleAxis"&&a&&a.length>=2?rs(a[0]-a[1])*2*A:A,v||_){var T=(v||_||[]).map((E,O)=>{var P=i?i.indexOf(E):E;return{coordinate:o(P)+A,value:E,offset:A,index:O}});return T.filter(E=>!Ol(E.coordinate))}return h&&d?d.map((E,O)=>({coordinate:o(E)+A,value:E,index:O,offset:A})):o.ticks&&g!=null?o.ticks(g).map((E,O)=>({coordinate:o(E)+A,value:E,offset:A,index:O})):o.domain().map((E,O)=>({coordinate:o(E)+A,value:i?i[E]:E,index:O,offset:A}))},q3=1e-4,u$=n=>{var t=n.domain();if(!(!t||t.length<=2)){var e=t.length,i=n.range(),r=Math.min(i[0],i[1])-q3,a=Math.max(i[0],i[1])+q3,o=n(t[0]),l=n(t[e-1]);(o<r||o>a||l<r||l>a)&&n.domain([t[0],t[e-1]])}},c$=n=>{var t=n.length;if(!(t<=0))for(var e=0,i=n[0].length;e<i;++e)for(var r=0,a=0,o=0;o<t;++o){var l=Ol(n[o][e][1])?n[o][e][0]:n[o][e][1];l>=0?(n[o][e][0]=r,n[o][e][1]=r+l,r=n[o][e][1]):(n[o][e][0]=a,n[o][e][1]=a+l,a=n[o][e][1])}},f$=n=>{var t=n.length;if(!(t<=0))for(var e=0,i=n[0].length;e<i;++e)for(var r=0,a=0;a<t;++a){var o=Ol(n[a][e][1])?n[a][e][0]:n[a][e][1];o>=0?(n[a][e][0]=r,n[a][e][1]=r+o,r=n[a][e][1]):(n[a][e][0]=0,n[a][e][1]=0)}},h$={sign:c$,expand:XZ,none:Sg,silhouette:YZ,wiggle:ZZ,positive:f$},d$=(n,t,e)=>{var i=h$[e],r=WZ().keys(t).value((a,o)=>+Ki(a,o,0)).order(Zw).offset(i);return r(n)};function W3(n){var{axis:t,ticks:e,bandSize:i,entry:r,index:a,dataKey:o}=n;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Yr(r[t.dataKey])){var l=vB(e,"value",r[t.dataKey]);if(l)return l.coordinate+i/2}return e[a]?e[a].coordinate+i/2:null}var h=Ki(r,Yr(o)?t.dataKey:o);return Yr(h)?null:t.scale(h)}var p$=n=>{var t=n.flat(2).filter(un);return[Math.min(...t),Math.max(...t)]},m$=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],g$=(n,t,e)=>{if(n!=null)return m$(Object.keys(n).reduce((i,r)=>{var a=n[r],{stackedData:o}=a,l=o.reduce((h,d)=>{var g=T4(d,t,e),v=p$(g);return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]))},X3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sA=(n,t,e)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!e||i>0)return i}if(n&&t&&t.length>=2){for(var r=yS(t,g=>g.coordinate),a=1/0,o=1,l=r.length;o<l;o++){var h=r[o],d=r[o-1];a=Math.min((h.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return e?void 0:0};function Z3(n){var{tooltipEntrySettings:t,dataKey:e,payload:i,value:r,name:a}=n;return El(El({},t),{},{dataKey:e,payload:i,value:r,name:a})}function ES(n,t){if(n)return String(n);if(typeof t=="string")return t}function v$(n,t,e,i,r){if(e==="horizontal"||e==="vertical"){var a=n>=r.left&&n<=r.left+r.width&&t>=r.top&&t<=r.top+r.height;return a?{x:n,y:t}:null}return i?i$({x:n,y:t},i):null}var y$=(n,t,e,i)=>{var r=t.find(d=>d&&d.index===e);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.y};if(n==="vertical")return{x:i.x,y:r.coordinate};if(n==="centric"){var a=r.coordinate,{radius:o}=i;return El(El(El({},i),kr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=r.coordinate,{angle:h}=i;return El(El(El({},i),kr(i.cx,i.cy,l,h)),{},{angle:h,radius:l})}return{x:0,y:0}},_$=(n,t)=>t==="horizontal"?n.x:t==="vertical"?n.y:t==="centric"?n.angle:n.radius,Pf=n=>n.layout.width,Df=n=>n.layout.height,x$=n=>n.layout.scale,C4=n=>n.layout.margin,TS=Kt(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),wS=Kt(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),R4="data-recharts-item-index",O4="data-recharts-item-data-key",x0=60;function K3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Hx(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(e),!0).forEach(function(i){b$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):K3(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function b$(n,t,e){return(t=S$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function S$(n){var t=M$(n,"string");return typeof t=="symbol"?t:t+""}function M$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var E$=n=>n.brush.height;function T$(n){var t=wS(n);return t.reduce((e,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:x0;return e+r}return e},0)}function w$(n){var t=wS(n);return t.reduce((e,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:x0;return e+r}return e},0)}function A$(n){var t=TS(n);return t.reduce((e,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?e+i.height:e,0)}function C$(n){var t=TS(n);return t.reduce((e,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?e+i.height:e,0)}var ya=Kt([Pf,Df,C4,E$,T$,w$,A$,C$,$B,YK],(n,t,e,i,r,a,o,l,h,d)=>{var g={left:(e.left||0)+r,right:(e.right||0)+a},v={top:(e.top||0)+o,bottom:(e.bottom||0)+l},_=Hx(Hx({},v),g),b=_.bottom;_.bottom+=i,_=l$(_,h,d);var M=n-_.left-_.right,A=t-_.top-_.bottom;return Hx(Hx({brushBottom:b},_),{},{width:Math.max(M,0),height:Math.max(A,0)})}),R$=Kt(ya,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),P4=Kt(Pf,Df,(n,t)=>({x:0,y:0,width:n,height:t})),O$=H.createContext(null),Ul=()=>H.useContext(O$)!=null,AS=n=>n.brush,CS=Kt([AS,ya,C4],(n,t,e)=>({height:n.height,x:un(n.x)?n.x:t.left,y:un(n.y)?n.y:t.top+t.height+t.brushBottom-(e?.bottom||0),width:un(n.width)?n.width:t.width})),$C=()=>{var n,t=Ul(),e=Qe(R$),i=Qe(CS),r=(n=Qe(AS))===null||n===void 0?void 0:n.padding;return!t||!i||!r?e:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},P$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},D4=()=>{var n;return(n=Qe(ya))!==null&&n!==void 0?n:P$},JC=()=>Qe(Pf),t2=()=>Qe(Df),D$=()=>Qe(n=>n.layout.margin),Ai=n=>n.layout.layoutType,e2=()=>Qe(Ai),L$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},L4=Vo({name:"legend",initialState:L$,reducers:{setLegendSize(n,t){n.size.width=t.payload.width,n.size.height=t.payload.height},setLegendSettings(n,t){n.settings.align=t.payload.align,n.settings.layout=t.payload.layout,n.settings.verticalAlign=t.payload.verticalAlign,n.settings.itemSorter=t.payload.itemSorter},addLegendPayload(n,t){n.payload.push(t.payload)},removeLegendPayload(n,t){var e=xf(n).payload.indexOf(t.payload);e>-1&&n.payload.splice(e,1)}}}),{setLegendSize:Q3,setLegendSettings:N$,addLegendPayload:N4,removeLegendPayload:U4}=L4.actions,U$=L4.reducer,z$=["contextPayload"];function oA(){return oA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},oA.apply(null,arguments)}function $3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Eg(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(e),!0).forEach(function(i){n2(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$3(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function n2(n,t,e){return(t=I$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function I$(n){var t=B$(n,"string");return typeof t=="symbol"?t:t+""}function B$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function F$(n,t){if(n==null)return{};var e,i,r=H$(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function H$(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function k$(n){return n.value}function j$(n){var{contextPayload:t}=n,e=F$(n,z$),i=YB(t,n.payloadUniqBy,k$),r=Eg(Eg({},e),{},{payload:i});return H.isValidElement(n.content)?H.cloneElement(n.content,r):typeof n.content=="function"?H.createElement(n.content,r):H.createElement(VC,r)}function V$(n,t,e,i,r,a){var{layout:o,align:l,verticalAlign:h}=t,d,g;return(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))&&(l==="center"&&o==="vertical"?d={left:((i||0)-a.width)/2}:d=l==="right"?{right:e&&e.right||0}:{left:e&&e.left||0}),(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))&&(h==="middle"?g={top:((r||0)-a.height)/2}:g=h==="bottom"?{bottom:e&&e.bottom||0}:{top:e&&e.top||0}),Eg(Eg({},d),g)}function G$(n){var t=hr();return H.useEffect(()=>{t(N$(n))},[t,n]),null}function q$(n){var t=hr();return H.useEffect(()=>(t(Q3(n)),()=>{t(Q3({width:0,height:0}))}),[t,n]),null}function W$(n){var t=QK(),e=gZ(),i=D$(),{width:r,height:a,wrapperStyle:o,portal:l}=n,[h,d]=JB([t]),g=JC(),v=t2();if(g==null||v==null)return null;var _=g-(i.left||0)-(i.right||0),b=cg.getWidthOrHeight(n.layout,a,r,_),M=l?o:Eg(Eg({position:"absolute",width:b?.width||r||"auto",height:b?.height||a||"auto"},V$(o,n,i,g,v,h)),o),A=l??e;if(A==null)return null;var T=H.createElement("div",{className:"recharts-legend-wrapper",style:M,ref:d},H.createElement(G$,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),H.createElement(q$,{width:h.width,height:h.height}),H.createElement(j$,oA({},n,b,{margin:i,chartWidth:g,chartHeight:v,contextPayload:t})));return sB.createPortal(T,A)}class cg extends H.PureComponent{static getWidthOrHeight(t,e,i,r){return t==="vertical"&&un(e)?{height:e}:t==="horizontal"?{width:i||r}:null}render(){return H.createElement(W$,this.props)}}n2(cg,"displayName","Legend");n2(cg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function lA(){return lA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},lA.apply(null,arguments)}function J3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function kT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(e),!0).forEach(function(i){X$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):J3(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function X$(n,t,e){return(t=Y$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Y$(n){var t=Z$(n,"string");return typeof t=="symbol"?t:t+""}function Z$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function K$(n){return Array.isArray(n)&&_c(n[0])&&_c(n[1])?n.join(" ~ "):n}var Q$=n=>{var{separator:t=" : ",contentStyle:e={},itemStyle:i={},labelStyle:r={},payload:a,formatter:o,itemSorter:l,wrapperClassName:h,labelClassName:d,label:g,labelFormatter:v,accessibilityLayer:_=!1}=n,b=()=>{if(a&&a.length){var F={padding:0,margin:0},I=(l?yS(a,l):a).map((q,Y)=>{if(q.type==="none")return null;var G=q.formatter||o||K$,{value:j,name:K}=q,st=j,lt=K;if(G){var dt=G(j,K,q,Y,a);if(Array.isArray(dt))[st,lt]=dt;else if(dt!=null)st=dt;else return null}var vt=kT({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},i);return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:vt},_c(lt)?H.createElement("span",{className:"recharts-tooltip-item-name"},lt):null,_c(lt)?H.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,H.createElement("span",{className:"recharts-tooltip-item-value"},st),H.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:F},I)}return null},M=kT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},e),A=kT({margin:0},r),T=!Yr(g),E=T?g:"",O=oi("recharts-default-tooltip",h),P=oi("recharts-tooltip-label",d);T&&v&&a!==void 0&&a!==null&&(E=v(g,a));var z=_?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",lA({className:O,style:M},z),H.createElement("p",{className:P,style:A},H.isValidElement(E)?E:"".concat(E)),b())},Zv="recharts-tooltip-wrapper",$$={visibility:"hidden"};function J$(n){var{coordinate:t,translateX:e,translateY:i}=n;return oi(Zv,{["".concat(Zv,"-right")]:un(e)&&t&&un(t.x)&&e>=t.x,["".concat(Zv,"-left")]:un(e)&&t&&un(t.x)&&e<t.x,["".concat(Zv,"-bottom")]:un(i)&&t&&un(t.y)&&i>=t.y,["".concat(Zv,"-top")]:un(i)&&t&&un(t.y)&&i<t.y})}function tL(n){var{allowEscapeViewBox:t,coordinate:e,key:i,offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l,viewBox:h,viewBoxDimension:d}=n;if(a&&un(a[i]))return a[i];var g=e[i]-l-(r>0?r:0),v=e[i]+r;if(t[i])return o[i]?g:v;var _=h[i];if(_==null)return 0;if(o[i]){var b=g,M=_;return b<M?Math.max(v,_):Math.max(g,_)}if(d==null)return 0;var A=v+l,T=_+d;return A>T?Math.max(g,_):Math.max(v,_)}function tJ(n){var{translateX:t,translateY:e,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function eJ(n){var{allowEscapeViewBox:t,coordinate:e,offsetTopLeft:i,position:r,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:h}=n,d,g,v;return o.height>0&&o.width>0&&e?(g=tL({allowEscapeViewBox:t,coordinate:e,key:"x",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.width,viewBox:h,viewBoxDimension:h.width}),v=tL({allowEscapeViewBox:t,coordinate:e,key:"y",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.height,viewBox:h,viewBoxDimension:h.height}),d=tJ({translateX:g,translateY:v,useTranslate3d:l})):d=$$,{cssProperties:d,cssClasses:J$({translateX:g,translateY:v,coordinate:e})}}function eL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function kx(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(e),!0).forEach(function(i){uA(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):eL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function uA(n,t,e){return(t=nJ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nJ(n){var t=iJ(n,"string");return typeof t=="symbol"?t:t+""}function iJ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class rJ extends H.PureComponent{constructor(){super(...arguments),uA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uA(this,"handleKeyDown",t=>{if(t.key==="Escape"){var e,i,r,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(e=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&e!==void 0?e:0,y:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,e;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((e=this.props.coordinate)===null||e===void 0?void 0:e.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:e,animationDuration:i,animationEasing:r,children:a,coordinate:o,hasPayload:l,isAnimationActive:h,offset:d,position:g,reverseDirection:v,useTranslate3d:_,viewBox:b,wrapperStyle:M,lastBoundingBox:A,innerRef:T,hasPortalFromProps:E}=this.props,{cssClasses:O,cssProperties:P}=eJ({allowEscapeViewBox:e,coordinate:o,offsetTopLeft:d,position:g,reverseDirection:v,tooltipBox:{height:A.height,width:A.width},useTranslate3d:_,viewBox:b}),z=E?{}:kx(kx({transition:h&&t?"transform ".concat(i,"ms ").concat(r):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),F=kx(kx({},z),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},M);return H.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:F,ref:T},a)}}var aJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bg={isSsr:aJ()},z4=()=>Qe(n=>n.rootProps.accessibilityLayer);function Su(n){return Number.isFinite(n)}function Tg(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function cA(){return cA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},cA.apply(null,arguments)}function nL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function iL(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(e),!0).forEach(function(i){sJ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):nL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function sJ(n,t,e){return(t=oJ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oJ(n){var t=lJ(n,"string");return typeof t=="symbol"?t:t+""}function lJ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var rL={curveBasisClosed:UZ,curveBasisOpen:zZ,curveBasis:NZ,curveBumpX:xZ,curveBumpY:bZ,curveLinearClosed:IZ,curveLinear:gS,curveMonotoneX:BZ,curveMonotoneY:FZ,curveNatural:HZ,curveStep:kZ,curveStepAfter:VZ,curveStepBefore:jZ},jx=n=>Su(n.x)&&Su(n.y),Kv=n=>n.x,Qv=n=>n.y,uJ=(n,t)=>{if(typeof n=="function")return n;var e="curve".concat(v0(n));return(e==="curveMonotone"||e==="curveBump")&&t?rL["".concat(e).concat(t==="vertical"?"Y":"X")]:rL[e]||gS},cJ=n=>{var{type:t="linear",points:e=[],baseLine:i,layout:r,connectNulls:a=!1}=n,o=uJ(t,r),l=a?e.filter(jx):e,h;if(Array.isArray(i)){var d=a?i.filter(v=>jx(v)):i,g=l.map((v,_)=>iL(iL({},v),{},{base:d[_]}));return r==="vertical"?h=Nx().y(Qv).x1(Kv).x0(v=>v.base.x):h=Nx().x(Kv).y1(Qv).y0(v=>v.base.y),h.defined(jx).curve(o),h(g)}return r==="vertical"&&un(i)?h=Nx().y(Qv).x1(Kv).x0(i):un(i)?h=Nx().x(Kv).y1(Qv).y0(i):h=CB().x(Kv).y(Qv),h.defined(jx).curve(o),h(l)},i2=n=>{var{className:t,points:e,path:i,pathRef:r}=n;if((!e||!e.length)&&!i)return null;var a=e&&e.length?cJ(n):i;return H.createElement("path",cA({},qh(n),UC(n),{className:oi("recharts-curve",t),d:a===null?void 0:a,ref:r}))},fJ=["x","y","top","left","width","height","className"];function fA(){return fA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fA.apply(null,arguments)}function aL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function hJ(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(e),!0).forEach(function(i){dJ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):aL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function dJ(n,t,e){return(t=pJ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function pJ(n){var t=mJ(n,"string");return typeof t=="symbol"?t:t+""}function mJ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gJ(n,t){if(n==null)return{};var e,i,r=vJ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function vJ(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var yJ=(n,t,e,i,r,a)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(a,",").concat(t,"h").concat(e),_J=n=>{var{x:t=0,y:e=0,top:i=0,left:r=0,width:a=0,height:o=0,className:l}=n,h=gJ(n,fJ),d=hJ({x:t,y:e,top:i,left:r,width:a,height:o},h);return!un(t)||!un(e)||!un(a)||!un(o)||!un(i)||!un(r)?null:H.createElement("path",fA({},fr(d,!0),{className:oi("recharts-cross",l),d:yJ(t,e,a,o,i,r)}))};function xJ(n,t,e,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-r:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-r,width:n==="horizontal"?i:e.width-1,height:n==="horizontal"?e.height-1:i}}function sL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function bJ(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(e),!0).forEach(function(i){SJ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):sL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function SJ(n,t,e){return(t=MJ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function MJ(n){var t=EJ(n,"string");return typeof t=="symbol"?t:t+""}function EJ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Go(n,t){var e=bJ({},n),i=t,r=Object.keys(t),a=r.reduce((o,l)=>(o[l]===void 0&&i[l]!==void 0&&(o[l]=i[l]),o),e);return a}function TJ(){}function oL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function lL(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(e),!0).forEach(function(i){wJ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function wJ(n,t,e){return(t=AJ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function AJ(n){var t=CJ(n,"string");return typeof t=="symbol"?t:t+""}function CJ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var RJ=n=>n.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),I4=(n,t,e)=>n.map(i=>"".concat(RJ(i)," ").concat(t,"ms ").concat(e)).join(","),OJ=(n,t)=>[Object.keys(n),Object.keys(t)].reduce((e,i)=>e.filter(r=>i.includes(r))),Xy=(n,t)=>Object.keys(t).reduce((e,i)=>lL(lL({},e),{},{[i]:n(i,t[i])}),{});function uL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ua(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(e),!0).forEach(function(i){PJ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):uL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function PJ(n,t,e){return(t=DJ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function DJ(n){var t=LJ(n,"string");return typeof t=="symbol"?t:t+""}function LJ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var h1=(n,t,e)=>n+(t-n)*e,hA=n=>{var{from:t,to:e}=n;return t!==e},B4=(n,t,e)=>{var i=Xy((r,a)=>{if(hA(a)){var[o,l]=n(a.from,a.to,a.velocity);return Ua(Ua({},a),{},{from:o,velocity:l})}return a},t);return e<1?Xy((r,a)=>hA(a)?Ua(Ua({},a),{},{velocity:h1(a.velocity,i[r].velocity,e),from:h1(a.from,i[r].from,e)}):a,t):B4(n,i,e-1)};function NJ(n,t,e,i,r,a){var o,l=i.reduce((_,b)=>Ua(Ua({},_),{},{[b]:{from:n[b],velocity:0,to:t[b]}}),{}),h=()=>Xy((_,b)=>b.from,l),d=()=>!Object.values(l).filter(hA).length,g=null,v=_=>{o||(o=_);var b=_-o,M=b/e.dt;l=B4(e,l,M),r(Ua(Ua(Ua({},n),t),h())),o=_,d()||(g=a.setTimeout(v))};return()=>(g=a.setTimeout(v),()=>{g()})}function UJ(n,t,e,i,r,a,o){var l=null,h=r.reduce((v,_)=>Ua(Ua({},v),{},{[_]:[n[_],t[_]]}),{}),d,g=v=>{d||(d=v);var _=(v-d)/i,b=Xy((A,T)=>h1(...T,e(_)),h);if(a(Ua(Ua(Ua({},n),t),b)),_<1)l=o.setTimeout(g);else{var M=Xy((A,T)=>h1(...T,e(1)),h);a(Ua(Ua(Ua({},n),t),M))}};return()=>(l=o.setTimeout(g),()=>{l()})}const zJ=(n,t,e,i,r,a)=>{var o=OJ(n,t);return e.isStepper===!0?NJ(n,t,e,o,r,a):UJ(n,t,e,i,o,r,a)};var d1=1e-4,F4=(n,t)=>[0,3*n,3*t-6*n,3*n-3*t+1],H4=(n,t)=>n.map((e,i)=>e*t**i).reduce((e,i)=>e+i),cL=(n,t)=>e=>{var i=F4(n,t);return H4(i,e)},IJ=(n,t)=>e=>{var i=F4(n,t),r=[...i.map((a,o)=>a*o).slice(1),0];return H4(r,e)},fL=function(){for(var t,e,i,r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,i,e,r]=[0,0,1,1];break;case"ease":[t,i,e,r]=[.25,.1,.25,1];break;case"ease-in":[t,i,e,r]=[.42,0,1,1];break;case"ease-out":[t,i,e,r]=[.42,0,.58,1];break;case"ease-in-out":[t,i,e,r]=[0,0,.58,1];break;default:{var h=o[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([t,i,e,r]=h[1].split(")")[0].split(",").map(M=>parseFloat(M)))}}else o.length===4&&([t,i,e,r]=o);var d=cL(t,e),g=cL(i,r),v=IJ(t,e),_=M=>M>1?1:M<0?0:M,b=M=>{for(var A=M>1?1:M,T=A,E=0;E<8;++E){var O=d(T)-A,P=v(T);if(Math.abs(O-A)<d1||P<d1)return g(T);T=_(T-O/P)}return g(T)};return b.isStepper=!1,b},BJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:e=100,damping:i=8,dt:r=17}=t,a=(o,l,h)=>{var d=-(o-l)*e,g=h*i,v=h+(d-g)*r/1e3,_=h*r/1e3+o;return Math.abs(_-l)<d1&&Math.abs(v)<d1?[l,0]:[_,v]};return a.isStepper=!0,a.dt=r,a},FJ=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fL(n);case"spring":return BJ();default:if(n.split("(")[0]==="cubic-bezier")return fL(n)}return typeof n=="function"?n:null};function HJ(n){var t,e=()=>null,i=!1,r=null,a=o=>{if(!i){if(Array.isArray(o)){if(!o.length)return;var l=o,[h,...d]=l;if(typeof h=="number"){r=n.setTimeout(a.bind(null,d),h);return}a(h),r=n.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,e(t)),typeof o=="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:()=>{i=!0},start:o=>{i=!1,r&&(r(),r=null),a(o)},subscribe:o=>(e=o,()=>{e=()=>null}),getTimeoutController:()=>n}}class kJ{setTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=o=>{o-i>=e?t(o):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}function jJ(){return HJ(new kJ)}var VJ=H.createContext(jJ);function GJ(n,t){var e=H.useContext(VJ);return H.useMemo(()=>t??e(n),[n,t,e])}var qJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hL={t:0},jT={t:1};function RS(n){var t=Go(n,qJ),{isActive:e,canBegin:i,duration:r,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:h,children:d}=t,g=GJ(t.animationId,t.animationManager),[v,_]=H.useState(e?hL:jT),b=H.useRef(null);return H.useEffect(()=>{e||_(jT)},[e]),H.useEffect(()=>{if(!e||!i)return TJ;var M=zJ(hL,jT,FJ(a),r,_,g.getTimeoutController()),A=()=>{b.current=M()};return g.start([h,o,A,r,l]),()=>{g.stop(),b.current&&b.current(),l()}},[e,i,r,a,o,h,l,g]),d(v.t)}function OS(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",e=H.useRef(Gy(t)),i=H.useRef(n);return i.current!==n&&(e.current=Gy(t),i.current=n),e.current}function dL(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function pL(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(e),!0).forEach(function(i){WJ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):dL(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function WJ(n,t,e){return(t=XJ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function XJ(n){var t=YJ(n,"string");return typeof t=="symbol"?t:t+""}function YJ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function p1(){return p1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},p1.apply(null,arguments)}var mL=(n,t,e,i,r)=>{var a=Math.min(Math.abs(e)/2,Math.abs(i)/2),o=i>=0?1:-1,l=e>=0?1:-1,h=i>=0&&e>=0||i<0&&e<0?1:0,d;if(a>0&&r instanceof Array){for(var g=[0,0,0,0],v=0,_=4;v<_;v++)g[v]=r[v]>a?a:r[v];d="M".concat(n,",").concat(t+o*g[0]),g[0]>0&&(d+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(n+l*g[0],",").concat(t)),d+="L ".concat(n+e-l*g[1],",").concat(t),g[1]>0&&(d+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(n+e,",").concat(t+o*g[1])),d+="L ".concat(n+e,",").concat(t+i-o*g[2]),g[2]>0&&(d+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(n+e-l*g[2],",").concat(t+i)),d+="L ".concat(n+l*g[3],",").concat(t+i),g[3]>0&&(d+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(n,",").concat(t+i-o*g[3])),d+="Z"}else if(a>0&&r===+r&&r>0){var b=Math.min(a,r);d="M ".concat(n,",").concat(t+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(n+l*b,",").concat(t,`
            L `).concat(n+e-l*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(n+e,",").concat(t+o*b,`
            L `).concat(n+e,",").concat(t+i-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(n+e-l*b,",").concat(t+i,`
            L `).concat(n+l*b,",").concat(t+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(n,",").concat(t+i-o*b," Z")}else d="M ".concat(n,",").concat(t," h ").concat(e," v ").concat(i," h ").concat(-e," Z");return d},ZJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k4=n=>{var t=Go(n,ZJ),e=H.useRef(null),[i,r]=H.useState(-1);H.useEffect(()=>{if(e.current&&e.current.getTotalLength)try{var dt=e.current.getTotalLength();dt&&r(dt)}catch{}},[]);var{x:a,y:o,width:l,height:h,radius:d,className:g}=t,{animationEasing:v,animationDuration:_,animationBegin:b,isAnimationActive:M,isUpdateAnimationActive:A}=t,T=H.useRef(l),E=H.useRef(h),O=H.useRef(a),P=H.useRef(o),z=H.useMemo(()=>({x:a,y:o,width:l,height:h,radius:d}),[a,o,l,h,d]),F=OS(z,"rectangle-");if(a!==+a||o!==+o||l!==+l||h!==+h||l===0||h===0)return null;var I=oi("recharts-rectangle",g);if(!A)return H.createElement("path",p1({},fr(t,!0),{className:I,d:mL(a,o,l,h,d)}));var q=T.current,Y=E.current,G=O.current,j=P.current,K="0px ".concat(i===-1?1:i,"px"),st="".concat(i,"px 0px"),lt=I4(["strokeDasharray"],_,typeof v=="string"?v:void 0);return H.createElement(RS,{animationId:F,key:F,canBegin:i>0,duration:_,easing:v,isActive:A,begin:b},dt=>{var vt=ns(q,l,dt),X=ns(Y,h,dt),it=ns(G,a,dt),tt=ns(j,o,dt);e.current&&(T.current=vt,E.current=X,O.current=it,P.current=tt);var yt;return M?dt>0?yt={transition:lt,strokeDasharray:st}:yt={strokeDasharray:K}:yt={strokeDasharray:st},H.createElement("path",p1({},fr(t,!0),{className:I,d:mL(it,tt,vt,X,d),ref:e,style:pL(pL({},yt),t.style)}))})};function j4(n){var{cx:t,cy:e,radius:i,startAngle:r,endAngle:a}=n,o=kr(t,e,i,r),l=kr(t,e,i,a);return{points:[o,l],cx:t,cy:e,radius:i,startAngle:r,endAngle:a}}function dA(){return dA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dA.apply(null,arguments)}var KJ=(n,t)=>{var e=rs(t-n),i=Math.min(Math.abs(t-n),359.999);return e*i},Vx=n=>{var{cx:t,cy:e,radius:i,angle:r,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:h}=n,d=l*(o?1:-1)+i,g=Math.asin(l/d)/f1,v=h?r:r+a*g,_=kr(t,e,d,v),b=kr(t,e,i,v),M=h?r-a*g:r,A=kr(t,e,d*Math.cos(g*f1),M);return{center:_,circleTangency:b,lineTangency:A,theta:g}},V4=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:a,endAngle:o}=n,l=KJ(a,o),h=a+l,d=kr(t,e,r,a),g=kr(t,e,r,h),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var _=kr(t,e,i,a),b=kr(t,e,i,h);v+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(t,",").concat(e," Z");return v},QJ=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:h,endAngle:d}=n,g=rs(d-h),{circleTangency:v,lineTangency:_,theta:b}=Vx({cx:t,cy:e,radius:r,angle:h,sign:g,cornerRadius:a,cornerIsExternal:l}),{circleTangency:M,lineTangency:A,theta:T}=Vx({cx:t,cy:e,radius:r,angle:d,sign:-g,cornerRadius:a,cornerIsExternal:l}),E=l?Math.abs(h-d):Math.abs(h-d)-b-T;if(E<0)return o?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):V4({cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:h,endAngle:d});var O="M ".concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(g<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var{circleTangency:P,lineTangency:z,theta:F}=Vx({cx:t,cy:e,radius:i,angle:h,sign:g,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:I,lineTangency:q,theta:Y}=Vx({cx:t,cy:e,radius:i,angle:d,sign:-g,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),G=l?Math.abs(h-d):Math.abs(h-d)-F-Y;if(G<0&&a===0)return"".concat(O,"L").concat(t,",").concat(e,"Z");O+="L".concat(q.x,",").concat(q.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(g>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(z.x,",").concat(z.y,"Z")}else O+="L".concat(t,",").concat(e,"Z");return O},$J={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G4=n=>{var t=Go(n,$J),{cx:e,cy:i,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:h,startAngle:d,endAngle:g,className:v}=t;if(a<r||d===g)return null;var _=oi("recharts-sector",v),b=a-r,M=Io(o,b,0,!0),A;return M>0&&Math.abs(d-g)<360?A=QJ({cx:e,cy:i,innerRadius:r,outerRadius:a,cornerRadius:Math.min(M,b/2),forceCornerRadius:l,cornerIsExternal:h,startAngle:d,endAngle:g}):A=V4({cx:e,cy:i,innerRadius:r,outerRadius:a,startAngle:d,endAngle:g}),H.createElement("path",dA({},fr(t,!0),{className:_,d:A}))};function JJ(n,t,e){var i,r,a,o;if(n==="horizontal")i=t.x,a=i,r=e.top,o=e.top+e.height;else if(n==="vertical")r=t.y,o=r,i=e.left,a=e.left+e.width;else if(t.cx!=null&&t.cy!=null)if(n==="centric"){var{cx:l,cy:h,innerRadius:d,outerRadius:g,angle:v}=t,_=kr(l,h,d,v),b=kr(l,h,g,v);i=_.x,r=_.y,a=b.x,o=b.y}else return j4(t);return[{x:i,y:r},{x:a,y:o}]}var VT={},GT={},qT={},gL;function ttt(){return gL||(gL=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=KB();function e(i){return t.isSymbol(i)?NaN:Number(i)}n.toNumber=e})(qT)),qT}var vL;function ett(){return vL||(vL=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=ttt();function e(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=e})(GT)),GT}var yL;function ntt(){return yL||(yL=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=QB(),e=ett();function i(r,a,o){o&&typeof o!="number"&&t.isIterateeCall(r,a,o)&&(a=o=void 0),r=e.toFinite(r),a===void 0?(a=r,r=0):a=e.toFinite(a),o=o===void 0?r<a?1:-1:e.toFinite(o);const l=Math.max(Math.ceil((a-r)/(o||1)),0),h=new Array(l);for(let d=0;d<l;d++)h[d]=r,r+=o;return h}n.range=i})(VT)),VT}var WT,_L;function itt(){return _L||(_L=1,WT=ntt().range),WT}var rtt=itt();const q4=Ll(rtt);function Ih(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function att(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function r2(n){let t,e,i;n.length!==2?(t=Ih,e=(l,h)=>Ih(n(l),h),i=(l,h)=>n(l)-h):(t=n===Ih||n===att?n:stt,e=n,i=n);function r(l,h,d=0,g=l.length){if(d<g){if(t(h,h)!==0)return g;do{const v=d+g>>>1;e(l[v],h)<0?d=v+1:g=v}while(d<g)}return d}function a(l,h,d=0,g=l.length){if(d<g){if(t(h,h)!==0)return g;do{const v=d+g>>>1;e(l[v],h)<=0?d=v+1:g=v}while(d<g)}return d}function o(l,h,d=0,g=l.length){const v=r(l,h,d,g-1);return v>d&&i(l[v-1],h)>-i(l[v],h)?v-1:v}return{left:r,center:o,right:a}}function stt(){return 0}function W4(n){return n===null?NaN:+n}function*ott(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const ltt=r2(Ih),b0=ltt.right;r2(W4).center;class xL extends Map{constructor(t,e=ftt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(bL(this,t))}has(t){return super.has(bL(this,t))}set(t,e){return super.set(utt(this,t),e)}delete(t){return super.delete(ctt(this,t))}}function bL({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function utt({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function ctt({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function ftt(n){return n!==null&&typeof n=="object"?n.valueOf():n}function htt(n=Ih){if(n===Ih)return X4;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const i=n(t,e);return i||i===0?i:(n(e,e)===0)-(n(t,t)===0)}}function X4(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const dtt=Math.sqrt(50),ptt=Math.sqrt(10),mtt=Math.sqrt(2);function m1(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=dtt?10:a>=ptt?5:a>=mtt?2:1;let l,h,d;return r<0?(d=Math.pow(10,-r)/o,l=Math.round(n*d),h=Math.round(t*d),l/d<n&&++l,h/d>t&&--h,d=-d):(d=Math.pow(10,r)*o,l=Math.round(n/d),h=Math.round(t/d),l*d<n&&++l,h*d>t&&--h),h<l&&.5<=e&&e<2?m1(n,t,e*2):[l,h,d]}function pA(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,a,o]=i?m1(t,n,e):m1(n,t,e);if(!(a>=r))return[];const l=a-r+1,h=new Array(l);if(i)if(o<0)for(let d=0;d<l;++d)h[d]=(a-d)/-o;else for(let d=0;d<l;++d)h[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)h[d]=(r+d)/-o;else for(let d=0;d<l;++d)h[d]=(r+d)*o;return h}function mA(n,t,e){return t=+t,n=+n,e=+e,m1(n,t,e)[2]}function gA(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?mA(t,n,e):mA(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function SL(n,t){let e;for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);return e}function ML(n,t){let e;for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);return e}function Y4(n,t,e=0,i=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),i=Math.floor(Math.min(n.length-1,i)),!(e<=t&&t<=i))return n;for(r=r===void 0?X4:htt(r);i>e;){if(i-e>600){const h=i-e+1,d=t-e+1,g=Math.log(h),v=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*v*(h-v)/h)*(d-h/2<0?-1:1),b=Math.max(e,Math.floor(t-d*v/h+_)),M=Math.min(i,Math.floor(t+(h-d)*v/h+_));Y4(n,t,b,M,r)}const a=n[t];let o=e,l=i;for($v(n,e,t),r(n[i],a)>0&&$v(n,e,i);o<l;){for($v(n,o,l),++o,--l;r(n[o],a)<0;)++o;for(;r(n[l],a)>0;)--l}r(n[e],a)===0?$v(n,e,l):(++l,$v(n,l,i)),l<=t&&(e=l+1),t<=l&&(i=l-1)}return n}function $v(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function gtt(n,t,e){if(n=Float64Array.from(ott(n)),!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return ML(n);if(t>=1)return SL(n);var i,r=(i-1)*t,a=Math.floor(r),o=SL(Y4(n,a).subarray(0,a+1)),l=ML(n.subarray(a+1));return o+(l-o)*(r-a)}}function vtt(n,t,e=W4){if(!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,a=Math.floor(r),o=+e(n[a],a,n),l=+e(n[a+1],a+1,n);return o+(l-o)*(r-a)}}function ytt(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,a=new Array(r);++i<r;)a[i]=n+i*e;return a}function zl(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Lf(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vA=Symbol("implicit");function a2(){var n=new xL,t=[],e=[],i=vA;function r(a){let o=n.get(a);if(o===void 0){if(i!==vA)return i;n.set(a,o=t.push(a)-1)}return e[o%e.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new xL;for(const o of a)n.has(o)||n.set(o,t.push(o)-1);return r},r.range=function(a){return arguments.length?(e=Array.from(a),r):e.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return a2(t,e).unknown(i)},zl.apply(r,arguments),r}function s2(){var n=a2().unknown(void 0),t=n.domain,e=n.range,i=0,r=1,a,o,l=!1,h=0,d=0,g=.5;delete n.unknown;function v(){var _=t().length,b=r<i,M=b?r:i,A=b?i:r;a=(A-M)/Math.max(1,_-h+d*2),l&&(a=Math.floor(a)),M+=(A-M-a*(_-h))*g,o=a*(1-h),l&&(M=Math.round(M),o=Math.round(o));var T=ytt(_).map(function(E){return M+a*E});return e(b?T.reverse():T)}return n.domain=function(_){return arguments.length?(t(_),v()):t()},n.range=function(_){return arguments.length?([i,r]=_,i=+i,r=+r,v()):[i,r]},n.rangeRound=function(_){return[i,r]=_,i=+i,r=+r,l=!0,v()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(_){return arguments.length?(l=!!_,v()):l},n.padding=function(_){return arguments.length?(h=Math.min(1,d=+_),v()):h},n.paddingInner=function(_){return arguments.length?(h=Math.min(1,_),v()):h},n.paddingOuter=function(_){return arguments.length?(d=+_,v()):d},n.align=function(_){return arguments.length?(g=Math.max(0,Math.min(1,_)),v()):g},n.copy=function(){return s2(t(),[i,r]).round(l).paddingInner(h).paddingOuter(d).align(g)},zl.apply(v(),arguments)}function Z4(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Z4(t())},n}function _tt(){return Z4(s2.apply(null,arguments).paddingInner(1))}function o2(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function K4(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function S0(){}var Yy=.7,g1=1/Yy,fg="\\s*([+-]?\\d+)\\s*",Zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xtt=/^#([0-9a-f]{3,8})$/,btt=new RegExp(`^rgb\\(${fg},${fg},${fg}\\)$`),Stt=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),Mtt=new RegExp(`^rgba\\(${fg},${fg},${fg},${Zy}\\)$`),Ett=new RegExp(`^rgba\\(${yc},${yc},${yc},${Zy}\\)$`),Ttt=new RegExp(`^hsl\\(${Zy},${yc},${yc}\\)$`),wtt=new RegExp(`^hsla\\(${Zy},${yc},${yc},${Zy}\\)$`),EL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};o2(S0,Ky,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:TL,formatHex:TL,formatHex8:Att,formatHsl:Ctt,formatRgb:wL,toString:wL});function TL(){return this.rgb().formatHex()}function Att(){return this.rgb().formatHex8()}function Ctt(){return Q4(this).formatHsl()}function wL(){return this.rgb().formatRgb()}function Ky(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=xtt.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?AL(t):e===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Gx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Gx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=btt.exec(n))?new Js(t[1],t[2],t[3],1):(t=Stt.exec(n))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mtt.exec(n))?Gx(t[1],t[2],t[3],t[4]):(t=Ett.exec(n))?Gx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ttt.exec(n))?OL(t[1],t[2]/100,t[3]/100,1):(t=wtt.exec(n))?OL(t[1],t[2]/100,t[3]/100,t[4]):EL.hasOwnProperty(n)?AL(EL[n]):n==="transparent"?new Js(NaN,NaN,NaN,0):null}function AL(n){return new Js(n>>16&255,n>>8&255,n&255,1)}function Gx(n,t,e,i){return i<=0&&(n=t=e=NaN),new Js(n,t,e,i)}function Rtt(n){return n instanceof S0||(n=Ky(n)),n?(n=n.rgb(),new Js(n.r,n.g,n.b,n.opacity)):new Js}function yA(n,t,e,i){return arguments.length===1?Rtt(n):new Js(n,t,e,i??1)}function Js(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}o2(Js,yA,K4(S0,{brighter(n){return n=n==null?g1:Math.pow(g1,n),new Js(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Yy:Math.pow(Yy,n),new Js(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Js(mp(this.r),mp(this.g),mp(this.b),v1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CL,formatHex:CL,formatHex8:Ott,formatRgb:RL,toString:RL}));function CL(){return`#${op(this.r)}${op(this.g)}${op(this.b)}`}function Ott(){return`#${op(this.r)}${op(this.g)}${op(this.b)}${op((isNaN(this.opacity)?1:this.opacity)*255)}`}function RL(){const n=v1(this.opacity);return`${n===1?"rgb(":"rgba("}${mp(this.r)}, ${mp(this.g)}, ${mp(this.b)}${n===1?")":`, ${n})`}`}function v1(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function mp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function op(n){return n=mp(n),(n<16?"0":"")+n.toString(16)}function OL(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new _u(n,t,e,i)}function Q4(n){if(n instanceof _u)return new _u(n.h,n.s,n.l,n.opacity);if(n instanceof S0||(n=Ky(n)),!n)return new _u;if(n instanceof _u)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),a=Math.max(t,e,i),o=NaN,l=a-r,h=(a+r)/2;return l?(t===a?o=(e-i)/l+(e<i)*6:e===a?o=(i-t)/l+2:o=(t-e)/l+4,l/=h<.5?a+r:2-a-r,o*=60):l=h>0&&h<1?0:o,new _u(o,l,h,n.opacity)}function Ptt(n,t,e,i){return arguments.length===1?Q4(n):new _u(n,t,e,i??1)}function _u(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}o2(_u,Ptt,K4(S0,{brighter(n){return n=n==null?g1:Math.pow(g1,n),new _u(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Yy:Math.pow(Yy,n),new _u(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new Js(XT(n>=240?n-240:n+120,r,i),XT(n,r,i),XT(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new _u(PL(this.h),qx(this.s),qx(this.l),v1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=v1(this.opacity);return`${n===1?"hsl(":"hsla("}${PL(this.h)}, ${qx(this.s)*100}%, ${qx(this.l)*100}%${n===1?")":`, ${n})`}`}}));function PL(n){return n=(n||0)%360,n<0?n+360:n}function qx(n){return Math.max(0,Math.min(1,n||0))}function XT(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const l2=n=>()=>n;function Dtt(n,t){return function(e){return n+e*t}}function Ltt(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function Ntt(n){return(n=+n)==1?$4:function(t,e){return e-t?Ltt(t,e,n):l2(isNaN(t)?e:t)}}function $4(n,t){var e=t-n;return e?Dtt(n,e):l2(isNaN(n)?t:n)}const DL=(function n(t){var e=Ntt(t);function i(r,a){var o=e((r=yA(r)).r,(a=yA(a)).r),l=e(r.g,a.g),h=e(r.b,a.b),d=$4(r.opacity,a.opacity);return function(g){return r.r=o(g),r.g=l(g),r.b=h(g),r.opacity=d(g),r+""}}return i.gamma=n,i})(1);function Utt(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(a){for(r=0;r<e;++r)i[r]=n[r]*(1-a)+t[r]*a;return i}}function ztt(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Itt(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),a=new Array(e),o;for(o=0;o<i;++o)r[o]=Fg(n[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=r[o](l);return a}}function Btt(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function y1(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Ftt(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=Fg(n[r],t[r]):i[r]=t[r];return function(a){for(r in e)i[r]=e[r](a);return i}}var _A=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YT=new RegExp(_A.source,"g");function Htt(n){return function(){return n}}function ktt(n){return function(t){return n(t)+""}}function jtt(n,t){var e=_A.lastIndex=YT.lastIndex=0,i,r,a,o=-1,l=[],h=[];for(n=n+"",t=t+"";(i=_A.exec(n))&&(r=YT.exec(t));)(a=r.index)>e&&(a=t.slice(e,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,h.push({i:o,x:y1(i,r)})),e=YT.lastIndex;return e<t.length&&(a=t.slice(e),l[o]?l[o]+=a:l[++o]=a),l.length<2?h[0]?ktt(h[0].x):Htt(t):(t=h.length,function(d){for(var g=0,v;g<t;++g)l[(v=h[g]).i]=v.x(d);return l.join("")})}function Fg(n,t){var e=typeof t,i;return t==null||e==="boolean"?l2(t):(e==="number"?y1:e==="string"?(i=Ky(t))?(t=i,DL):jtt:t instanceof Ky?DL:t instanceof Date?Btt:ztt(t)?Utt:Array.isArray(t)?Itt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ftt:y1)(n,t)}function u2(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function Vtt(n,t){t===void 0&&(t=n,n=Fg);for(var e=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);e<i;)a[e]=n(r,r=t[++e]);return function(o){var l=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[l](o-l)}}function Gtt(n){return function(){return n}}function _1(n){return+n}var LL=[0,1];function Ps(n){return n}function xA(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Gtt(isNaN(t)?NaN:.5)}function qtt(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function Wtt(n,t,e){var i=n[0],r=n[1],a=t[0],o=t[1];return r<i?(i=xA(r,i),a=e(o,a)):(i=xA(i,r),a=e(a,o)),function(l){return a(i(l))}}function Xtt(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=xA(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(l){var h=b0(n,l,1,i)-1;return a[h](r[h](l))}}function M0(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function PS(){var n=LL,t=LL,e=Fg,i,r,a,o=Ps,l,h,d;function g(){var _=Math.min(n.length,t.length);return o!==Ps&&(o=qtt(n[0],n[_-1])),l=_>2?Xtt:Wtt,h=d=null,v}function v(_){return _==null||isNaN(_=+_)?a:(h||(h=l(n.map(i),t,e)))(i(o(_)))}return v.invert=function(_){return o(r((d||(d=l(t,n.map(i),y1)))(_)))},v.domain=function(_){return arguments.length?(n=Array.from(_,_1),g()):n.slice()},v.range=function(_){return arguments.length?(t=Array.from(_),g()):t.slice()},v.rangeRound=function(_){return t=Array.from(_),e=u2,g()},v.clamp=function(_){return arguments.length?(o=_?!0:Ps,g()):o!==Ps},v.interpolate=function(_){return arguments.length?(e=_,g()):e},v.unknown=function(_){return arguments.length?(a=_,v):a},function(_,b){return i=_,r=b,g()}}function c2(){return PS()(Ps,Ps)}function Ytt(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function x1(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function wg(n){return n=x1(Math.abs(n)),n?n[1]:NaN}function Ztt(n,t){return function(e,i){for(var r=e.length,a=[],o=0,l=n[0],h=0;r>0&&l>0&&(h+l+1>i&&(l=Math.max(1,i-h)),a.push(e.substring(r-=l,r+l)),!((h+=l+1)>i));)l=n[o=(o+1)%n.length];return a.reverse().join(t)}}function Ktt(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var Qtt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qy(n){if(!(t=Qtt.exec(n)))throw new Error("invalid format: "+n);var t;return new f2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qy.prototype=f2.prototype;function f2(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}f2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $tt(n){t:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break t;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var J4;function Jtt(n,t){var e=x1(n,t);if(!e)return n+"";var i=e[0],r=e[1],a=r-(J4=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+x1(n,Math.max(0,t+a-1))[0]}function NL(n,t){var e=x1(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const UL={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Ytt,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>NL(n*100,t),r:NL,s:Jtt,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function zL(n){return n}var IL=Array.prototype.map,BL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tet(n){var t=n.grouping===void 0||n.thousands===void 0?zL:Ztt(IL.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?zL:Ktt(IL.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"−":n.minus+"",h=n.nan===void 0?"NaN":n.nan+"";function d(v){v=Qy(v);var _=v.fill,b=v.align,M=v.sign,A=v.symbol,T=v.zero,E=v.width,O=v.comma,P=v.precision,z=v.trim,F=v.type;F==="n"?(O=!0,F="g"):UL[F]||(P===void 0&&(P=12),z=!0,F="g"),(T||_==="0"&&b==="=")&&(T=!0,_="0",b="=");var I=A==="$"?e:A==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",q=A==="$"?i:/[%p]/.test(F)?o:"",Y=UL[F],G=/[defgprs%]/.test(F);P=P===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function j(K){var st=I,lt=q,dt,vt,X;if(F==="c")lt=Y(K)+lt,K="";else{K=+K;var it=K<0||1/K<0;if(K=isNaN(K)?h:Y(Math.abs(K),P),z&&(K=$tt(K)),it&&+K==0&&M!=="+"&&(it=!1),st=(it?M==="("?M:l:M==="-"||M==="("?"":M)+st,lt=(F==="s"?BL[8+J4/3]:"")+lt+(it&&M==="("?")":""),G){for(dt=-1,vt=K.length;++dt<vt;)if(X=K.charCodeAt(dt),48>X||X>57){lt=(X===46?r+K.slice(dt+1):K.slice(dt))+lt,K=K.slice(0,dt);break}}}O&&!T&&(K=t(K,1/0));var tt=st.length+K.length+lt.length,yt=tt<E?new Array(E-tt+1).join(_):"";switch(O&&T&&(K=t(yt+K,yt.length?E-lt.length:1/0),yt=""),b){case"<":K=st+K+lt+yt;break;case"=":K=st+yt+K+lt;break;case"^":K=yt.slice(0,tt=yt.length>>1)+st+K+lt+yt.slice(tt);break;default:K=yt+st+K+lt;break}return a(K)}return j.toString=function(){return v+""},j}function g(v,_){var b=d((v=Qy(v),v.type="f",v)),M=Math.max(-8,Math.min(8,Math.floor(wg(_)/3)))*3,A=Math.pow(10,-M),T=BL[8+M/3];return function(E){return b(A*E)+T}}return{format:d,formatPrefix:g}}var Wx,h2,t5;eet({thousands:",",grouping:[3],currency:["$",""]});function eet(n){return Wx=tet(n),h2=Wx.format,t5=Wx.formatPrefix,Wx}function net(n){return Math.max(0,-wg(Math.abs(n)))}function iet(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wg(t)/3)))*3-wg(Math.abs(n)))}function ret(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,wg(t)-wg(n))+1}function e5(n,t,e,i){var r=gA(n,t,e),a;switch(i=Qy(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(a=iet(r,o))&&(i.precision=a),t5(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=ret(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=net(r))&&(i.precision=a-(i.type==="%")*2);break}}return h2(i)}function Xh(n){var t=n.domain;return n.ticks=function(e){var i=t();return pA(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return e5(r[0],r[r.length-1],e??10,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,a=i.length-1,o=i[r],l=i[a],h,d,g=10;for(l<o&&(d=o,o=l,l=d,d=r,r=a,a=d);g-- >0;){if(d=mA(o,l,e),d===h)return i[r]=o,i[a]=l,t(i);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;h=d}return n},n}function n5(){var n=c2();return n.copy=function(){return M0(n,n5())},zl.apply(n,arguments),Xh(n)}function i5(n){var t;function e(i){return i==null||isNaN(i=+i)?t:i}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(n=Array.from(i,_1),e):n.slice()},e.unknown=function(i){return arguments.length?(t=i,e):t},e.copy=function(){return i5(n).unknown(t)},n=arguments.length?Array.from(n,_1):[0,1],Xh(e)}function r5(n,t){n=n.slice();var e=0,i=n.length-1,r=n[e],a=n[i],o;return a<r&&(o=e,e=i,i=o,o=r,r=a,a=o),n[e]=t.floor(r),n[i]=t.ceil(a),n}function FL(n){return Math.log(n)}function HL(n){return Math.exp(n)}function aet(n){return-Math.log(-n)}function set(n){return-Math.exp(-n)}function oet(n){return isFinite(n)?+("1e"+n):n<0?0:n}function uet(n){return n===10?oet:n===Math.E?Math.exp:t=>Math.pow(n,t)}function cet(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function kL(n){return(t,e)=>-n(-t,e)}function d2(n){const t=n(FL,HL),e=t.domain;let i=10,r,a;function o(){return r=cet(i),a=uet(i),e()[0]<0?(r=kL(r),a=kL(a),n(aet,set)):n(FL,HL),t}return t.base=function(l){return arguments.length?(i=+l,o()):i},t.domain=function(l){return arguments.length?(e(l),o()):e()},t.ticks=l=>{const h=e();let d=h[0],g=h[h.length-1];const v=g<d;v&&([d,g]=[g,d]);let _=r(d),b=r(g),M,A;const T=l==null?10:+l;let E=[];if(!(i%1)&&b-_<T){if(_=Math.floor(_),b=Math.ceil(b),d>0){for(;_<=b;++_)for(M=1;M<i;++M)if(A=_<0?M/a(-_):M*a(_),!(A<d)){if(A>g)break;E.push(A)}}else for(;_<=b;++_)for(M=i-1;M>=1;--M)if(A=_>0?M/a(-_):M*a(_),!(A<d)){if(A>g)break;E.push(A)}E.length*2<T&&(E=pA(d,g,T))}else E=pA(_,b,Math.min(b-_,T)).map(a);return v?E.reverse():E},t.tickFormat=(l,h)=>{if(l==null&&(l=10),h==null&&(h=i===10?"s":","),typeof h!="function"&&(!(i%1)&&(h=Qy(h)).precision==null&&(h.trim=!0),h=h2(h)),l===1/0)return h;const d=Math.max(1,i*l/t.ticks().length);return g=>{let v=g/a(Math.round(r(g)));return v*i<i-.5&&(v*=i),v<=d?h(g):""}},t.nice=()=>e(r5(e(),{floor:l=>a(Math.floor(r(l))),ceil:l=>a(Math.ceil(r(l)))})),t}function a5(){const n=d2(PS()).domain([1,10]);return n.copy=()=>M0(n,a5()).base(n.base()),zl.apply(n,arguments),n}function jL(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function VL(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function p2(n){var t=1,e=n(jL(t),VL(t));return e.constant=function(i){return arguments.length?n(jL(t=+i),VL(t)):t},Xh(e)}function s5(){var n=p2(PS());return n.copy=function(){return M0(n,s5()).constant(n.constant())},zl.apply(n,arguments)}function GL(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function fet(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function het(n){return n<0?-n*n:n*n}function m2(n){var t=n(Ps,Ps),e=1;function i(){return e===1?n(Ps,Ps):e===.5?n(fet,het):n(GL(e),GL(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,i()):e},Xh(t)}function g2(){var n=m2(PS());return n.copy=function(){return M0(n,g2()).exponent(n.exponent())},zl.apply(n,arguments),n}function det(){return g2.apply(null,arguments).exponent(.5)}function qL(n){return Math.sign(n)*n*n}function pet(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function o5(){var n=c2(),t=[0,1],e=!1,i;function r(a){var o=pet(n(a));return isNaN(o)?i:e?Math.round(o):o}return r.invert=function(a){return n.invert(qL(a))},r.domain=function(a){return arguments.length?(n.domain(a),r):n.domain()},r.range=function(a){return arguments.length?(n.range((t=Array.from(a,_1)).map(qL)),r):t.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(e=!!a,r):e},r.clamp=function(a){return arguments.length?(n.clamp(a),r):n.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return o5(n.domain(),t).round(e).clamp(n.clamp()).unknown(i)},zl.apply(r,arguments),Xh(r)}function l5(){var n=[],t=[],e=[],i;function r(){var o=0,l=Math.max(1,t.length);for(e=new Array(l-1);++o<l;)e[o-1]=vtt(n,o/l);return a}function a(o){return o==null||isNaN(o=+o)?i:t[b0(e,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?e[l-1]:n[0],l<e.length?e[l]:n[n.length-1]]},a.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let l of o)l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(Ih),r()},a.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return e.slice()},a.copy=function(){return l5().domain(n).range(t).unknown(i)},zl.apply(a,arguments)}function u5(){var n=0,t=1,e=1,i=[.5],r=[0,1],a;function o(h){return h!=null&&h<=h?r[b0(i,h,0,e)]:a}function l(){var h=-1;for(i=new Array(e);++h<e;)i[h]=((h+1)*t-(h-e)*n)/(e+1);return o}return o.domain=function(h){return arguments.length?([n,t]=h,n=+n,t=+t,l()):[n,t]},o.range=function(h){return arguments.length?(e=(r=Array.from(h)).length-1,l()):r.slice()},o.invertExtent=function(h){var d=r.indexOf(h);return d<0?[NaN,NaN]:d<1?[n,i[0]]:d>=e?[i[e-1],t]:[i[d-1],i[d]]},o.unknown=function(h){return arguments.length&&(a=h),o},o.thresholds=function(){return i.slice()},o.copy=function(){return u5().domain([n,t]).range(r).unknown(a)},zl.apply(Xh(o),arguments)}function c5(){var n=[.5],t=[0,1],e,i=1;function r(a){return a!=null&&a<=a?t[b0(n,a,0,i)]:e}return r.domain=function(a){return arguments.length?(n=Array.from(a),i=Math.min(n.length,t.length-1),r):n.slice()},r.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(n.length,t.length-1),r):t.slice()},r.invertExtent=function(a){var o=t.indexOf(a);return[n[o-1],n[o]]},r.unknown=function(a){return arguments.length?(e=a,r):e},r.copy=function(){return c5().domain(n).range(t).unknown(e)},zl.apply(r,arguments)}const ZT=new Date,KT=new Date;function Qr(n,t,e,i){function r(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(n(a=new Date(+a)),a),r.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),r.round=a=>{const o=r(a),l=r.ceil(a);return a-o<l-a?o:l},r.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),r.range=(a,o,l)=>{const h=[];if(a=r.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return h;let d;do h.push(d=new Date(+a)),t(a,l),n(a);while(d<a&&a<o);return h},r.filter=a=>Qr(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),e&&(r.count=(a,o)=>(ZT.setTime(+a),KT.setTime(+o),n(ZT),n(KT),Math.floor(e(ZT,KT))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?o=>i(o)%a===0:o=>r.count(0,o)%a===0):r)),r}const b1=Qr(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);b1.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Qr(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):b1);b1.range;const gf=1e3,Al=gf*60,vf=Al*60,Cf=vf*24,v2=Cf*7,WL=Cf*30,QT=Cf*365,lp=Qr(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*gf)},(n,t)=>(t-n)/gf,n=>n.getUTCSeconds());lp.range;const y2=Qr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*gf)},(n,t)=>{n.setTime(+n+t*Al)},(n,t)=>(t-n)/Al,n=>n.getMinutes());y2.range;const _2=Qr(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Al)},(n,t)=>(t-n)/Al,n=>n.getUTCMinutes());_2.range;const x2=Qr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*gf-n.getMinutes()*Al)},(n,t)=>{n.setTime(+n+t*vf)},(n,t)=>(t-n)/vf,n=>n.getHours());x2.range;const b2=Qr(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*vf)},(n,t)=>(t-n)/vf,n=>n.getUTCHours());b2.range;const E0=Qr(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Al)/Cf,n=>n.getDate()-1);E0.range;const DS=Qr(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Cf,n=>n.getUTCDate()-1);DS.range;const f5=Qr(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Cf,n=>Math.floor(n/Cf));f5.range;function Up(n){return Qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Al)/v2)}const LS=Up(0),S1=Up(1),met=Up(2),get=Up(3),Ag=Up(4),vet=Up(5),yet=Up(6);LS.range;S1.range;met.range;get.range;Ag.range;vet.range;yet.range;function zp(n){return Qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/v2)}const NS=zp(0),M1=zp(1),_et=zp(2),xet=zp(3),Cg=zp(4),bet=zp(5),Met=zp(6);NS.range;M1.range;_et.range;xet.range;Cg.range;bet.range;Met.range;const S2=Qr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());S2.range;const M2=Qr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());M2.range;const Rf=Qr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Rf.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Rf.range;const Of=Qr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Of.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Of.range;function h5(n,t,e,i,r,a){const o=[[lp,1,gf],[lp,5,5*gf],[lp,15,15*gf],[lp,30,30*gf],[a,1,Al],[a,5,5*Al],[a,15,15*Al],[a,30,30*Al],[r,1,vf],[r,3,3*vf],[r,6,6*vf],[r,12,12*vf],[i,1,Cf],[i,2,2*Cf],[e,1,v2],[t,1,WL],[t,3,3*WL],[n,1,QT]];function l(d,g,v){const _=g<d;_&&([d,g]=[g,d]);const b=v&&typeof v.range=="function"?v:h(d,g,v),M=b?b.range(d,+g+1):[];return _?M.reverse():M}function h(d,g,v){const _=Math.abs(g-d)/v,b=r2(([,,T])=>T).right(o,_);if(b===o.length)return n.every(gA(d/QT,g/QT,v));if(b===0)return b1.every(Math.max(gA(d,g,v),1));const[M,A]=o[_/o[b-1][2]<o[b][2]/_?b-1:b];return M.every(A)}return[l,h]}const[Eet,Tet]=h5(Of,M2,NS,f5,b2,_2),[wet,Aet]=h5(Rf,S2,LS,E0,x2,y2);function $T(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function JT(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Jv(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function Cet(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,a=n.days,o=n.shortDays,l=n.months,h=n.shortMonths,d=ty(r),g=ey(r),v=ty(a),_=ey(a),b=ty(o),M=ey(o),A=ty(l),T=ey(l),E=ty(h),O=ey(h),P={a:it,A:tt,b:yt,B:Q,c:null,d:$L,e:$L,f:Qet,g:ont,G:unt,H:Yet,I:Zet,j:Ket,L:d5,m:$et,M:Jet,p:ut,q:gt,Q:eN,s:nN,S:tnt,u:ent,U:nnt,V:int,w:rnt,W:ant,x:null,X:null,y:snt,Y:lnt,Z:cnt,"%":tN},z={a:Lt,A:Dt,b:Zt,B:_t,c:null,d:JL,e:JL,f:pnt,g:Ent,G:wnt,H:fnt,I:hnt,j:dnt,L:m5,m:mnt,M:gnt,p:Qt,q:ae,Q:eN,s:nN,S:vnt,u:ynt,U:_nt,V:xnt,w:bnt,W:Snt,x:null,X:null,y:Mnt,Y:Tnt,Z:Ant,"%":tN},F={a:j,A:K,b:st,B:lt,c:dt,d:KL,e:KL,f:Get,g:ZL,G:YL,H:QL,I:QL,j:Het,L:Vet,m:Fet,M:ket,p:G,q:Bet,Q:Wet,s:Xet,S:jet,u:Let,U:Net,V:Uet,w:Det,W:zet,x:vt,X,y:ZL,Y:YL,Z:Iet,"%":qet};P.x=I(e,P),P.X=I(i,P),P.c=I(t,P),z.x=I(e,z),z.X=I(i,z),z.c=I(t,z);function I(Xt,le){return function(pe){var jt=[],ot=-1,Ht=0,Gt=Xt.length,Yt,At,me;for(pe instanceof Date||(pe=new Date(+pe));++ot<Gt;)Xt.charCodeAt(ot)===37&&(jt.push(Xt.slice(Ht,ot)),(At=XL[Yt=Xt.charAt(++ot)])!=null?Yt=Xt.charAt(++ot):At=Yt==="e"?" ":"0",(me=le[Yt])&&(Yt=me(pe,At)),jt.push(Yt),Ht=ot+1);return jt.push(Xt.slice(Ht,ot)),jt.join("")}}function q(Xt,le){return function(pe){var jt=Jv(1900,void 0,1),ot=Y(jt,Xt,pe+="",0),Ht,Gt;if(ot!=pe.length)return null;if("Q"in jt)return new Date(jt.Q);if("s"in jt)return new Date(jt.s*1e3+("L"in jt?jt.L:0));if(le&&!("Z"in jt)&&(jt.Z=0),"p"in jt&&(jt.H=jt.H%12+jt.p*12),jt.m===void 0&&(jt.m="q"in jt?jt.q:0),"V"in jt){if(jt.V<1||jt.V>53)return null;"w"in jt||(jt.w=1),"Z"in jt?(Ht=JT(Jv(jt.y,0,1)),Gt=Ht.getUTCDay(),Ht=Gt>4||Gt===0?M1.ceil(Ht):M1(Ht),Ht=DS.offset(Ht,(jt.V-1)*7),jt.y=Ht.getUTCFullYear(),jt.m=Ht.getUTCMonth(),jt.d=Ht.getUTCDate()+(jt.w+6)%7):(Ht=$T(Jv(jt.y,0,1)),Gt=Ht.getDay(),Ht=Gt>4||Gt===0?S1.ceil(Ht):S1(Ht),Ht=E0.offset(Ht,(jt.V-1)*7),jt.y=Ht.getFullYear(),jt.m=Ht.getMonth(),jt.d=Ht.getDate()+(jt.w+6)%7)}else("W"in jt||"U"in jt)&&("w"in jt||(jt.w="u"in jt?jt.u%7:"W"in jt?1:0),Gt="Z"in jt?JT(Jv(jt.y,0,1)).getUTCDay():$T(Jv(jt.y,0,1)).getDay(),jt.m=0,jt.d="W"in jt?(jt.w+6)%7+jt.W*7-(Gt+5)%7:jt.w+jt.U*7-(Gt+6)%7);return"Z"in jt?(jt.H+=jt.Z/100|0,jt.M+=jt.Z%100,JT(jt)):$T(jt)}}function Y(Xt,le,pe,jt){for(var ot=0,Ht=le.length,Gt=pe.length,Yt,At;ot<Ht;){if(jt>=Gt)return-1;if(Yt=le.charCodeAt(ot++),Yt===37){if(Yt=le.charAt(ot++),At=F[Yt in XL?le.charAt(ot++):Yt],!At||(jt=At(Xt,pe,jt))<0)return-1}else if(Yt!=pe.charCodeAt(jt++))return-1}return jt}function G(Xt,le,pe){var jt=d.exec(le.slice(pe));return jt?(Xt.p=g.get(jt[0].toLowerCase()),pe+jt[0].length):-1}function j(Xt,le,pe){var jt=b.exec(le.slice(pe));return jt?(Xt.w=M.get(jt[0].toLowerCase()),pe+jt[0].length):-1}function K(Xt,le,pe){var jt=v.exec(le.slice(pe));return jt?(Xt.w=_.get(jt[0].toLowerCase()),pe+jt[0].length):-1}function st(Xt,le,pe){var jt=E.exec(le.slice(pe));return jt?(Xt.m=O.get(jt[0].toLowerCase()),pe+jt[0].length):-1}function lt(Xt,le,pe){var jt=A.exec(le.slice(pe));return jt?(Xt.m=T.get(jt[0].toLowerCase()),pe+jt[0].length):-1}function dt(Xt,le,pe){return Y(Xt,t,le,pe)}function vt(Xt,le,pe){return Y(Xt,e,le,pe)}function X(Xt,le,pe){return Y(Xt,i,le,pe)}function it(Xt){return o[Xt.getDay()]}function tt(Xt){return a[Xt.getDay()]}function yt(Xt){return h[Xt.getMonth()]}function Q(Xt){return l[Xt.getMonth()]}function ut(Xt){return r[+(Xt.getHours()>=12)]}function gt(Xt){return 1+~~(Xt.getMonth()/3)}function Lt(Xt){return o[Xt.getUTCDay()]}function Dt(Xt){return a[Xt.getUTCDay()]}function Zt(Xt){return h[Xt.getUTCMonth()]}function _t(Xt){return l[Xt.getUTCMonth()]}function Qt(Xt){return r[+(Xt.getUTCHours()>=12)]}function ae(Xt){return 1+~~(Xt.getUTCMonth()/3)}return{format:function(Xt){var le=I(Xt+="",P);return le.toString=function(){return Xt},le},parse:function(Xt){var le=q(Xt+="",!1);return le.toString=function(){return Xt},le},utcFormat:function(Xt){var le=I(Xt+="",z);return le.toString=function(){return Xt},le},utcParse:function(Xt){var le=q(Xt+="",!0);return le.toString=function(){return Xt},le}}}var XL={"-":"",_:" ",0:"0"},_a=/^\s*\d+/,Ret=/^%/,Oet=/[\\^$*+?|[\]().{}]/g;function ii(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",a=r.length;return i+(a<e?new Array(e-a+1).join(t)+r:r)}function Pet(n){return n.replace(Oet,"\\$&")}function ty(n){return new RegExp("^(?:"+n.map(Pet).join("|")+")","i")}function ey(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function Det(n,t,e){var i=_a.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function Let(n,t,e){var i=_a.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function Net(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function Uet(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function zet(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function YL(n,t,e){var i=_a.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function ZL(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Iet(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function Bet(n,t,e){var i=_a.exec(t.slice(e,e+1));return i?(n.q=i[0]*3-3,e+i[0].length):-1}function Fet(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function KL(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function Het(n,t,e){var i=_a.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function QL(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function ket(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function jet(n,t,e){var i=_a.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function Vet(n,t,e){var i=_a.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function Get(n,t,e){var i=_a.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function qet(n,t,e){var i=Ret.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function Wet(n,t,e){var i=_a.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function Xet(n,t,e){var i=_a.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function $L(n,t){return ii(n.getDate(),t,2)}function Yet(n,t){return ii(n.getHours(),t,2)}function Zet(n,t){return ii(n.getHours()%12||12,t,2)}function Ket(n,t){return ii(1+E0.count(Rf(n),n),t,3)}function d5(n,t){return ii(n.getMilliseconds(),t,3)}function Qet(n,t){return d5(n,t)+"000"}function $et(n,t){return ii(n.getMonth()+1,t,2)}function Jet(n,t){return ii(n.getMinutes(),t,2)}function tnt(n,t){return ii(n.getSeconds(),t,2)}function ent(n){var t=n.getDay();return t===0?7:t}function nnt(n,t){return ii(LS.count(Rf(n)-1,n),t,2)}function p5(n){var t=n.getDay();return t>=4||t===0?Ag(n):Ag.ceil(n)}function int(n,t){return n=p5(n),ii(Ag.count(Rf(n),n)+(Rf(n).getDay()===4),t,2)}function rnt(n){return n.getDay()}function ant(n,t){return ii(S1.count(Rf(n)-1,n),t,2)}function snt(n,t){return ii(n.getFullYear()%100,t,2)}function ont(n,t){return n=p5(n),ii(n.getFullYear()%100,t,2)}function lnt(n,t){return ii(n.getFullYear()%1e4,t,4)}function unt(n,t){var e=n.getDay();return n=e>=4||e===0?Ag(n):Ag.ceil(n),ii(n.getFullYear()%1e4,t,4)}function cnt(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ii(t/60|0,"0",2)+ii(t%60,"0",2)}function JL(n,t){return ii(n.getUTCDate(),t,2)}function fnt(n,t){return ii(n.getUTCHours(),t,2)}function hnt(n,t){return ii(n.getUTCHours()%12||12,t,2)}function dnt(n,t){return ii(1+DS.count(Of(n),n),t,3)}function m5(n,t){return ii(n.getUTCMilliseconds(),t,3)}function pnt(n,t){return m5(n,t)+"000"}function mnt(n,t){return ii(n.getUTCMonth()+1,t,2)}function gnt(n,t){return ii(n.getUTCMinutes(),t,2)}function vnt(n,t){return ii(n.getUTCSeconds(),t,2)}function ynt(n){var t=n.getUTCDay();return t===0?7:t}function _nt(n,t){return ii(NS.count(Of(n)-1,n),t,2)}function g5(n){var t=n.getUTCDay();return t>=4||t===0?Cg(n):Cg.ceil(n)}function xnt(n,t){return n=g5(n),ii(Cg.count(Of(n),n)+(Of(n).getUTCDay()===4),t,2)}function bnt(n){return n.getUTCDay()}function Snt(n,t){return ii(M1.count(Of(n)-1,n),t,2)}function Mnt(n,t){return ii(n.getUTCFullYear()%100,t,2)}function Ent(n,t){return n=g5(n),ii(n.getUTCFullYear()%100,t,2)}function Tnt(n,t){return ii(n.getUTCFullYear()%1e4,t,4)}function wnt(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Cg(n):Cg.ceil(n),ii(n.getUTCFullYear()%1e4,t,4)}function Ant(){return"+0000"}function tN(){return"%"}function eN(n){return+n}function nN(n){return Math.floor(+n/1e3)}var tg,v5,y5;Cnt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cnt(n){return tg=Cet(n),v5=tg.format,tg.parse,y5=tg.utcFormat,tg.utcParse,tg}function Rnt(n){return new Date(n)}function Ont(n){return n instanceof Date?+n:+new Date(+n)}function E2(n,t,e,i,r,a,o,l,h,d){var g=c2(),v=g.invert,_=g.domain,b=d(".%L"),M=d(":%S"),A=d("%I:%M"),T=d("%I %p"),E=d("%a %d"),O=d("%b %d"),P=d("%B"),z=d("%Y");function F(I){return(h(I)<I?b:l(I)<I?M:o(I)<I?A:a(I)<I?T:i(I)<I?r(I)<I?E:O:e(I)<I?P:z)(I)}return g.invert=function(I){return new Date(v(I))},g.domain=function(I){return arguments.length?_(Array.from(I,Ont)):_().map(Rnt)},g.ticks=function(I){var q=_();return n(q[0],q[q.length-1],I??10)},g.tickFormat=function(I,q){return q==null?F:d(q)},g.nice=function(I){var q=_();return(!I||typeof I.range!="function")&&(I=t(q[0],q[q.length-1],I??10)),I?_(r5(q,I)):g},g.copy=function(){return M0(g,E2(n,t,e,i,r,a,o,l,h,d))},g}function Pnt(){return zl.apply(E2(wet,Aet,Rf,S2,LS,E0,x2,y2,lp,v5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dnt(){return zl.apply(E2(Eet,Tet,Of,M2,NS,DS,b2,_2,lp,y5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function US(){var n=0,t=1,e,i,r,a,o=Ps,l=!1,h;function d(v){return v==null||isNaN(v=+v)?h:o(r===0?.5:(v=(a(v)-e)*r,l?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([n,t]=v,e=a(n=+n),i=a(t=+t),r=e===i?0:1/(i-e),d):[n,t]},d.clamp=function(v){return arguments.length?(l=!!v,d):l},d.interpolator=function(v){return arguments.length?(o=v,d):o};function g(v){return function(_){var b,M;return arguments.length?([b,M]=_,o=v(b,M),d):[o(0),o(1)]}}return d.range=g(Fg),d.rangeRound=g(u2),d.unknown=function(v){return arguments.length?(h=v,d):h},function(v){return a=v,e=v(n),i=v(t),r=e===i?0:1/(i-e),d}}function Yh(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function _5(){var n=Xh(US()(Ps));return n.copy=function(){return Yh(n,_5())},Lf.apply(n,arguments)}function x5(){var n=d2(US()).domain([1,10]);return n.copy=function(){return Yh(n,x5()).base(n.base())},Lf.apply(n,arguments)}function b5(){var n=p2(US());return n.copy=function(){return Yh(n,b5()).constant(n.constant())},Lf.apply(n,arguments)}function T2(){var n=m2(US());return n.copy=function(){return Yh(n,T2()).exponent(n.exponent())},Lf.apply(n,arguments)}function Lnt(){return T2.apply(null,arguments).exponent(.5)}function S5(){var n=[],t=Ps;function e(i){if(i!=null&&!isNaN(i=+i))return t((b0(n,i,1)-1)/(n.length-1))}return e.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Ih),e},e.interpolator=function(i){return arguments.length?(t=i,e):t},e.range=function(){return n.map((i,r)=>t(r/(n.length-1)))},e.quantiles=function(i){return Array.from({length:i+1},(r,a)=>gtt(n,a/i))},e.copy=function(){return S5(t).domain(n)},Lf.apply(e,arguments)}function zS(){var n=0,t=.5,e=1,i=1,r,a,o,l,h,d=Ps,g,v=!1,_;function b(A){return isNaN(A=+A)?_:(A=.5+((A=+g(A))-a)*(i*A<i*a?l:h),d(v?Math.max(0,Math.min(1,A)):A))}b.domain=function(A){return arguments.length?([n,t,e]=A,r=g(n=+n),a=g(t=+t),o=g(e=+e),l=r===a?0:.5/(a-r),h=a===o?0:.5/(o-a),i=a<r?-1:1,b):[n,t,e]},b.clamp=function(A){return arguments.length?(v=!!A,b):v},b.interpolator=function(A){return arguments.length?(d=A,b):d};function M(A){return function(T){var E,O,P;return arguments.length?([E,O,P]=T,d=Vtt(A,[E,O,P]),b):[d(0),d(.5),d(1)]}}return b.range=M(Fg),b.rangeRound=M(u2),b.unknown=function(A){return arguments.length?(_=A,b):_},function(A){return g=A,r=A(n),a=A(t),o=A(e),l=r===a?0:.5/(a-r),h=a===o?0:.5/(o-a),i=a<r?-1:1,b}}function M5(){var n=Xh(zS()(Ps));return n.copy=function(){return Yh(n,M5())},Lf.apply(n,arguments)}function E5(){var n=d2(zS()).domain([.1,1,10]);return n.copy=function(){return Yh(n,E5()).base(n.base())},Lf.apply(n,arguments)}function T5(){var n=p2(zS());return n.copy=function(){return Yh(n,T5()).constant(n.constant())},Lf.apply(n,arguments)}function w2(){var n=m2(zS());return n.copy=function(){return Yh(n,w2()).exponent(n.exponent())},Lf.apply(n,arguments)}function Nnt(){return w2.apply(null,arguments).exponent(.5)}const ly=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:s2,scaleDiverging:M5,scaleDivergingLog:E5,scaleDivergingPow:w2,scaleDivergingSqrt:Nnt,scaleDivergingSymlog:T5,scaleIdentity:i5,scaleImplicit:vA,scaleLinear:n5,scaleLog:a5,scaleOrdinal:a2,scalePoint:_tt,scalePow:g2,scaleQuantile:l5,scaleQuantize:u5,scaleRadial:o5,scaleSequential:_5,scaleSequentialLog:x5,scaleSequentialPow:T2,scaleSequentialQuantile:S5,scaleSequentialSqrt:Lnt,scaleSequentialSymlog:b5,scaleSqrt:det,scaleSymlog:s5,scaleThreshold:c5,scaleTime:Pnt,scaleUtc:Dnt,tickFormat:e5},Symbol.toStringTag,{value:"Module"}));var Zh=n=>n.chartData,A2=Kt([Zh],n=>{var t=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:t,dataStartIndex:0}}),C2=(n,t,e,i)=>i?A2(n):Zh(n);function Rg(n){if(Array.isArray(n)&&n.length===2){var[t,e]=n;if(Su(t)&&Su(e))return!0}return!1}function iN(n,t,e){return e?n:[Math.min(n[0],t[0]),Math.max(n[1],t[1])]}function Unt(n,t){if(t&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[e,i]=n,r,a;if(Su(e))r=e;else if(typeof e=="function")return;if(Su(i))a=i;else if(typeof i=="function")return;var o=[r,a];if(Rg(o))return o}}function znt(n,t,e){if(!(!e&&t==null)){if(typeof n=="function"&&t!=null)try{var i=n(t,e);if(Rg(i))return iN(i,t,e)}catch{}if(Array.isArray(n)&&n.length===2){var[r,a]=n,o,l;if(r==="auto")t!=null&&(o=Math.min(...t));else if(un(r))o=r;else if(typeof r=="function")try{t!=null&&(o=r(t?.[0]))}catch{}else if(typeof r=="string"&&X3.test(r)){var h=X3.exec(r);if(h==null||t==null)o=void 0;else{var d=+h[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(un(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&Y3.test(a)){var g=Y3.exec(a);if(g==null||t==null)l=void 0;else{var v=+g[1];l=t[1]+v}}else l=t?.[1];var _=[o,l];if(Rg(_))return t==null?_:iN(_,t,e)}}}var Hg=1e9,Int={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O2,Qi=!0,Dl="[DecimalError] ",gp=Dl+"Invalid argument: ",R2=Dl+"Exponent out of range: ",kg=Math.floor,Jd=Math.pow,Bnt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lo,ma=1e7,Bi=7,w5=9007199254740991,E1=kg(w5/Bi),Fe={};Fe.absoluteValue=Fe.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Fe.comparedTo=Fe.cmp=function(n){var t,e,i,r,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(i=a.d.length,r=n.d.length,t=0,e=i<r?i:r;t<e;++t)if(a.d[t]!==n.d[t])return a.d[t]>n.d[t]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*Bi;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};Fe.dividedBy=Fe.div=function(n){return bf(this,new this.constructor(n))};Fe.dividedToIntegerBy=Fe.idiv=function(n){var t=this,e=t.constructor;return Pi(bf(t,new e(n),0,1),e.precision)};Fe.equals=Fe.eq=function(n){return!this.cmp(n)};Fe.exponent=function(){return jr(this)};Fe.greaterThan=Fe.gt=function(n){return this.cmp(n)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(n){return this.cmp(n)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(n){return this.cmp(n)<0};Fe.lessThanOrEqualTo=Fe.lte=function(n){return this.cmp(n)<1};Fe.logarithm=Fe.log=function(n){var t,e=this,i=e.constructor,r=i.precision,a=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(Lo))throw Error(Dl+"NaN");if(e.s<1)throw Error(Dl+(e.s?"NaN":"-Infinity"));return e.eq(Lo)?new i(0):(Qi=!1,t=bf($y(e,a),$y(n,a),a),Qi=!0,Pi(t,r))};Fe.minus=Fe.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?R5(t,n):A5(t,(n.s=-n.s,n))};Fe.modulo=Fe.mod=function(n){var t,e=this,i=e.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Dl+"NaN");return e.s?(Qi=!1,t=bf(e,n,0,1).times(n),Qi=!0,e.minus(t)):Pi(new i(e),r)};Fe.naturalExponential=Fe.exp=function(){return C5(this)};Fe.naturalLogarithm=Fe.ln=function(){return $y(this)};Fe.negated=Fe.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Fe.plus=Fe.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?A5(t,n):R5(t,(n.s=-n.s,n))};Fe.precision=Fe.sd=function(n){var t,e,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(gp+n);if(t=jr(r)+1,i=r.d.length-1,e=i*Bi+1,i=r.d[i],i){for(;i%10==0;i/=10)e--;for(i=r.d[0];i>=10;i/=10)e++}return n&&t>e?t:e};Fe.squareRoot=Fe.sqrt=function(){var n,t,e,i,r,a,o,l=this,h=l.constructor;if(l.s<1){if(!l.s)return new h(0);throw Error(Dl+"NaN")}for(n=jr(l),Qi=!1,r=Math.sqrt(+l),r==0||r==1/0?(t=pc(l.d),(t.length+n)%2==0&&(t+="0"),r=Math.sqrt(t),n=kg((n+1)/2)-(n<0||n%2),r==1/0?t="5e"+n:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),i=new h(t)):i=new h(r.toString()),e=h.precision,r=o=e+3;;)if(a=i,i=a.plus(bf(l,a,o+2)).times(.5),pc(a.d).slice(0,o)===(t=pc(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),r==o&&t=="4999"){if(Pi(a,e+1,0),a.times(a).eq(l)){i=a;break}}else if(t!="9999")break;o+=4}return Qi=!0,Pi(i,e)};Fe.times=Fe.mul=function(n){var t,e,i,r,a,o,l,h,d,g=this,v=g.constructor,_=g.d,b=(n=new v(n)).d;if(!g.s||!n.s)return new v(0);for(n.s*=g.s,e=g.e+n.e,h=_.length,d=b.length,h<d&&(a=_,_=b,b=a,o=h,h=d,d=o),a=[],o=h+d,i=o;i--;)a.push(0);for(i=d;--i>=0;){for(t=0,r=h+i;r>i;)l=a[r]+b[i]*_[r-i-1]+t,a[r--]=l%ma|0,t=l/ma|0;a[r]=(a[r]+t)%ma|0}for(;!a[--o];)a.pop();return t?++e:a.shift(),n.d=a,n.e=e,Qi?Pi(n,v.precision):n};Fe.toDecimalPlaces=Fe.todp=function(n,t){var e=this,i=e.constructor;return e=new i(e),n===void 0?e:(xc(n,0,Hg),t===void 0?t=i.rounding:xc(t,0,8),Pi(e,n+jr(e)+1,t))};Fe.toExponential=function(n,t){var e,i=this,r=i.constructor;return n===void 0?e=Cp(i,!0):(xc(n,0,Hg),t===void 0?t=r.rounding:xc(t,0,8),i=Pi(new r(i),n+1,t),e=Cp(i,!0,n+1)),e};Fe.toFixed=function(n,t){var e,i,r=this,a=r.constructor;return n===void 0?Cp(r):(xc(n,0,Hg),t===void 0?t=a.rounding:xc(t,0,8),i=Pi(new a(r),n+jr(r)+1,t),e=Cp(i.abs(),!1,n+jr(i)+1),r.isneg()&&!r.isZero()?"-"+e:e)};Fe.toInteger=Fe.toint=function(){var n=this,t=n.constructor;return Pi(new t(n),jr(n)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(n){var t,e,i,r,a,o,l=this,h=l.constructor,d=12,g=+(n=new h(n));if(!n.s)return new h(Lo);if(l=new h(l),!l.s){if(n.s<1)throw Error(Dl+"Infinity");return l}if(l.eq(Lo))return l;if(i=h.precision,n.eq(Lo))return Pi(l,i);if(t=n.e,e=n.d.length-1,o=t>=e,a=l.s,o){if((e=g<0?-g:g)<=w5){for(r=new h(Lo),t=Math.ceil(i/Bi+4),Qi=!1;e%2&&(r=r.times(l),aN(r.d,t)),e=kg(e/2),e!==0;)l=l.times(l),aN(l.d,t);return Qi=!0,n.s<0?new h(Lo).div(r):Pi(r,i)}}else if(a<0)throw Error(Dl+"NaN");return a=a<0&&n.d[Math.max(t,e)]&1?-1:1,l.s=1,Qi=!1,r=n.times($y(l,i+d)),Qi=!0,r=C5(r),r.s=a,r};Fe.toPrecision=function(n,t){var e,i,r=this,a=r.constructor;return n===void 0?(e=jr(r),i=Cp(r,e<=a.toExpNeg||e>=a.toExpPos)):(xc(n,1,Hg),t===void 0?t=a.rounding:xc(t,0,8),r=Pi(new a(r),n,t),e=jr(r),i=Cp(r,n<=e||e<=a.toExpNeg,n)),i};Fe.toSignificantDigits=Fe.tosd=function(n,t){var e=this,i=e.constructor;return n===void 0?(n=i.precision,t=i.rounding):(xc(n,1,Hg),t===void 0?t=i.rounding:xc(t,0,8)),Pi(new i(e),n,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=jr(n),e=n.constructor;return Cp(n,t<=e.toExpNeg||t>=e.toExpPos)};function A5(n,t){var e,i,r,a,o,l,h,d,g=n.constructor,v=g.precision;if(!n.s||!t.s)return t.s||(t=new g(n)),Qi?Pi(t,v):t;if(h=n.d,d=t.d,o=n.e,r=t.e,h=h.slice(),a=o-r,a){for(a<0?(i=h,a=-a,l=d.length):(i=d,r=o,l=h.length),o=Math.ceil(v/Bi),l=o>l?o+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=h.length,a=d.length,l-a<0&&(a=l,i=d,d=h,h=i),e=0;a;)e=(h[--a]=h[a]+d[a]+e)/ma|0,h[a]%=ma;for(e&&(h.unshift(e),++r),l=h.length;h[--l]==0;)h.pop();return t.d=h,t.e=r,Qi?Pi(t,v):t}function xc(n,t,e){if(n!==~~n||n<t||n>e)throw Error(gp+n)}function pc(n){var t,e,i,r=n.length-1,a="",o=n[0];if(r>0){for(a+=o,t=1;t<r;t++)i=n[t]+"",e=Bi-i.length,e&&(a+=Ch(e)),a+=i;o=n[t],i=o+"",e=Bi-i.length,e&&(a+=Ch(e))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bf=(function(){function n(i,r){var a,o=0,l=i.length;for(i=i.slice();l--;)a=i[l]*r+o,i[l]=a%ma|0,o=a/ma|0;return o&&i.unshift(o),i}function t(i,r,a,o){var l,h;if(a!=o)h=a>o?1:-1;else for(l=h=0;l<a;l++)if(i[l]!=r[l]){h=i[l]>r[l]?1:-1;break}return h}function e(i,r,a){for(var o=0;a--;)i[a]-=o,o=i[a]<r[a]?1:0,i[a]=o*ma+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,o){var l,h,d,g,v,_,b,M,A,T,E,O,P,z,F,I,q,Y,G=i.constructor,j=i.s==r.s?1:-1,K=i.d,st=r.d;if(!i.s)return new G(i);if(!r.s)throw Error(Dl+"Division by zero");for(h=i.e-r.e,q=st.length,F=K.length,b=new G(j),M=b.d=[],d=0;st[d]==(K[d]||0);)++d;if(st[d]>(K[d]||0)&&--h,a==null?O=a=G.precision:o?O=a+(jr(i)-jr(r))+1:O=a,O<0)return new G(0);if(O=O/Bi+2|0,d=0,q==1)for(g=0,st=st[0],O++;(d<F||g)&&O--;d++)P=g*ma+(K[d]||0),M[d]=P/st|0,g=P%st|0;else{for(g=ma/(st[0]+1)|0,g>1&&(st=n(st,g),K=n(K,g),q=st.length,F=K.length),z=q,A=K.slice(0,q),T=A.length;T<q;)A[T++]=0;Y=st.slice(),Y.unshift(0),I=st[0],st[1]>=ma/2&&++I;do g=0,l=t(st,A,q,T),l<0?(E=A[0],q!=T&&(E=E*ma+(A[1]||0)),g=E/I|0,g>1?(g>=ma&&(g=ma-1),v=n(st,g),_=v.length,T=A.length,l=t(v,A,_,T),l==1&&(g--,e(v,q<_?Y:st,_))):(g==0&&(l=g=1),v=st.slice()),_=v.length,_<T&&v.unshift(0),e(A,v,T),l==-1&&(T=A.length,l=t(st,A,q,T),l<1&&(g++,e(A,q<T?Y:st,T))),T=A.length):l===0&&(g++,A=[0]),M[d++]=g,l&&A[0]?A[T++]=K[z]||0:(A=[K[z]],T=1);while((z++<F||A[0]!==void 0)&&O--)}return M[0]||M.shift(),b.e=h,Pi(b,o?a+jr(b)+1:a)}})();function C5(n,t){var e,i,r,a,o,l,h=0,d=0,g=n.constructor,v=g.precision;if(jr(n)>16)throw Error(R2+jr(n));if(!n.s)return new g(Lo);for(Qi=!1,l=v,o=new g(.03125);n.abs().gte(.1);)n=n.times(o),d+=5;for(i=Math.log(Jd(2,d))/Math.LN10*2+5|0,l+=i,e=r=a=new g(Lo),g.precision=l;;){if(r=Pi(r.times(n),l),e=e.times(++h),o=a.plus(bf(r,e,l)),pc(o.d).slice(0,l)===pc(a.d).slice(0,l)){for(;d--;)a=Pi(a.times(a),l);return g.precision=v,t==null?(Qi=!0,Pi(a,v)):a}a=o}}function jr(n){for(var t=n.e*Bi,e=n.d[0];e>=10;e/=10)t++;return t}function tw(n,t,e){if(t>n.LN10.sd())throw Qi=!0,e&&(n.precision=e),Error(Dl+"LN10 precision limit exceeded");return Pi(new n(n.LN10),t)}function Ch(n){for(var t="";n--;)t+="0";return t}function $y(n,t){var e,i,r,a,o,l,h,d,g,v=1,_=10,b=n,M=b.d,A=b.constructor,T=A.precision;if(b.s<1)throw Error(Dl+(b.s?"NaN":"-Infinity"));if(b.eq(Lo))return new A(0);if(t==null?(Qi=!1,d=T):d=t,b.eq(10))return t==null&&(Qi=!0),tw(A,d);if(d+=_,A.precision=d,e=pc(M),i=e.charAt(0),a=jr(b),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)b=b.times(n),e=pc(b.d),i=e.charAt(0),v++;a=jr(b),i>1?(b=new A("0."+e),a++):b=new A(i+"."+e.slice(1))}else return h=tw(A,d+2,T).times(a+""),b=$y(new A(i+"."+e.slice(1)),d-_).plus(h),A.precision=T,t==null?(Qi=!0,Pi(b,T)):b;for(l=o=b=bf(b.minus(Lo),b.plus(Lo),d),g=Pi(b.times(b),d),r=3;;){if(o=Pi(o.times(g),d),h=l.plus(bf(o,new A(r),d)),pc(h.d).slice(0,d)===pc(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(tw(A,d+2,T).times(a+""))),l=bf(l,new A(v),d),A.precision=T,t==null?(Qi=!0,Pi(l,T)):l;l=h,r+=2}}function rN(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;)++i;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(i,r),t){if(r-=i,e=e-i-1,n.e=kg(e/Bi),n.d=[],i=(e+1)%Bi,e<0&&(i+=Bi),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=Bi;i<r;)n.d.push(+t.slice(i,i+=Bi));t=t.slice(i),i=Bi-t.length}else i-=r;for(;i--;)t+="0";if(n.d.push(+t),Qi&&(n.e>E1||n.e<-E1))throw Error(R2+e)}else n.s=0,n.e=0,n.d=[0];return n}function Pi(n,t,e){var i,r,a,o,l,h,d,g,v=n.d;for(o=1,a=v[0];a>=10;a/=10)o++;if(i=t-o,i<0)i+=Bi,r=t,d=v[g=0];else{if(g=Math.ceil((i+1)/Bi),a=v.length,g>=a)return n;for(d=a=v[g],o=1;a>=10;a/=10)o++;i%=Bi,r=i-Bi+o}if(e!==void 0&&(a=Jd(10,o-r-1),l=d/a%10|0,h=t<0||v[g+1]!==void 0||d%a,h=e<4?(l||h)&&(e==0||e==(n.s<0?3:2)):l>5||l==5&&(e==4||h||e==6&&(i>0?r>0?d/Jd(10,o-r):0:v[g-1])%10&1||e==(n.s<0?8:7))),t<1||!v[0])return h?(a=jr(n),v.length=1,t=t-a-1,v[0]=Jd(10,(Bi-t%Bi)%Bi),n.e=kg(-t/Bi)||0):(v.length=1,v[0]=n.e=n.s=0),n;if(i==0?(v.length=g,a=1,g--):(v.length=g+1,a=Jd(10,Bi-i),v[g]=r>0?(d/Jd(10,o-r)%Jd(10,r)|0)*a:0),h)for(;;)if(g==0){(v[0]+=a)==ma&&(v[0]=1,++n.e);break}else{if(v[g]+=a,v[g]!=ma)break;v[g--]=0,a=1}for(i=v.length;v[--i]===0;)v.pop();if(Qi&&(n.e>E1||n.e<-E1))throw Error(R2+jr(n));return n}function R5(n,t){var e,i,r,a,o,l,h,d,g,v,_=n.constructor,b=_.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new _(n),Qi?Pi(t,b):t;if(h=n.d,v=t.d,i=t.e,d=n.e,h=h.slice(),o=d-i,o){for(g=o<0,g?(e=h,o=-o,l=v.length):(e=v,i=d,l=h.length),r=Math.max(Math.ceil(b/Bi),l)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=h.length,l=v.length,g=r<l,g&&(l=r),r=0;r<l;r++)if(h[r]!=v[r]){g=h[r]<v[r];break}o=0}for(g&&(e=h,h=v,v=e,t.s=-t.s),l=h.length,r=v.length-l;r>0;--r)h[l++]=0;for(r=v.length;r>o;){if(h[--r]<v[r]){for(a=r;a&&h[--a]===0;)h[a]=ma-1;--h[a],h[r]+=ma}h[r]-=v[r]}for(;h[--l]===0;)h.pop();for(;h[0]===0;h.shift())--i;return h[0]?(t.d=h,t.e=i,Qi?Pi(t,b):t):new _(0)}function Cp(n,t,e){var i,r=jr(n),a=pc(n.d),o=a.length;return t?(e&&(i=e-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ch(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+Ch(-r-1)+a,e&&(i=e-o)>0&&(a+=Ch(i))):r>=o?(a+=Ch(r+1-o),e&&(i=e-r-1)>0&&(a=a+"."+Ch(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),e&&(i=e-o)>0&&(r+1===o&&(a+="."),a+=Ch(i))),n.s<0?"-"+a:a}function aN(n,t){if(n.length>t)return n.length=t,!0}function O5(n){var t,e,i;function r(a){var o=this;if(!(o instanceof r))return new r(a);if(o.constructor=r,a instanceof r){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gp+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return rN(o,a.toString())}else if(typeof a!="string")throw Error(gp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Bnt.test(a))rN(o,a);else throw Error(gp+a)}if(r.prototype=Fe,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=O5,r.config=r.set=Fnt,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}function Fnt(n){if(!n||typeof n!="object")throw Error(Dl+"Object expected");var t,e,i,r=["precision",1,Hg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((i=n[e=r[t]])!==void 0)if(kg(i)===i&&i>=r[t+1]&&i<=r[t+2])this[e]=i;else throw Error(gp+e+": "+i);if((i=n[e="LN10"])!==void 0)if(i==Math.LN10)this[e]=new this(i);else throw Error(gp+e+": "+i);return this}var O2=O5(Int);Lo=new O2(1);const gi=O2;var Hnt=n=>n,P5={},D5=n=>n===P5,sN=n=>function t(){return arguments.length===0||arguments.length===1&&D5(arguments.length<=0?void 0:arguments[0])?t:n(...arguments)},L5=(n,t)=>n===1?t:sN(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var a=i.filter(o=>o!==P5).length;return a>=n?t(...i):L5(n-a,sN(function(){for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];var d=i.map(g=>D5(g)?l.shift():g);return t(...d,...l)}))}),IS=n=>L5(n.length,n),bA=(n,t)=>{for(var e=[],i=n;i<t;++i)e[i-n]=i;return e},knt=IS((n,t)=>Array.isArray(t)?t.map(n):Object.keys(t).map(e=>t[e]).map(n)),jnt=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(!e.length)return Hnt;var r=e.reverse(),a=r[0],o=r.slice(1);return function(){return o.reduce((l,h)=>h(l),a(...arguments))}},SA=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join(""),N5=n=>{var t=null,e=null;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t&&r.every((o,l)=>{var h;return o===((h=t)===null||h===void 0?void 0:h[l])})||(t=r,e=n(...r)),e}};function U5(n){var t;return n===0?t=1:t=Math.floor(new gi(n).abs().log(10).toNumber())+1,t}function z5(n,t,e){for(var i=new gi(n),r=0,a=[];i.lt(t)&&r<1e5;)a.push(i.toNumber()),i=i.add(e),r++;return a}IS((n,t,e)=>{var i=+n,r=+t;return i+e*(r-i)});IS((n,t,e)=>{var i=t-+n;return i=i||1/0,(e-n)/i});IS((n,t,e)=>{var i=t-+n;return i=i||1/0,Math.max(0,Math.min(1,(e-n)/i))});var I5=n=>{var[t,e]=n,[i,r]=[t,e];return t>e&&([i,r]=[e,t]),[i,r]},B5=(n,t,e)=>{if(n.lte(0))return new gi(0);var i=U5(n.toNumber()),r=new gi(10).pow(i),a=n.div(r),o=i!==1?.05:.1,l=new gi(Math.ceil(a.div(o).toNumber())).add(e).mul(o),h=l.mul(r);return t?new gi(h.toNumber()):new gi(Math.ceil(h.toNumber()))},Vnt=(n,t,e)=>{var i=new gi(1),r=new gi(n);if(!r.isint()&&e){var a=Math.abs(n);a<1?(i=new gi(10).pow(U5(n)-1),r=new gi(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new gi(Math.floor(n)))}else n===0?r=new gi(Math.floor((t-1)/2)):e||(r=new gi(Math.floor(n)));var o=Math.floor((t-1)/2),l=jnt(knt(h=>r.add(new gi(h-o).mul(i)).toNumber()),bA);return l(0,t)},F5=function(t,e,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(i-1)))return{step:new gi(0),tickMin:new gi(0),tickMax:new gi(0)};var o=B5(new gi(e).sub(t).div(i-1),r,a),l;t<=0&&e>=0?l=new gi(0):(l=new gi(t).add(e).div(2),l=l.sub(new gi(l).mod(o)));var h=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new gi(e).sub(l).div(o).toNumber()),g=h+d+1;return g>i?F5(t,e,i,r,a+1):(g<i&&(d=e>0?d+(i-g):d,h=e>0?h:h+(i-g)),{step:o,tickMin:l.sub(new gi(h).mul(o)),tickMax:l.add(new gi(d).mul(o))})};function Gnt(n){var[t,e]=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=I5([t,e]);if(o===-1/0||l===1/0){var h=l===1/0?[o,...bA(0,i-1).map(()=>1/0)]:[...bA(0,i-1).map(()=>-1/0),l];return t>e?SA(h):h}if(o===l)return Vnt(o,i,r);var{step:d,tickMin:g,tickMax:v}=F5(o,l,a,r,0),_=z5(g,v.add(new gi(.1).mul(d)),d);return t>e?SA(_):_}function qnt(n,t){var[e,i]=n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=I5([e,i]);if(a===-1/0||o===1/0)return[e,i];if(a===o)return[a];var l=Math.max(t,2),h=B5(new gi(o).sub(a).div(l-1),r,0),d=[...z5(new gi(a),new gi(o),h),o];return r===!1&&(d=d.map(g=>Math.round(g))),e>i?SA(d):d}var Wnt=N5(Gnt),Xnt=N5(qnt),Ynt=n=>n.rootProps.barCategoryGap,T0=n=>n.rootProps.stackOffset,P2=n=>n.options.chartName,D2=n=>n.rootProps.syncId,H5=n=>n.rootProps.syncMethod,L2=n=>n.options.eventEmitter,df={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Po={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},BS=(n,t)=>{if(!(!n||!t))return n!=null&&n.reversed?[t[1],t[0]]:t},Znt={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:df.angleAxisId,includeHidden:!1,name:void 0,reversed:df.reversed,scale:df.scale,tick:df.tick,tickCount:void 0,ticks:void 0,type:df.type,unit:void 0},Knt={allowDataOverflow:Po.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Po.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Po.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Po.scale,tick:Po.tick,tickCount:Po.tickCount,ticks:void 0,type:Po.type,unit:void 0},Qnt={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:df.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:df.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:df.scale,tick:df.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$nt={allowDataOverflow:Po.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Po.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Po.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Po.scale,tick:Po.tick,tickCount:Po.tickCount,ticks:void 0,type:"category",unit:void 0},N2=(n,t)=>n.polarAxis.angleAxis[t]!=null?n.polarAxis.angleAxis[t]:n.layout.layoutType==="radial"?Qnt:Znt,U2=(n,t)=>n.polarAxis.radiusAxis[t]!=null?n.polarAxis.radiusAxis[t]:n.layout.layoutType==="radial"?$nt:Knt,FS=n=>n.polarOptions,z2=Kt([Pf,Df,ya],E4),k5=Kt([FS,z2],(n,t)=>{if(n!=null)return Io(n.innerRadius,t,0)}),j5=Kt([FS,z2],(n,t)=>{if(n!=null)return Io(n.outerRadius,t,t*.8)}),Jnt=n=>{if(n==null)return[0,0];var{startAngle:t,endAngle:e}=n;return[t,e]},V5=Kt([FS],Jnt);Kt([N2,V5],BS);var G5=Kt([z2,k5,j5],(n,t,e)=>{if(!(n==null||t==null||e==null))return[t,e]});Kt([U2,G5],BS);var q5=Kt([Ai,FS,k5,j5,Pf,Df],(n,t,e,i,r,a)=>{if(!(n!=="centric"&&n!=="radial"||t==null||e==null||i==null)){var{cx:o,cy:l,startAngle:h,endAngle:d}=t;return{cx:Io(o,r,r/2),cy:Io(l,a,a/2),innerRadius:e,outerRadius:i,startAngle:h,endAngle:d,clockWise:!1}}}),Ji=(n,t)=>t,w0=(n,t,e)=>e;function W5(n){return n?.id}var $r=n=>{var t=Ai(n);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},jg=n=>n.tooltip.settings.axisId,xa=n=>{var t=$r(n),e=jg(n);return A0(n,t,e)},X5=Kt([xa],n=>n?.dataKey);function Y5(n,t,e){var{chartData:i=[]}=t,{allowDuplicatedCategory:r,dataKey:a}=e,o=new Map;return n.forEach(l=>{var h,d=(h=l.data)!==null&&h!==void 0?h:i;if(!(d==null||d.length===0)){var g=W5(l);d.forEach((v,_)=>{var b=a==null||r?_:String(Ki(v,a,null)),M=Ki(v,l.dataKey,0),A;o.has(b)?A=o.get(b):A={},Object.assign(A,{[g]:M}),o.set(b,A)})}}),Array.from(o.values())}function I2(n){return n.stackId!=null&&n.dataKey!=null}function oN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function T1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(e),!0).forEach(function(i){tit(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function tit(n,t,e){return(t=eit(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function eit(n){var t=nit(n,"string");return typeof t=="symbol"?t:t+""}function nit(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var MA=[0,"auto"],Ro={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Z5=(n,t)=>n.cartesianAxis.xAxis[t],Kh=(n,t)=>{var e=Z5(n,t);return e??Ro},Oo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:MA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:x0},K5=(n,t)=>n.cartesianAxis.yAxis[t],Qh=(n,t)=>{var e=K5(n,t);return e??Oo},iit={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},B2=(n,t)=>{var e=n.cartesianAxis.zAxis[t];return e??iit},Lr=(n,t,e)=>{switch(t){case"xAxis":return Kh(n,e);case"yAxis":return Qh(n,e);case"zAxis":return B2(n,e);case"angleAxis":return N2(n,e);case"radiusAxis":return U2(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},rit=(n,t,e)=>{switch(t){case"xAxis":return Kh(n,e);case"yAxis":return Qh(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},A0=(n,t,e)=>{switch(t){case"xAxis":return Kh(n,e);case"yAxis":return Qh(n,e);case"angleAxis":return N2(n,e);case"radiusAxis":return U2(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},Q5=n=>n.graphicalItems.cartesianItems.some(t=>t.type==="bar")||n.graphicalItems.polarItems.some(t=>t.type==="radialBar");function F2(n,t){return e=>{switch(n){case"xAxis":return"xAxisId"in e&&e.xAxisId===t;case"yAxis":return"yAxisId"in e&&e.yAxisId===t;case"zAxis":return"zAxisId"in e&&e.zAxisId===t;case"angleAxis":return"angleAxisId"in e&&e.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in e&&e.radiusAxisId===t;default:return!1}}}var $5=n=>n.graphicalItems.cartesianItems,ait=Kt([Ji,w0],F2),H2=(n,t,e)=>n.filter(e).filter(i=>t?.includeHidden===!0?!0:!i.hide),C0=Kt([$5,Lr,ait],H2),J5=Kt([C0],n=>n.filter(t=>t.type==="area"||t.type==="bar").filter(I2)),tF=n=>n.filter(t=>!("stackId"in t)||t.stackId===void 0),eF=Kt([C0],tF),k2=n=>n.map(t=>t.data).filter(Boolean).flat(1),sit=Kt([C0],k2),j2=(n,t)=>{var{chartData:e=[],dataStartIndex:i,dataEndIndex:r}=t;return n.length>0?n:e.slice(i,r+1)},V2=Kt([sit,C2],j2),G2=(n,t,e)=>t?.dataKey!=null?n.map(i=>({value:Ki(i,t.dataKey)})):e.length>0?e.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:Ki(r,i)}))):n.map(i=>({value:i})),HS=Kt([V2,Lr,C0],G2);function nF(n,t){switch(n){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ip(n){return n.filter(t=>_c(t)||t instanceof Date).map(Number).filter(t=>Ol(t)===!1)}function oit(n,t,e){return!e||typeof t!="number"||Ol(t)?[]:e.length?Ip(e.flatMap(i=>{var r=Ki(n,i.dataKey),a,o;if(Array.isArray(r)?[a,o]=r:a=o=r,!(!Su(a)||!Su(o)))return[t-a,t+o]})):[]}var lit=Kt([J5,C2,xa],Y5),iF=(n,t,e)=>{var i={},r=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(r).map(a=>{var[o,l]=a,h=l.map(W5);return[o,{stackedData:d$(n,h,e),graphicalItems:l}]}))},uit=Kt([lit,J5,T0],iF),rF=(n,t,e)=>{var{dataStartIndex:i,dataEndIndex:r}=t;if(e!=="zAxis"){var a=g$(n,i,r);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},cit=Kt([uit,Zh,Ji],rF),aF=(n,t,e,i,r)=>e.length>0?n.flatMap(a=>e.flatMap(o=>{var l,h,d=(l=i[o.id])===null||l===void 0?void 0:l.filter(v=>nF(r,v)),g=Ki(a,(h=t.dataKey)!==null&&h!==void 0?h:o.dataKey);return{value:g,errorDomain:oit(a,g,d)}})).filter(Boolean):t?.dataKey!=null?n.map(a=>({value:Ki(a,t.dataKey),errorDomain:[]})):n.map(a=>({value:a,errorDomain:[]})),kS=n=>n.errorBars,sF=(n,t,e)=>n.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>nF(e,i));Kt([eF,kS,Ji],sF);var fit=Kt([V2,Lr,eF,kS,Ji],aF);function hit(n){var{value:t}=n;if(_c(t)||t instanceof Date)return t}var lN=n=>{var t=n.flatMap(i=>[i.value,i.errorDomain]).flat(1),e=Ip(t);if(e.length!==0)return[Math.min(...e),Math.max(...e)]},dit=(n,t,e)=>{var i=n.map(hit).filter(r=>r!=null);return e&&(t.dataKey==null||t.allowDuplicatedCategory&&gB(i))?q4(0,n.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},q2=n=>{var t;if(n==null||!("domain"in n))return MA;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var e=Ip(n.ticks);return[Math.min(...e),Math.max(...e)]}if(n.type==="category")return n.ticks.map(String)}return(t=n?.domain)!==null&&t!==void 0?t:MA},w1=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.filter(Boolean);if(r.length!==0){var a=r.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},oF=n=>n.referenceElements.dots,Vg=(n,t,e)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===e:i.yAxisId===e),pit=Kt([oF,Ji,w0],Vg),lF=n=>n.referenceElements.areas,mit=Kt([lF,Ji,w0],Vg),uF=n=>n.referenceElements.lines,git=Kt([uF,Ji,w0],Vg),cF=(n,t)=>{var e=Ip(n.map(i=>t==="xAxis"?i.x:i.y));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},vit=Kt(pit,Ji,cF),fF=(n,t)=>{var e=Ip(n.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},yit=Kt([mit,Ji],fF),hF=(n,t)=>{var e=Ip(n.map(i=>t==="xAxis"?i.x:i.y));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},_it=Kt(git,Ji,hF),xit=Kt(vit,_it,yit,(n,t,e)=>w1(n,e,t)),dF=Kt([Lr],q2),W2=(n,t,e,i,r,a,o)=>{var l=Unt(t,n.allowDataOverflow);if(l!=null)return l;var h=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=h?w1(e,r,lN(i)):w1(r,lN(i));return znt(t,d,n.allowDataOverflow)},bit=Kt([Lr,dF,cit,fit,xit,Ai,Ji],W2),Sit=[0,1],X2=(n,t,e,i,r,a,o)=>{if(!((n==null||e==null||e.length===0)&&o===void 0)){var{dataKey:l,type:h}=n,d=Wh(t,a);return d&&l==null?q4(0,e.length):h==="category"?dit(i,n,d):r==="expand"?Sit:o}},Y2=Kt([Lr,Ai,V2,HS,T0,Ji,bit],X2),pF=(n,t,e,i,r)=>{if(n!=null){var{scale:a,type:o}=n;if(a==="auto")return t==="radial"&&r==="radiusAxis"?"band":t==="radial"&&r==="angleAxis"?"linear":o==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!e)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(v0(a));return l in ly?l:"point"}}},Gg=Kt([Lr,Ai,Q5,P2,Ji],pF);function Mit(n){if(n!=null){if(n in ly)return ly[n]();var t="scale".concat(v0(n));if(t in ly)return ly[t]()}}function Z2(n,t,e,i){if(!(e==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(e).range(i);var r=Mit(t);if(r!=null){var a=r.domain(e).range(i);return u$(a),a}}}var K2=(n,t,e)=>{var i=q2(t);if(!(e!=="auto"&&e!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Rg(n))return Wnt(n,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Rg(n))return Xnt(n,t.tickCount,t.allowDecimals)}},Q2=Kt([Y2,A0,Gg],K2),$2=(n,t,e,i)=>{if(i!=="angleAxis"&&n?.type==="number"&&Rg(t)&&Array.isArray(e)&&e.length>0){var r=t[0],a=e[0],o=t[1],l=e[e.length-1];return[Math.min(r,a),Math.max(o,l)]}return t},Eit=Kt([Lr,Y2,Q2,Ji],$2),Tit=Kt(HS,Lr,(n,t)=>{if(!(!t||t.type!=="number")){var e=1/0,i=Array.from(Ip(n.map(l=>l.value))).sort((l,h)=>l-h);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var a=0;a<i.length-1;a++){var o=i[a+1]-i[a];e=Math.min(e,o)}return e/r}}),mF=Kt(Tit,Ai,Ynt,ya,(n,t,e,i)=>i,(n,t,e,i,r)=>{if(!Su(n))return 0;var a=t==="vertical"?i.height:i.width;if(r==="gap")return n*a/2;if(r==="no-gap"){var o=Io(e,n*a),l=n*a/2;return l-o-(l-o)/a*o}return 0}),wit=(n,t)=>{var e=Kh(n,t);return e==null||typeof e.padding!="string"?0:mF(n,"xAxis",t,e.padding)},Ait=(n,t)=>{var e=Qh(n,t);return e==null||typeof e.padding!="string"?0:mF(n,"yAxis",t,e.padding)},Cit=Kt(Kh,wit,(n,t)=>{var e,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:t,right:t}:{left:((e=r.left)!==null&&e!==void 0?e:0)+t,right:((i=r.right)!==null&&i!==void 0?i:0)+t}}),Rit=Kt(Qh,Ait,(n,t)=>{var e,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:t,bottom:t}:{top:((e=r.top)!==null&&e!==void 0?e:0)+t,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+t}}),Oit=Kt([ya,Cit,CS,AS,(n,t,e)=>e],(n,t,e,i,r)=>{var{padding:a}=i;return r?[a.left,e.width-a.right]:[n.left+t.left,n.left+n.width-t.right]}),Pit=Kt([ya,Ai,Rit,CS,AS,(n,t,e)=>e],(n,t,e,i,r,a)=>{var{padding:o}=r;return a?[i.height-o.bottom,o.top]:t==="horizontal"?[n.top+n.height-e.bottom,n.top+e.top]:[n.top+e.top,n.top+n.height-e.bottom]}),R0=(n,t,e,i)=>{var r;switch(t){case"xAxis":return Oit(n,e,i);case"yAxis":return Pit(n,e,i);case"zAxis":return(r=B2(n,e))===null||r===void 0?void 0:r.range;case"angleAxis":return V5(n);case"radiusAxis":return G5(n,e);default:return}},gF=Kt([Lr,R0],BS),qg=Kt([Lr,Gg,Eit,gF],Z2);Kt([C0,kS,Ji],sF);function vF(n,t){return n.id<t.id?-1:n.id>t.id?1:0}var jS=(n,t)=>t,VS=(n,t,e)=>e,Dit=Kt(TS,jS,VS,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(vF)),Lit=Kt(wS,jS,VS,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(vF)),yF=(n,t)=>({width:n.width,height:t.height}),Nit=(n,t)=>{var e=typeof t.width=="number"?t.width:x0;return{width:e,height:n.height}},Uit=Kt(ya,Kh,yF),zit=(n,t,e)=>{switch(t){case"top":return n.top;case"bottom":return e-n.bottom;default:return 0}},Iit=(n,t,e)=>{switch(t){case"left":return n.left;case"right":return e-n.right;default:return 0}},Bit=Kt(Df,ya,Dit,jS,VS,(n,t,e,i,r)=>{var a={},o;return e.forEach(l=>{var h=yF(t,l);o==null&&(o=zit(t,i,n));var d=i==="top"&&!r||i==="bottom"&&r;a[l.id]=o-Number(d)*h.height,o+=(d?-1:1)*h.height}),a}),Fit=Kt(Pf,ya,Lit,jS,VS,(n,t,e,i,r)=>{var a={},o;return e.forEach(l=>{var h=Nit(t,l);o==null&&(o=Iit(t,i,n));var d=i==="left"&&!r||i==="right"&&r;a[l.id]=o-Number(d)*h.width,o+=(d?-1:1)*h.width}),a}),Hit=(n,t)=>{var e=ya(n),i=Kh(n,t);if(i!=null){var r=Bit(n,i.orientation,i.mirror),a=r[t];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}},kit=(n,t)=>{var e=ya(n),i=Qh(n,t);if(i!=null){var r=Fit(n,i.orientation,i.mirror),a=r[t];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}},jit=Kt(ya,Qh,(n,t)=>{var e=typeof t.width=="number"?t.width:x0;return{width:e,height:n.height}}),_F=(n,t,e,i)=>{if(e!=null){var{allowDuplicatedCategory:r,type:a,dataKey:o}=e,l=Wh(n,i),h=t.map(d=>d.value);if(o&&l&&a==="category"&&r&&gB(h))return h}},J2=Kt([Ai,HS,Lr,Ji],_F),xF=(n,t,e,i)=>{if(!(e==null||e.dataKey==null)){var{type:r,scale:a}=e,o=Wh(n,i);if(o&&(r==="number"||a!=="auto"))return t.map(l=>l.value)}},tR=Kt([Ai,HS,A0,Ji],xF),uN=Kt([Ai,rit,Gg,qg,J2,tR,R0,Q2,Ji],(n,t,e,i,r,a,o,l,h)=>{if(t==null)return null;var d=Wh(n,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:a,duplicateDomain:r,isCategorical:d,niceTicks:l,range:o,realScaleType:e,scale:i}}),Vit=(n,t,e,i,r,a,o,l,h)=>{if(!(t==null||i==null)){var d=Wh(n,h),{type:g,ticks:v,tickCount:_}=t,b=e==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,M=g==="category"&&i.bandwidth?i.bandwidth()/b:0;M=h==="angleAxis"&&a!=null&&a.length>=2?rs(a[0]-a[1])*2*M:M;var A=v||r;if(A){var T=A.map((E,O)=>{var P=o?o.indexOf(E):E;return{index:O,coordinate:i(P)+M,value:E,offset:M}});return T.filter(E=>!Ol(E.coordinate))}return d&&l?l.map((E,O)=>({coordinate:i(E)+M,value:E,index:O,offset:M})):i.ticks?i.ticks(_).map(E=>({coordinate:i(E)+M,value:E,offset:M})):i.domain().map((E,O)=>({coordinate:i(E)+M,value:o?o[E]:E,index:O,offset:M}))}},bF=Kt([Ai,A0,Gg,qg,Q2,R0,J2,tR,Ji],Vit),Git=(n,t,e,i,r,a,o)=>{if(!(t==null||e==null||i==null||i[0]===i[1])){var l=Wh(n,o),{tickCount:h}=t,d=0;return d=o==="angleAxis"&&i?.length>=2?rs(i[0]-i[1])*2*d:d,l&&a?a.map((g,v)=>({coordinate:e(g)+d,value:g,index:v,offset:d})):e.ticks?e.ticks(h).map(g=>({coordinate:e(g)+d,value:g,offset:d})):e.domain().map((g,v)=>({coordinate:e(g)+d,value:r?r[g]:g,index:v,offset:d}))}},SF=Kt([Ai,A0,qg,R0,J2,tR,Ji],Git),MF=Kt(Lr,qg,(n,t)=>{if(!(n==null||t==null))return T1(T1({},n),{},{scale:t})}),qit=Kt([Lr,Gg,Y2,gF],Z2);Kt((n,t,e)=>B2(n,e),qit,(n,t)=>{if(!(n==null||t==null))return T1(T1({},n),{},{scale:t})});var Wit=Kt([Ai,TS,wS],(n,t,e)=>{switch(n){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return e.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EF=n=>n.options.defaultTooltipEventType,TF=n=>n.options.validateTooltipEventTypes;function wF(n,t,e){if(n==null)return t;var i=n?"axis":"item";return e==null?t:e.includes(i)?i:t}function eR(n,t){var e=EF(n),i=TF(n);return wF(t,e,i)}function Xit(n){return Qe(t=>eR(t,n))}var AF=(n,t)=>{var e,i=Number(t);if(!(Ol(i)||t==null))return i>=0?n==null||(e=n[i])===null||e===void 0?void 0:e.value:void 0},Yit=n=>n.tooltip.settings,Nh={active:!1,index:null,dataKey:void 0,coordinate:void 0},Zit={itemInteraction:{click:Nh,hover:Nh},axisInteraction:{click:Nh,hover:Nh},keyboardInteraction:Nh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CF=Vo({name:"tooltip",initialState:Zit,reducers:{addTooltipEntrySettings(n,t){n.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(n,t){var e=xf(n).tooltipItemPayloads.indexOf(t.payload);e>-1&&n.tooltipItemPayloads.splice(e,1)},setTooltipSettingsState(n,t){n.settings=t.payload},setActiveMouseOverItemIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=t.payload.activeIndex,n.itemInteraction.hover.dataKey=t.payload.activeDataKey,n.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,t){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=t.payload.activeIndex,n.itemInteraction.click.dataKey=t.payload.activeDataKey,n.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(n,t){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=t.payload.activeIndex,n.axisInteraction.hover.dataKey=t.payload.activeDataKey,n.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=t.payload.activeIndex,n.axisInteraction.click.dataKey=t.payload.activeDataKey,n.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(n,t){n.syncInteraction=t.payload},setKeyboardInteraction(n,t){n.keyboardInteraction.active=t.payload.active,n.keyboardInteraction.index=t.payload.activeIndex,n.keyboardInteraction.coordinate=t.payload.activeCoordinate,n.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Kit,removeTooltipEntrySettings:Qit,setTooltipSettingsState:$it,setActiveMouseOverItemIndex:RF,mouseLeaveItem:Jit,mouseLeaveChart:OF,setActiveClickItemIndex:trt,setMouseOverAxisIndex:PF,setMouseClickAxisIndex:ert,setSyncInteraction:EA,setKeyboardInteraction:TA}=CF.actions,nrt=CF.reducer;function cN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Xx(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(e),!0).forEach(function(i){irt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):cN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function irt(n,t,e){return(t=rrt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function rrt(n){var t=art(n,"string");return typeof t=="symbol"?t:t+""}function art(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function srt(n,t,e){return t==="axis"?e==="click"?n.axisInteraction.click:n.axisInteraction.hover:e==="click"?n.itemInteraction.click:n.itemInteraction.hover}function ort(n){return n.index!=null}var DF=(n,t,e,i)=>{if(t==null)return Nh;var r=srt(n,t,e);if(r==null)return Nh;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var a=n.settings.active===!0;if(ort(r)){if(a)return Xx(Xx({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return Xx(Xx({},Nh),{},{coordinate:r.coordinate})},nR=(n,t)=>{var e=n?.index;if(e==null)return null;var i=Number(e);if(!Su(i))return e;var r=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(r,Math.min(i,a)))},LF=(n,t,e,i,r,a,o,l)=>{if(!(a==null||l==null)){var h=o[0],d=h==null?void 0:l(h.positions,a);if(d!=null)return d;var g=r?.[Number(a)];if(g)switch(e){case"horizontal":return{x:g.coordinate,y:(i.top+t)/2};default:return{x:(i.left+n)/2,y:g.coordinate}}}},NF=(n,t,e,i)=>{if(t==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return e==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===r})},O0=n=>n.options.tooltipPayloadSearcher,Wg=n=>n.tooltip;function fN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function hN(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(e),!0).forEach(function(i){lrt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):fN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function lrt(n,t,e){return(t=urt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function urt(n){var t=crt(n,"string");return typeof t=="symbol"?t:t+""}function crt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function frt(n,t){return n??t}var UF=(n,t,e,i,r,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:h,dataStartIndex:d,dataEndIndex:g}=e,v=[];return n.reduce((_,b)=>{var M,{dataDefinedOnItem:A,settings:T}=b,E=frt(A,l),O=Array.isArray(E)?T4(E,d,g):E,P=(M=T?.dataKey)!==null&&M!==void 0?M:i,z=T?.nameKey,F;if(i&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?F=vB(O,i,r):F=a(O,t,h,z),Array.isArray(F))F.forEach(q=>{var Y=hN(hN({},T),{},{name:q.name,unit:q.unit,color:void 0,fill:void 0});_.push(Z3({tooltipEntrySettings:Y,dataKey:q.dataKey,payload:q.payload,value:Ki(q.payload,q.dataKey),name:q.name}))});else{var I;_.push(Z3({tooltipEntrySettings:T,dataKey:P,payload:F,value:Ki(F,P),name:(I=Ki(F,z))!==null&&I!==void 0?I:T?.name}))}return _},v)}},iR=Kt([xa,Ai,Q5,P2,$r],pF),hrt=Kt([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,t)=>[...n,...t]),drt=Kt([$r,jg],F2),P0=Kt([hrt,xa,drt],H2),prt=Kt([P0],n=>n.filter(I2)),mrt=Kt([P0],k2),Xg=Kt([mrt,Zh],j2),grt=Kt([prt,Zh,xa],Y5),rR=Kt([Xg,xa,P0],G2),vrt=Kt([xa],q2),yrt=Kt([P0],n=>n.filter(I2)),_rt=Kt([grt,yrt,T0],iF),xrt=Kt([_rt,Zh,$r],rF),brt=Kt([P0],tF),Srt=Kt([Xg,xa,brt,kS,$r],aF),Mrt=Kt([oF,$r,jg],Vg),Ert=Kt([Mrt,$r],cF),Trt=Kt([lF,$r,jg],Vg),wrt=Kt([Trt,$r],fF),Art=Kt([uF,$r,jg],Vg),Crt=Kt([Art,$r],hF),Rrt=Kt([Ert,Crt,wrt],w1),Ort=Kt([xa,vrt,xrt,Srt,Rrt,Ai,$r],W2),zF=Kt([xa,Ai,Xg,rR,T0,$r,Ort],X2),Prt=Kt([zF,xa,iR],K2),Drt=Kt([xa,zF,Prt,$r],$2),IF=n=>{var t=$r(n),e=jg(n),i=!1;return R0(n,t,e,i)},BF=Kt([xa,IF],BS),FF=Kt([xa,iR,Drt,BF],Z2),Lrt=Kt([Ai,rR,xa,$r],_F),Nrt=Kt([Ai,rR,xa,$r],xF),Urt=(n,t,e,i,r,a,o,l)=>{if(t){var{type:h}=t,d=Wh(n,l);if(i){var g=e==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=h==="category"&&i.bandwidth?i.bandwidth()/g:0;return v=l==="angleAxis"&&r!=null&&r?.length>=2?rs(r[0]-r[1])*2*v:v,d&&o?o.map((_,b)=>({coordinate:i(_)+v,value:_,index:b,offset:v})):i.domain().map((_,b)=>({coordinate:i(_)+v,value:a?a[_]:_,index:b,offset:v}))}}},Nf=Kt([Ai,xa,iR,FF,IF,Lrt,Nrt,$r],Urt),aR=Kt([EF,TF,Yit],(n,t,e)=>wF(e.shared,n,t)),HF=n=>n.tooltip.settings.trigger,sR=n=>n.tooltip.settings.defaultIndex,GS=Kt([Wg,aR,HF,sR],DF),Og=Kt([GS,Xg],nR),kF=Kt([Nf,Og],AF),zrt=Kt([GS],n=>{if(n)return n.dataKey}),jF=Kt([Wg,aR,HF,sR],NF),Irt=Kt([Pf,Df,Ai,ya,Nf,sR,jF,O0],LF),Brt=Kt([GS,Irt],(n,t)=>n!=null&&n.coordinate?n.coordinate:t),Frt=Kt([GS],n=>n.active),Hrt=Kt([jF,Og,Zh,X5,kF,O0,aR],UF),krt=Kt([Hrt],n=>{if(n!=null){var t=n.map(e=>e.payload).filter(e=>e!=null);return Array.from(new Set(t))}});function dN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function pN(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(e),!0).forEach(function(i){jrt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):dN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function jrt(n,t,e){return(t=Vrt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Vrt(n){var t=Grt(n,"string");return typeof t=="symbol"?t:t+""}function Grt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var qrt=()=>Qe(xa),Wrt=()=>{var n=qrt(),t=Qe(Nf),e=Qe(FF);return sA(pN(pN({},n),{},{scale:e}),t)},Xrt=()=>Qe(P2),oR=(n,t)=>t,VF=(n,t,e)=>e,lR=(n,t,e,i)=>i,Yrt=Kt(Nf,n=>yS(n,t=>t.coordinate)),uR=Kt([Wg,oR,VF,lR],DF),GF=Kt([uR,Xg],nR),Zrt=(n,t,e)=>{if(t!=null){var i=Wg(n);return t==="axis"?e==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:e==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},qF=Kt([Wg,oR,VF,lR],NF),A1=Kt([Pf,Df,Ai,ya,Nf,lR,qF,O0],LF),Krt=Kt([uR,A1],(n,t)=>{var e;return(e=n.coordinate)!==null&&e!==void 0?e:t}),WF=Kt(Nf,GF,AF),Qrt=Kt([qF,GF,Zh,X5,WF,O0,oR],UF),$rt=Kt([uR],n=>({isActive:n.active,activeIndex:n.index})),Jrt=(n,t,e,i,r,a,o,l)=>{if(!(!n||!t||!i||!r||!a)){var h=v$(n.chartX,n.chartY,t,e,l);if(h){var d=_$(h,t),g=o$(d,o,a,i,r),v=y$(t,a,g,h);return{activeIndex:String(g),activeCoordinate:v}}}};function wA(){return wA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},wA.apply(null,arguments)}function mN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Yx(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(e),!0).forEach(function(i){tat(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):mN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function tat(n,t,e){return(t=eat(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function eat(n){var t=nat(n,"string");return typeof t=="symbol"?t:t+""}function nat(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function iat(n){var{coordinate:t,payload:e,index:i,offset:r,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:h,chartName:d}=n,g=t,v=e,_=i;if(!l||!g||d!=="ScatterChart"&&h!=="axis")return null;var b,M;if(d==="ScatterChart")b=g,M=_J;else if(d==="BarChart")b=xJ(o,g,r,a),M=k4;else if(o==="radial"){var{cx:A,cy:T,radius:E,startAngle:O,endAngle:P}=j4(g);b={cx:A,cy:T,startAngle:O,endAngle:P,innerRadius:E,outerRadius:E},M=G4}else b={points:JJ(o,g,r)},M=i2;var z=typeof l=="object"&&"className"in l?l.className:void 0,F=Yx(Yx(Yx(Yx({stroke:"#ccc",pointerEvents:"none"},r),b),fr(l,!1)),{},{payload:v,payloadIndex:_,className:oi("recharts-tooltip-cursor",z)});return H.isValidElement(l)?H.cloneElement(l,F):H.createElement(M,F)}function rat(n){var t=Wrt(),e=D4(),i=e2(),r=Xrt();return H.createElement(iat,wA({},n,{coordinate:n.coordinate,index:n.index,payload:n.payload,offset:e,layout:i,tooltipAxisBandSize:t,chartName:r}))}var XF=H.createContext(null),aat=()=>H.useContext(XF),ew={exports:{}},gN;function sat(){return gN||(gN=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function r(h,d,g){this.fn=h,this.context=d,this.once=g||!1}function a(h,d,g,v,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new r(g,v||h,_),M=e?e+d:d;return h._events[M]?h._events[M].fn?h._events[M]=[h._events[M],b]:h._events[M].push(b):(h._events[M]=b,h._eventsCount++),h}function o(h,d){--h._eventsCount===0?h._events=new i:delete h._events[d]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],g,v;if(this._eventsCount===0)return d;for(v in g=this._events)t.call(g,v)&&d.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(g)):d},l.prototype.listeners=function(d){var g=e?e+d:d,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,b=v.length,M=new Array(b);_<b;_++)M[_]=v[_].fn;return M},l.prototype.listenerCount=function(d){var g=e?e+d:d,v=this._events[g];return v?v.fn?1:v.length:0},l.prototype.emit=function(d,g,v,_,b,M){var A=e?e+d:d;if(!this._events[A])return!1;var T=this._events[A],E=arguments.length,O,P;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,v),!0;case 4:return T.fn.call(T.context,g,v,_),!0;case 5:return T.fn.call(T.context,g,v,_,b),!0;case 6:return T.fn.call(T.context,g,v,_,b,M),!0}for(P=1,O=new Array(E-1);P<E;P++)O[P-1]=arguments[P];T.fn.apply(T.context,O)}else{var z=T.length,F;for(P=0;P<z;P++)switch(T[P].once&&this.removeListener(d,T[P].fn,void 0,!0),E){case 1:T[P].fn.call(T[P].context);break;case 2:T[P].fn.call(T[P].context,g);break;case 3:T[P].fn.call(T[P].context,g,v);break;case 4:T[P].fn.call(T[P].context,g,v,_);break;default:if(!O)for(F=1,O=new Array(E-1);F<E;F++)O[F-1]=arguments[F];T[P].fn.apply(T[P].context,O)}}return!0},l.prototype.on=function(d,g,v){return a(this,d,g,v,!1)},l.prototype.once=function(d,g,v){return a(this,d,g,v,!0)},l.prototype.removeListener=function(d,g,v,_){var b=e?e+d:d;if(!this._events[b])return this;if(!g)return o(this,b),this;var M=this._events[b];if(M.fn)M.fn===g&&(!_||M.once)&&(!v||M.context===v)&&o(this,b);else{for(var A=0,T=[],E=M.length;A<E;A++)(M[A].fn!==g||_&&!M[A].once||v&&M[A].context!==v)&&T.push(M[A]);T.length?this._events[b]=T.length===1?T[0]:T:o(this,b)}return this},l.prototype.removeAllListeners=function(d){var g;return d?(g=e?e+d:d,this._events[g]&&o(this,g)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,n.exports=l})(ew)),ew.exports}var oat=sat();const lat=Ll(oat);var Jy=new lat,AA="recharts.syncEvent.tooltip",vN="recharts.syncEvent.brush";function YF(n,t){if(t){var e=Number.parseInt(t,10);if(!Ol(e))return n?.[e]}}var uat={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZF=Vo({name:"options",initialState:uat,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cat=ZF.reducer,{createEventEmitter:fat}=ZF.actions;function hat(n){return n.tooltip.syncInteraction}var dat={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KF=Vo({name:"chartData",initialState:dat,reducers:{setChartData(n,t){if(n.chartData=t.payload,t.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}t.payload.length>0&&n.dataEndIndex!==t.payload.length-1&&(n.dataEndIndex=t.payload.length-1)},setComputedData(n,t){n.computedData=t.payload},setDataStartEndIndexes(n,t){var{startIndex:e,endIndex:i}=t.payload;e!=null&&(n.dataStartIndex=e),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:yN,setDataStartEndIndexes:pat,setComputedData:Vft}=KF.actions,mat=KF.reducer,gat=["x","y"];function _N(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Wd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(e),!0).forEach(function(i){vat(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_N(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function vat(n,t,e){return(t=yat(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function yat(n){var t=_at(n,"string");return typeof t=="symbol"?t:t+""}function _at(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function xat(n,t){if(n==null)return{};var e,i,r=bat(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function bat(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var QF=()=>{};function Sat(){var n=Qe(D2),t=Qe(L2),e=hr(),i=Qe(H5),r=Qe(Nf),a=e2(),o=$C(),l=Qe(h=>h.rootProps.className);H.useEffect(()=>{if(n==null)return QF;var h=(d,g,v)=>{if(t!==v&&n===d){if(i==="index"){var _;if(o&&g!==null&&g!==void 0&&(_=g.payload)!==null&&_!==void 0&&_.coordinate){var b=g.payload.coordinate,{x:M,y:A}=b,T=xat(b,gat),E=Wd(Wd(Wd({},T),typeof M=="number"&&{x:Math.max(o.x,Math.min(M,o.x+o.width))}),typeof A=="number"&&{y:Math.max(o.y,Math.min(A,o.y+o.height))}),O=Wd(Wd({},g),{},{payload:Wd(Wd({},g.payload),{},{coordinate:E})});e(O)}else e(g);return}if(r!=null){var P;if(typeof i=="function"){var z={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},F=i(r,z);P=r[F]}else i==="value"&&(P=r.find(lt=>String(lt.value)===g.payload.label));var{coordinate:I}=g.payload;if(P==null||g.payload.active===!1||I==null||o==null){e(EA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:q,y:Y}=I,G=Math.min(q,o.x+o.width),j=Math.min(Y,o.y+o.height),K={x:a==="horizontal"?P.coordinate:G,y:a==="horizontal"?j:P.coordinate},st=EA({active:g.payload.active,coordinate:K,dataKey:g.payload.dataKey,index:String(P.index),label:g.payload.label});e(st)}}};return Jy.on(AA,h),()=>{Jy.off(AA,h)}},[l,e,t,n,i,r,a,o])}function Mat(){var n=Qe(D2),t=Qe(L2),e=hr();H.useEffect(()=>{if(n==null)return QF;var i=(r,a,o)=>{t!==o&&n===r&&e(pat(a))};return Jy.on(vN,i),()=>{Jy.off(vN,i)}},[e,t,n])}function Eat(){var n=hr();H.useEffect(()=>{n(fat())},[n]),Sat(),Mat()}function Tat(n,t,e,i,r,a){var o=Qe(_=>Zrt(_,n,t)),l=Qe(L2),h=Qe(D2),d=Qe(H5),g=Qe(hat),v=g?.active;H.useEffect(()=>{if(!v&&h!=null&&l!=null){var _=EA({active:a,coordinate:e,dataKey:o,index:r,label:typeof i=="number"?String(i):i});Jy.emit(AA,h,_,l)}},[v,e,o,r,i,l,h,d,a])}function xN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function bN(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(e),!0).forEach(function(i){wat(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):xN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function wat(n,t,e){return(t=Aat(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Aat(n){var t=Cat(n,"string");return typeof t=="symbol"?t:t+""}function Cat(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Rat(n){return n.dataKey}function Oat(n,t){return H.isValidElement(n)?H.cloneElement(n,t):typeof n=="function"?H.createElement(n,t):H.createElement(Q$,t)}var SN=[],Pat={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Bg.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zx(n){var t=Go(n,Pat),{active:e,allowEscapeViewBox:i,animationDuration:r,animationEasing:a,content:o,filterNull:l,isAnimationActive:h,offset:d,payloadUniqBy:g,position:v,reverseDirection:_,useTranslate3d:b,wrapperStyle:M,cursor:A,shared:T,trigger:E,defaultIndex:O,portal:P,axisId:z}=t,F=hr(),I=typeof O=="number"?String(O):O;H.useEffect(()=>{F($it({shared:T,trigger:E,axisId:z,active:e,defaultIndex:I}))},[F,T,E,z,e,I]);var q=$C(),Y=z4(),G=Xit(T),{activeIndex:j,isActive:K}=Qe(Zt=>$rt(Zt,G,E,I)),st=Qe(Zt=>Qrt(Zt,G,E,I)),lt=Qe(Zt=>WF(Zt,G,E,I)),dt=Qe(Zt=>Krt(Zt,G,E,I)),vt=st,X=aat(),it=e??K,[tt,yt]=JB([vt,it]),Q=G==="axis"?lt:void 0;Tat(G,E,dt,Q,j,it);var ut=P??X;if(ut==null)return null;var gt=vt??SN;it||(gt=SN),l&&gt.length&&(gt=YB(vt.filter(Zt=>Zt.value!=null&&(Zt.hide!==!0||t.includeHidden)),g,Rat));var Lt=gt.length>0,Dt=H.createElement(rJ,{allowEscapeViewBox:i,animationDuration:r,animationEasing:a,isAnimationActive:h,active:it,coordinate:dt,hasPayload:Lt,offset:d,position:v,reverseDirection:_,useTranslate3d:b,viewBox:q,wrapperStyle:M,lastBoundingBox:tt,innerRef:yt,hasPortalFromProps:!!P},Oat(o,bN(bN({},t),{},{payload:gt,label:Q,active:it,coordinate:dt,accessibilityLayer:Y})));return H.createElement(H.Fragment,null,sB.createPortal(Dt,ut),it&&H.createElement(rat,{cursor:A,tooltipEventType:G,coordinate:dt,payload:vt,index:j}))}var nw={},iw={},rw={},MN;function Dat(){return MN||(MN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i,{signal:r,edges:a}={}){let o,l=null;const h=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),g=()=>{l!==null&&(e.apply(o,l),o=void 0,l=null)},v=()=>{d&&g(),A()};let _=null;const b=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,v()},i)},M=()=>{_!==null&&(clearTimeout(_),_=null)},A=()=>{M(),o=void 0,l=null},T=()=>{g()},E=function(...O){if(r?.aborted)return;o=this,l=O;const P=_==null;b(),h&&P&&g()};return E.schedule=b,E.cancel=A,E.flush=T,r?.addEventListener("abort",A,{once:!0}),E}n.debounce=t})(rw)),rw}var EN;function Lat(){return EN||(EN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Dat();function e(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:h}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let g,v=null;const _=t.debounce(function(...A){g=i.apply(this,A),v=null},r,{edges:d}),b=function(...A){return h!=null&&(v===null&&(v=Date.now()),Date.now()-v>=h)?(g=i.apply(this,A),v=Date.now(),_.cancel(),_.schedule(),g):(_.apply(this,A),g)},M=()=>(_.flush(),g);return b.cancel=_.cancel,b.flush=M,b}n.debounce=e})(iw)),iw}var TN;function Nat(){return TN||(TN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Lat();function e(i,r=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(i,r,{leading:o,maxWait:r,trailing:l})}n.throttle=e})(nw)),nw}var aw,wN;function Uat(){return wN||(wN=1,aw=Nat().throttle),aw}var zat=Uat();const Iat=Ll(zat);var by=function(t,e){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a]};function AN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function sw(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(e),!0).forEach(function(i){Bat(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):AN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Bat(n,t,e){return(t=Fat(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Fat(n){var t=Hat(n,"string");return typeof t=="symbol"?t:t+""}function Hat(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Kx=H.forwardRef((n,t)=>{var{aspect:e,initialDimension:i={width:-1,height:-1},width:r="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:h,children:d,debounce:g=0,id:v,className:_,onResize:b,style:M={}}=n,A=H.useRef(null),T=H.useRef();T.current=b,H.useImperativeHandle(t,()=>A.current);var[E,O]=H.useState({containerWidth:i.width,containerHeight:i.height}),P=H.useCallback((F,I)=>{O(q=>{var Y=Math.round(F),G=Math.round(I);return q.containerWidth===Y&&q.containerHeight===G?q:{containerWidth:Y,containerHeight:G}})},[]);H.useEffect(()=>{var F=G=>{var j,{width:K,height:st}=G[0].contentRect;P(K,st),(j=T.current)===null||j===void 0||j.call(T,K,st)};g>0&&(F=Iat(F,g,{trailing:!0,leading:!1}));var I=new ResizeObserver(F),{width:q,height:Y}=A.current.getBoundingClientRect();return P(q,Y),I.observe(A.current),()=>{I.disconnect()}},[P,g]);var z=H.useMemo(()=>{var{containerWidth:F,containerHeight:I}=E;if(F<0||I<0)return null;by(sp(r)||sp(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,r,a),by(!e||e>0,"The aspect(%s) must be greater than zero.",e);var q=sp(r)?F:r,Y=sp(a)?I:a;return e&&e>0&&(q?Y=q/e:Y&&(q=Y*e),h&&Y>h&&(Y=h)),by(q>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,Y,r,a,o,l,e),H.Children.map(d,G=>H.cloneElement(G,{width:q,height:Y,style:sw({width:q,height:Y},G.props.style)}))},[e,d,a,h,l,o,E,r]);return H.createElement("div",{id:v?"".concat(v):void 0,className:oi("recharts-responsive-container",_),style:sw(sw({},M),{},{width:r,height:a,minWidth:o,minHeight:l,maxHeight:h}),ref:A},H.createElement("div",{style:{width:0,height:0,overflow:"visible"}},z))}),qS=n=>null;qS.displayName="Cell";function kat(n,t,e){return(t=jat(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jat(n){var t=Vat(n,"string");return typeof t=="symbol"?t:t+""}function Vat(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class Gat{constructor(t){kat(this,"cache",new Map),this.maxSize=t}get(t){var e=this.cache.get(t);return e!==void 0&&(this.cache.delete(t),this.cache.set(t,e)),e}set(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,e)}clear(){this.cache.clear()}size(){return this.cache.size}}function CN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qat(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(e),!0).forEach(function(i){Wat(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):CN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Wat(n,t,e){return(t=Xat(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Xat(n){var t=Yat(n,"string");return typeof t=="symbol"?t:t+""}function Yat(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Zat={cacheSize:2e3,enableCache:!0},$F=qat({},Zat),RN=new Gat($F.cacheSize),Kat={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ON="recharts_measurement_span";function Qat(n,t){var e=t.fontSize||"",i=t.fontFamily||"",r=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(n,"|").concat(e,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l)}var PN=(n,t)=>{try{var e=document.getElementById(ON);e||(e=document.createElement("span"),e.setAttribute("id",ON),e.setAttribute("aria-hidden","true"),document.body.appendChild(e)),Object.assign(e.style,Kat,t),e.textContent="".concat(n);var i=e.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Sy=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bg.isSsr)return{width:0,height:0};if(!$F.enableCache)return PN(t,e);var i=Qat(t,e),r=RN.get(i);if(r)return r;var a=PN(t,e);return RN.set(i,a),a},DN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$at=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jat=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tst=Object.keys(JF),sg="NaN";function est(n,t){return n*JF[t]}class Zs{static parse(t){var e,[,i,r]=(e=Jat.exec(t))!==null&&e!==void 0?e:[];return new Zs(parseFloat(i),r??"")}constructor(t,e){this.num=t,this.unit=e,this.num=t,this.unit=e,Ol(t)&&(this.unit=""),e!==""&&!$at.test(e)&&(this.num=NaN,this.unit=""),tst.includes(e)&&(this.num=est(t,e),this.unit="px")}add(t){return this.unit!==t.unit?new Zs(NaN,""):new Zs(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Zs(NaN,""):new Zs(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zs(NaN,""):new Zs(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zs(NaN,""):new Zs(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ol(this.num)}}function tH(n){if(n.includes(sg))return sg;for(var t=n;t.includes("*")||t.includes("/");){var e,[,i,r,a]=(e=DN.exec(t))!==null&&e!==void 0?e:[],o=Zs.parse(i??""),l=Zs.parse(a??""),h=r==="*"?o.multiply(l):o.divide(l);if(h.isNaN())return sg;t=t.replace(DN,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,g,v,_]=(d=LN.exec(t))!==null&&d!==void 0?d:[],b=Zs.parse(g??""),M=Zs.parse(_??""),A=v==="+"?b.add(M):b.subtract(M);if(A.isNaN())return sg;t=t.replace(LN,A.toString())}return t}var NN=/\(([^()]*)\)/;function nst(n){for(var t=n,e;(e=NN.exec(t))!=null;){var[,i]=e;t=t.replace(NN,tH(i))}return t}function ist(n){var t=n.replace(/\s+/g,"");return t=nst(t),t=tH(t),t}function rst(n){try{return ist(n)}catch{return sg}}function ow(n){var t=rst(n.slice(5,-1));return t===sg?"":t}var ast=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sst=["dx","dy","angle","className","breakAll"];function CA(){return CA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},CA.apply(null,arguments)}function UN(n,t){if(n==null)return{};var e,i,r=ost(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function ost(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var eH=/[ \f\n\r\t\v\u2028\u2029]+/,nH=n=>{var{children:t,breakAll:e,style:i}=n;try{var r=[];Yr(t)||(e?r=t.toString().split(""):r=t.toString().split(eH));var a=r.map(l=>({word:l,width:Sy(l,i).width})),o=e?0:Sy(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},lst=(n,t,e,i,r)=>{var{maxLines:a,children:o,style:l,breakAll:h}=n,d=un(a),g=o,v=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce((st,lt)=>{var{word:dt,width:vt}=lt,X=st[st.length-1];if(X&&(i==null||r||X.width+vt+e<Number(i)))X.words.push(dt),X.width+=vt+e;else{var it={words:[dt],width:vt};st.push(it)}return st},[])},_=v(t),b=j=>j.reduce((K,st)=>K.width>st.width?K:st);if(!d||r)return _;var M=_.length>a||b(_).width>Number(i);if(!M)return _;for(var A="…",T=j=>{var K=g.slice(0,j),st=nH({breakAll:h,style:l,children:K+A}).wordsWithComputedWidth,lt=v(st),dt=lt.length>a||b(lt).width>Number(i);return[dt,lt]},E=0,O=g.length-1,P=0,z;E<=O&&P<=g.length-1;){var F=Math.floor((E+O)/2),I=F-1,[q,Y]=T(I),[G]=T(F);if(!q&&!G&&(E=F+1),q&&G&&(O=F-1),!q&&G){z=Y;break}P++}return z||_},zN=n=>{var t=Yr(n)?[]:n.toString().split(eH);return[{words:t}]},ust=n=>{var{width:t,scaleToFit:e,children:i,style:r,breakAll:a,maxLines:o}=n;if((t||e)&&!Bg.isSsr){var l,h,d=nH({breakAll:a,children:i,style:r});if(d){var{wordsWithComputedWidth:g,spaceWidth:v}=d;l=g,h=v}else return zN(i);return lst({breakAll:a,children:i,maxLines:o,style:r},l,h,t,e)}return zN(i)},IN="#808080",WS=H.forwardRef((n,t)=>{var{x:e=0,y:i=0,lineHeight:r="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:h="end",fill:d=IN}=n,g=UN(n,ast),v=H.useMemo(()=>ust({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:o,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,o,g.style,g.width]),{dx:_,dy:b,angle:M,className:A,breakAll:T}=g,E=UN(g,sst);if(!_c(e)||!_c(i)||v.length===0)return null;var O=e+(un(_)?_:0),P=i+(un(b)?b:0),z;switch(h){case"start":z=ow("calc(".concat(a,")"));break;case"middle":z=ow("calc(".concat((v.length-1)/2," * -").concat(r," + (").concat(a," / 2))"));break;default:z=ow("calc(".concat(v.length-1," * -").concat(r,")"));break}var F=[];if(o){var I=v[0].width,{width:q}=g;F.push("scale(".concat(un(q)?q/I:1,")"))}return M&&F.push("rotate(".concat(M,", ").concat(O,", ").concat(P,")")),F.length&&(E.transform=F.join(" ")),H.createElement("text",CA({},fr(E,!0),{ref:t,x:O,y:P,className:oi("recharts-text",A),textAnchor:l,fill:d.includes("url")?IN:d}),v.map((Y,G)=>{var j=Y.words.join(T?"":" ");return H.createElement("tspan",{x:O,dy:G===0?z:r,key:"".concat(j,"-").concat(G)},j)}))});WS.displayName="Text";var cst=["labelRef"];function fst(n,t){if(n==null)return{};var e,i,r=hst(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function hst(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function BN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Or(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(e),!0).forEach(function(i){dst(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):BN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function dst(n,t,e){return(t=pst(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function pst(n){var t=mst(n,"string");return typeof t=="symbol"?t:t+""}function mst(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function pf(){return pf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pf.apply(null,arguments)}var iH=H.createContext(null),gst=n=>{var{x:t,y:e,width:i,height:r,children:a}=n,o=H.useMemo(()=>({x:t,y:e,width:i,height:r}),[t,e,i,r]);return H.createElement(iH.Provider,{value:o},a)},rH=()=>{var n=H.useContext(iH),t=$C();return n||t},vst=H.createContext(null),yst=()=>{var n=H.useContext(vst),t=Qe(q5);return n||t},_st=n=>{var{value:t,formatter:e}=n,i=Yr(n.children)?t:n.children;return typeof e=="function"?e(i):i},cR=n=>n!=null&&typeof n=="function",xst=(n,t)=>{var e=rs(t-n),i=Math.min(Math.abs(t-n),360);return e*i},bst=(n,t,e,i,r)=>{var{offset:a,className:o}=n,{cx:l,cy:h,innerRadius:d,outerRadius:g,startAngle:v,endAngle:_,clockWise:b}=r,M=(d+g)/2,A=xst(v,_),T=A>=0?1:-1,E,O;switch(t){case"insideStart":E=v+T*a,O=b;break;case"insideEnd":E=_-T*a,O=!b;break;case"end":E=_+T*a,O=b;break;default:throw new Error("Unsupported position ".concat(t))}O=A<=0?O:!O;var P=kr(l,h,M,E),z=kr(l,h,M,E+(O?1:-1)*359),F="M".concat(P.x,",").concat(P.y,`
    A`).concat(M,",").concat(M,",0,1,").concat(O?0:1,`,
    `).concat(z.x,",").concat(z.y),I=Yr(n.id)?Gy("recharts-radial-line-"):n.id;return H.createElement("text",pf({},i,{dominantBaseline:"central",className:oi("recharts-radial-bar-label",o)}),H.createElement("defs",null,H.createElement("path",{id:I,d:F})),H.createElement("textPath",{xlinkHref:"#".concat(I)},e))},Sst=(n,t,e)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:o,startAngle:l,endAngle:h}=n,d=(l+h)/2;if(e==="outside"){var{x:g,y:v}=kr(i,r,o+t,d);return{x:g,y:v,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(e==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(e==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(e==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var _=(a+o)/2,{x:b,y:M}=kr(i,r,_,d);return{x:b,y:M,textAnchor:"middle",verticalAnchor:"middle"}},aH=n=>"cx"in n&&un(n.cx),Mst=(n,t)=>{var{parentViewBox:e,offset:i,position:r}=n,a;e!=null&&!aH(e)&&(a=e);var{x:o,y:l,width:h,height:d}=t,g=d>=0?1:-1,v=g*i,_=g>0?"end":"start",b=g>0?"start":"end",M=h>=0?1:-1,A=M*i,T=M>0?"end":"start",E=M>0?"start":"end";if(r==="top"){var O={x:o+h/2,y:l-g*i,textAnchor:"middle",verticalAnchor:_};return Or(Or({},O),a?{height:Math.max(l-a.y,0),width:h}:{})}if(r==="bottom"){var P={x:o+h/2,y:l+d+v,textAnchor:"middle",verticalAnchor:b};return Or(Or({},P),a?{height:Math.max(a.y+a.height-(l+d),0),width:h}:{})}if(r==="left"){var z={x:o-A,y:l+d/2,textAnchor:T,verticalAnchor:"middle"};return Or(Or({},z),a?{width:Math.max(z.x-a.x,0),height:d}:{})}if(r==="right"){var F={x:o+h+A,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return Or(Or({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:d}:{})}var I=a?{width:h,height:d}:{};return r==="insideLeft"?Or({x:o+A,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},I):r==="insideRight"?Or({x:o+h-A,y:l+d/2,textAnchor:T,verticalAnchor:"middle"},I):r==="insideTop"?Or({x:o+h/2,y:l+v,textAnchor:"middle",verticalAnchor:b},I):r==="insideBottom"?Or({x:o+h/2,y:l+d-v,textAnchor:"middle",verticalAnchor:_},I):r==="insideTopLeft"?Or({x:o+A,y:l+v,textAnchor:E,verticalAnchor:b},I):r==="insideTopRight"?Or({x:o+h-A,y:l+v,textAnchor:T,verticalAnchor:b},I):r==="insideBottomLeft"?Or({x:o+A,y:l+d-v,textAnchor:E,verticalAnchor:_},I):r==="insideBottomRight"?Or({x:o+h-A,y:l+d-v,textAnchor:T,verticalAnchor:_},I):r&&typeof r=="object"&&(un(r.x)||sp(r.x))&&(un(r.y)||sp(r.y))?Or({x:o+Io(r.x,h),y:l+Io(r.y,d),textAnchor:"end",verticalAnchor:"end"},I):Or({x:o+h/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Est={offset:5};function Rh(n){var t=Go(n,Est),{viewBox:e,position:i,value:r,children:a,content:o,className:l="",textBreakAll:h,labelRef:d}=t,g=yst(),v=rH(),_=i==="center"?v:g??v,b=e||_;if(!b||Yr(r)&&Yr(a)&&!H.isValidElement(o)&&typeof o!="function")return null;var M=Or(Or({},t),{},{viewBox:b});if(H.isValidElement(o)){var{labelRef:A}=M,T=fst(M,cst);return H.cloneElement(o,T)}var E;if(typeof o=="function"){if(E=H.createElement(o,M),H.isValidElement(E))return E}else E=_st(t);var O=aH(b),P=fr(t,!0);if(O&&(i==="insideStart"||i==="insideEnd"||i==="end"))return bst(t,i,E,P,b);var z=O?Sst(b,t.offset,t.position):Mst(t,b);return H.createElement(WS,pf({ref:d,className:oi("recharts-label",l)},P,z,{breakAll:h}),E)}Rh.displayName="Label";var Tst=(n,t,e)=>{if(!n)return null;var i={viewBox:t,labelRef:e};return n===!0?H.createElement(Rh,pf({key:"label-implicit"},i)):_c(n)?H.createElement(Rh,pf({key:"label-implicit",value:n},i)):H.isValidElement(n)?n.type===Rh?H.cloneElement(n,Or({key:"label-implicit"},i)):H.createElement(Rh,pf({key:"label-implicit",content:n},i)):cR(n)?H.createElement(Rh,pf({key:"label-implicit",content:n},i)):n&&typeof n=="object"?H.createElement(Rh,pf({},n,{key:"label-implicit"},i)):null};function wst(n){var{label:t}=n,e=rH();return Tst(t,e)||null}var lw={},uw={},FN;function Ast(){return FN||(FN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e[e.length-1]}n.last=t})(uw)),uw}var cw={},HN;function Cst(){return HN||(HN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Array.isArray(e)?e:Array.from(e)}n.toArray=t})(cw)),cw}var kN;function Rst(){return kN||(kN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Ast(),e=Cst(),i=GC();function r(a){if(i.isArrayLike(a))return t.last(e.toArray(a))}n.last=r})(lw)),lw}var fw,jN;function Ost(){return jN||(jN=1,fw=Rst().last),fw}var Pst=Ost();const Dst=Ll(Pst);var Lst=["valueAccessor"],Nst=["dataKey","clockWise","id","textBreakAll"];function C1(){return C1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},C1.apply(null,arguments)}function VN(n,t){if(n==null)return{};var e,i,r=Ust(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Ust(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var zst=n=>Array.isArray(n.value)?Dst(n.value):n.value,sH=H.createContext(void 0),Ist=sH.Provider,oH=H.createContext(void 0),Bst=oH.Provider;function Fst(){return H.useContext(sH)}function Hst(){return H.useContext(oH)}function rb(n){var{valueAccessor:t=zst}=n,e=VN(n,Lst),{dataKey:i,clockWise:r,id:a,textBreakAll:o}=e,l=VN(e,Nst),h=Fst(),d=Hst(),g=h||d;return!g||!g.length?null:H.createElement(ko,{className:"recharts-label-list"},g.map((v,_)=>{var b,M=Yr(i)?t(v,_):Ki(v&&v.payload,i),A=Yr(a)?{}:{id:"".concat(a,"-").concat(_)};return H.createElement(Rh,C1({},fr(v,!0),l,A,{fill:(b=e.fill)!==null&&b!==void 0?b:v.fill,parentViewBox:v.parentViewBox,value:M,textBreakAll:o,viewBox:v.viewBox,key:"label-".concat(_),index:_}))}))}rb.displayName="LabelList";function lH(n){var{label:t}=n;return t?t===!0?H.createElement(rb,{key:"labelList-implicit"}):H.isValidElement(t)||cR(t)?H.createElement(rb,{key:"labelList-implicit",content:t}):typeof t=="object"?H.createElement(rb,C1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function RA(){return RA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},RA.apply(null,arguments)}var uH=n=>{var{cx:t,cy:e,r:i,className:r}=n,a=oi("recharts-dot",r);return t===+t&&e===+e&&i===+i?H.createElement("circle",RA({},qh(n),UC(n),{className:a,cx:t,cy:e,r:i})):null},cH=n=>n.graphicalItems.polarItems,kst=Kt([Ji,w0],F2),fR=Kt([cH,Lr,kst],H2),jst=Kt([fR],k2),hR=Kt([jst,A2],j2),Vst=Kt([hR,Lr,fR],G2),Gst=Kt([hR,Lr,fR],(n,t,e)=>e.length>0?n.flatMap(i=>e.flatMap(r=>{var a,o=Ki(i,(a=t.dataKey)!==null&&a!==void 0?a:r.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?n.map(i=>({value:Ki(i,t.dataKey),errorDomain:[]})):n.map(i=>({value:i,errorDomain:[]}))),GN=()=>{},qst=Kt([Lr,dF,GN,Gst,GN,Ai,Ji],W2),fH=Kt([Lr,Ai,hR,Vst,T0,Ji,qst],X2),Wst=Kt([fH,Lr,Gg],K2);Kt([Lr,fH,Wst,Ji],$2);var Xst={radiusAxis:{},angleAxis:{}},hH=Vo({name:"polarAxis",initialState:Xst,reducers:{addRadiusAxis(n,t){n.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(n,t){delete n.radiusAxis[t.payload.id]},addAngleAxis(n,t){n.angleAxis[t.payload.id]=t.payload},removeAngleAxis(n,t){delete n.angleAxis[t.payload.id]}}}),{addRadiusAxis:Gft,removeRadiusAxis:qft,addAngleAxis:Wft,removeAngleAxis:Xft}=hH.actions,Yst=hH.reducer;function qN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function WN(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(e),!0).forEach(function(i){Zst(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):qN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Zst(n,t,e){return(t=Kst(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Kst(n){var t=Qst(n,"string");return typeof t=="symbol"?t:t+""}function Qst(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var $st=(n,t)=>t,dR=Kt([cH,$st],(n,t)=>n.filter(e=>e.type==="pie").find(e=>e.id===t)),Jst=[],pR=(n,t,e)=>e?.length===0?Jst:e,dH=Kt([A2,dR,pR],(n,t,e)=>{var{chartData:i}=n;if(t!=null){var r;if(t?.data!=null&&t.data.length>0?r=t.data:r=i,(!r||!r.length)&&e!=null&&(r=e.map(a=>WN(WN({},t.presentationProps),a.props))),r!=null)return r}}),tot=Kt([dH,dR,pR],(n,t,e)=>{if(!(n==null||t==null))return n.map((i,r)=>{var a,o=Ki(i,t.nameKey,t.name),l;return e!=null&&(a=e[r])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=e[r].props.fill:typeof i=="object"&&i!=null&&"fill"in i?l=i.fill:l=t.fill,{value:ES(o,t.dataKey),color:l,payload:i,type:t.legendType}})}),eot=Kt([dH,dR,pR,ya],(n,t,e,i)=>{if(!(t==null||n==null))return rlt({offset:i,pieSettings:t,displayedData:n,cells:e})}),hw={},XN;function not(){return XN||(XN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let i=e;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(e)===i}n.isPlainObject=t})(hw)),hw}var dw,YN;function iot(){return YN||(YN=1,dw=not().isPlainObject),dw}var rot=iot();const aot=Ll(rot);function ZN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function KN(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(e),!0).forEach(function(i){sot(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function sot(n,t,e){return(t=oot(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oot(n){var t=lot(n,"string");return typeof t=="symbol"?t:t+""}function lot(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function R1(){return R1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},R1.apply(null,arguments)}var QN=(n,t,e,i,r)=>{var a=e-i,o;return o="M ".concat(n,",").concat(t),o+="L ".concat(n+e,",").concat(t),o+="L ".concat(n+e-a/2,",").concat(t+r),o+="L ".concat(n+e-a/2-i,",").concat(t+r),o+="L ".concat(n,",").concat(t," Z"),o},uot={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cot=n=>{var t=Go(n,uot),{x:e,y:i,upperWidth:r,lowerWidth:a,height:o,className:l}=t,{animationEasing:h,animationDuration:d,animationBegin:g,isUpdateAnimationActive:v}=t,_=H.useRef(),[b,M]=H.useState(-1),A=H.useRef(r),T=H.useRef(a),E=H.useRef(o),O=H.useRef(e),P=H.useRef(i),z=OS(n,"trapezoid-");if(H.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var dt=_.current.getTotalLength();dt&&M(dt)}catch{}},[]),e!==+e||i!==+i||r!==+r||a!==+a||o!==+o||r===0&&a===0||o===0)return null;var F=oi("recharts-trapezoid",l);if(!v)return H.createElement("g",null,H.createElement("path",R1({},fr(t,!0),{className:F,d:QN(e,i,r,a,o)})));var I=A.current,q=T.current,Y=E.current,G=O.current,j=P.current,K="0px ".concat(b===-1?1:b,"px"),st="".concat(b,"px 0px"),lt=I4(["strokeDasharray"],d,h);return H.createElement(RS,{animationId:z,key:z,canBegin:b>0,duration:d,easing:h,isActive:v,begin:g},dt=>{var vt=ns(I,r,dt),X=ns(q,a,dt),it=ns(Y,o,dt),tt=ns(G,e,dt),yt=ns(j,i,dt);_.current&&(A.current=vt,T.current=X,E.current=it,O.current=tt,P.current=yt);var Q=dt>0?{transition:lt,strokeDasharray:st}:{strokeDasharray:K};return H.createElement("path",R1({},fr(t,!0),{className:F,d:QN(tt,yt,vt,X,it),ref:_,style:KN(KN({},Q),t.style)}))})},fot=["option","shapeType","propTransformer","activeClassName","isActive"];function hot(n,t){if(n==null)return{};var e,i,r=dot(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function dot(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function $N(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function O1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(e),!0).forEach(function(i){pot(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$N(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function pot(n,t,e){return(t=mot(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function mot(n){var t=got(n,"string");return typeof t=="symbol"?t:t+""}function got(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function vot(n,t){return O1(O1({},t),n)}function yot(n,t){return n==="symbols"}function JN(n){var{shapeType:t,elementProps:e}=n;switch(t){case"rectangle":return H.createElement(k4,e);case"trapezoid":return H.createElement(cot,e);case"sector":return H.createElement(G4,e);case"symbols":if(yot(t))return H.createElement(kC,e);break;default:return null}}function _ot(n){return H.isValidElement(n)?n.props:n}function xot(n){var{option:t,shapeType:e,propTransformer:i=vot,activeClassName:r="recharts-active-shape",isActive:a}=n,o=hot(n,fot),l;if(H.isValidElement(t))l=H.cloneElement(t,O1(O1({},o),_ot(t)));else if(typeof t=="function")l=t(o);else if(aot(t)&&typeof t!="boolean"){var h=i(t,o);l=H.createElement(JN,{shapeType:e,elementProps:h})}else{var d=o;l=H.createElement(JN,{shapeType:e,elementProps:d})}return a?H.createElement(ko,{className:r},l):l}var bot=(n,t)=>{var e=hr();return(i,r)=>a=>{n?.(i,r,a),e(RF({activeIndex:String(r),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},Sot=n=>{var t=hr();return(e,i)=>r=>{n?.(e,i,r),t(Jit())}},Mot=(n,t)=>{var e=hr();return(i,r)=>a=>{n?.(i,r,a),e(trt({activeIndex:String(r),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function pH(n){var{fn:t,args:e}=n,i=hr(),r=Ul();return H.useEffect(()=>{if(!r){var a=t(e);return i(Kit(a)),()=>{i(Qit(a))}}},[t,e,i,r]),null}var mH=()=>{};function Eot(n){var{legendPayload:t}=n,e=hr(),i=Ul();return H.useEffect(()=>i?mH:(e(N4(t)),()=>{e(U4(t))}),[e,i,t]),null}function Tot(n){var{legendPayload:t}=n,e=hr(),i=Qe(Ai);return H.useEffect(()=>i!=="centric"&&i!=="radial"?mH:(e(N4(t)),()=>{e(U4(t))}),[e,i,t]),null}var pw,wot=()=>{var[n]=H.useState(()=>Gy("uid-"));return n},Aot=(pw=Hk.useId)!==null&&pw!==void 0?pw:wot;function Cot(n,t){var e=Aot();return t||(n?"".concat(n,"-").concat(e):e)}var Rot=H.createContext(void 0),gH=n=>{var{id:t,type:e,children:i}=n,r=Cot("recharts-".concat(e),t);return H.createElement(Rot.Provider,{value:r},i(r))},Oot={cartesianItems:[],polarItems:[]},vH=Vo({name:"graphicalItems",initialState:Oot,reducers:{addCartesianGraphicalItem(n,t){n.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(n,t){var{prev:e,next:i}=t.payload,r=xf(n).cartesianItems.indexOf(e);r>-1&&(n.cartesianItems[r]=i)},removeCartesianGraphicalItem(n,t){var e=xf(n).cartesianItems.indexOf(t.payload);e>-1&&n.cartesianItems.splice(e,1)},addPolarGraphicalItem(n,t){n.polarItems.push(t.payload)},removePolarGraphicalItem(n,t){var e=xf(n).polarItems.indexOf(t.payload);e>-1&&n.polarItems.splice(e,1)}}}),{addCartesianGraphicalItem:Pot,replaceCartesianGraphicalItem:Dot,removeCartesianGraphicalItem:Lot,addPolarGraphicalItem:Not,removePolarGraphicalItem:Uot}=vH.actions,zot=vH.reducer;function Iot(n){var t=hr(),e=H.useRef(null);return H.useEffect(()=>{e.current===null?t(Pot(n)):e.current!==n&&t(Dot({prev:e.current,next:n})),e.current=n},[t,n]),H.useEffect(()=>()=>{e.current&&(t(Lot(e.current)),e.current=null)},[t]),null}function Bot(n){var t=hr();return H.useEffect(()=>(t(Not(n)),()=>{t(Uot(n))}),[t,n]),null}var Fot=["onMouseEnter","onClick","onMouseLeave"],Hot=["id"],kot=["id"];function mR(n,t){if(n==null)return{};var e,i,r=jot(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function jot(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function tU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(e),!0).forEach(function(i){Vot(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):tU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Vot(n,t,e){return(t=Got(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Got(n){var t=qot(n,"string");return typeof t=="symbol"?t:t+""}function qot(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function kh(){return kh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},kh.apply(null,arguments)}function Wot(n){var t=H.useMemo(()=>xB(n.children,qS),[n.children]),e=Qe(i=>tot(i,n.id,t));return e==null?null:H.createElement(Tot,{legendPayload:e})}function Xot(n){var{dataKey:t,nameKey:e,sectors:i,stroke:r,strokeWidth:a,fill:o,name:l,hide:h,tooltipType:d}=n;return{dataDefinedOnItem:i.map(g=>g.tooltipPayload),positions:i.map(g=>g.tooltipPosition),settings:{stroke:r,strokeWidth:a,fill:o,dataKey:t,nameKey:e,name:ES(l,t),hide:h,type:d,color:o,unit:""}}}var Yot=(n,t)=>n>t?"start":n<t?"end":"middle",Zot=(n,t,e)=>Io(typeof t=="function"?t(n):t,e,e*.8),Kot=(n,t,e)=>{var{top:i,left:r,width:a,height:o}=t,l=E4(a,o),h=r+Io(n.cx,a,a/2),d=i+Io(n.cy,o,o/2),g=Io(n.innerRadius,l,0),v=Zot(e,n.outerRadius,l),_=n.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:h,cy:d,innerRadius:g,outerRadius:v,maxRadius:_}},Qot=(n,t)=>{var e=rs(t-n),i=Math.min(Math.abs(t-n),360);return e*i};function $ot(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}var Jot=(n,t)=>{if(H.isValidElement(n))return H.cloneElement(n,t);if(typeof n=="function")return n(t);var e=oi("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return H.createElement(i2,kh({},t,{type:"linear",className:e}))},tlt=(n,t,e)=>{if(H.isValidElement(n))return H.cloneElement(n,t);var i=e;if(typeof n=="function"&&(i=n(t),H.isValidElement(i)))return i;var r=oi("recharts-pie-label-text",$ot(n));return H.createElement(WS,kh({},t,{alignmentBaseline:"middle",className:r}),i)};function elt(n){var{sectors:t,props:e,showLabels:i}=n,{label:r,labelLine:a,dataKey:o}=e;if(!i||!r||!t)return null;var l=qh(e),h=fr(r,!1),d=fr(a,!1),g=typeof r=="object"&&"offsetRadius"in r&&typeof r.offsetRadius=="number"&&r.offsetRadius||20,v=t.map((_,b)=>{var M=(_.startAngle+_.endAngle)/2,A=kr(_.cx,_.cy,_.outerRadius+g,M),T=Zi(Zi(Zi(Zi({},l),_),{},{stroke:"none"},h),{},{index:b,textAnchor:Yot(A.x,_.cx)},A),E=Zi(Zi(Zi(Zi({},l),_),{},{fill:"none",stroke:_.fill},d),{},{index:b,points:[kr(_.cx,_.cy,_.outerRadius,M),A],key:"line"});return H.createElement(ko,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(b)},a&&Jot(a,E),tlt(r,T,Ki(_,o)))});return H.createElement(ko,{className:"recharts-pie-labels"},v)}function nlt(n){var{sectors:t,props:e,showLabels:i}=n,{label:r}=e;return typeof r=="object"&&r!=null&&"position"in r?H.createElement(lH,{label:e.label}):H.createElement(elt,{sectors:t,props:e,showLabels:i})}function ilt(n){var{sectors:t,activeShape:e,inactiveShape:i,allOtherPieProps:r}=n,a=Qe(Og),{onMouseEnter:o,onClick:l,onMouseLeave:h}=r,d=mR(r,Fot),g=bot(o,r.dataKey),v=Sot(h),_=Mot(l,r.dataKey);return t==null||t.length===0?null:H.createElement(H.Fragment,null,t.map((b,M)=>{if(b?.startAngle===0&&b?.endAngle===0&&t.length!==1)return null;var A=e&&String(M)===a,T=a?i:null,E=A?e:T,O=Zi(Zi({},b),{},{stroke:b.stroke,tabIndex:-1,[R4]:M,[O4]:r.dataKey});return H.createElement(ko,kh({tabIndex:-1,className:"recharts-pie-sector"},zC(d,b,M),{onMouseEnter:g(b,M),onMouseLeave:v(b,M),onClick:_(b,M),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(M)}),H.createElement(xot,kh({option:E,isActive:A,shapeType:"sector"},O)))}))}function rlt(n){var t,{pieSettings:e,displayedData:i,cells:r,offset:a}=n,{cornerRadius:o,startAngle:l,endAngle:h,dataKey:d,nameKey:g,tooltipType:v}=e,_=Math.abs(e.minAngle),b=Qot(l,h),M=Math.abs(b),A=i.length<=1?0:(t=e.paddingAngle)!==null&&t!==void 0?t:0,T=i.filter(I=>Ki(I,d,0)!==0).length,E=(M>=360?T:T-1)*A,O=M-T*_-E,P=i.reduce((I,q)=>{var Y=Ki(q,d,0);return I+(un(Y)?Y:0)},0),z;if(P>0){var F;z=i.map((I,q)=>{var Y=Ki(I,d,0),G=Ki(I,g,q),j=Kot(e,a,I),K=(un(Y)?Y:0)/P,st,lt=Zi(Zi({},I),r&&r[q]&&r[q].props);q?st=F.endAngle+rs(b)*A*(Y!==0?1:0):st=l;var dt=st+rs(b)*((Y!==0?_:0)+K*O),vt=(st+dt)/2,X=(j.innerRadius+j.outerRadius)/2,it=[{name:G,value:Y,payload:lt,dataKey:d,type:v}],tt=kr(j.cx,j.cy,X,vt);return F=Zi(Zi(Zi(Zi({},e.presentationProps),{},{percent:K,cornerRadius:o,name:G,tooltipPayload:it,midAngle:vt,middleRadius:X,tooltipPosition:tt},lt),j),{},{value:Ki(I,d),startAngle:st,endAngle:dt,payload:lt,paddingAngle:rs(b)*A}),F})}return z}function alt(n){var{showLabels:t,sectors:e,children:i}=n,r=H.useMemo(()=>!t||!e?[]:e.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[e,t]);return H.createElement(Bst,{value:t?r:void 0},i)}function slt(n){var{props:t,previousSectorsRef:e}=n,{sectors:i,isAnimationActive:r,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:h,inactiveShape:d,onAnimationStart:g,onAnimationEnd:v}=t,_=OS(t,"recharts-pie-"),b=e.current,[M,A]=H.useState(!1),T=H.useCallback(()=>{typeof v=="function"&&v(),A(!1)},[v]),E=H.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return H.createElement(alt,{showLabels:!M,sectors:i},H.createElement(RS,{animationId:_,begin:a,duration:o,isActive:r,easing:l,onAnimationStart:E,onAnimationEnd:T,key:_},O=>{var P=[],z=i&&i[0],F=z?.startAngle;return i?.forEach((I,q)=>{var Y=b&&b[q],G=q>0?Tp(I,"paddingAngle",0):0;if(Y){var j=ns(Y.endAngle-Y.startAngle,I.endAngle-I.startAngle,O),K=Zi(Zi({},I),{},{startAngle:F+G,endAngle:F+j+G});P.push(K),F=K.endAngle}else{var{endAngle:st,startAngle:lt}=I,dt=ns(0,st-lt,O),vt=Zi(Zi({},I),{},{startAngle:F+G,endAngle:F+dt+G});P.push(vt),F=vt.endAngle}}),e.current=P,H.createElement(ko,null,H.createElement(ilt,{sectors:P,activeShape:h,inactiveShape:d,allOtherPieProps:t}))}),H.createElement(nlt,{showLabels:!M,sectors:i,props:t}),t.children)}var olt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Bg.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function llt(n){var{id:t}=n,e=mR(n,Hot),{hide:i,className:r,rootTabIndex:a}=n,o=H.useMemo(()=>xB(n.children,qS),[n.children]),l=Qe(g=>eot(g,t,o)),h=H.useRef(null),d=oi("recharts-pie",r);return i||l==null?(h.current=null,H.createElement(ko,{tabIndex:a,className:d})):H.createElement(H.Fragment,null,H.createElement(pH,{fn:Xot,args:Zi(Zi({},n),{},{sectors:l})}),H.createElement(ko,{tabIndex:a,className:d},H.createElement(slt,{props:Zi(Zi({},e),{},{sectors:l}),previousSectorsRef:h})))}function yH(n){var t=Go(n,olt),{id:e}=t,i=mR(t,kot),r=qh(i);return H.createElement(gH,{id:e,type:"pie"},a=>H.createElement(H.Fragment,null,H.createElement(Bot,{type:"pie",id:a,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:r}),H.createElement(Wot,kh({},i,{id:a})),H.createElement(llt,kh({},i,{id:a}))))}yH.displayName="Pie";function eU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function nU(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eU(Object(e),!0).forEach(function(i){ult(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):eU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function ult(n,t,e){return(t=clt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function clt(n){var t=flt(n,"string");return typeof t=="symbol"?t:t+""}function flt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var hlt={xAxis:{},yAxis:{},zAxis:{}},_H=Vo({name:"cartesianAxis",initialState:hlt,reducers:{addXAxis(n,t){n.xAxis[t.payload.id]=t.payload},removeXAxis(n,t){delete n.xAxis[t.payload.id]},addYAxis(n,t){n.yAxis[t.payload.id]=t.payload},removeYAxis(n,t){delete n.yAxis[t.payload.id]},addZAxis(n,t){n.zAxis[t.payload.id]=t.payload},removeZAxis(n,t){delete n.zAxis[t.payload.id]},updateYAxisWidth(n,t){var{id:e,width:i}=t.payload;n.yAxis[e]&&(n.yAxis[e]=nU(nU({},n.yAxis[e]),{},{width:i}))}}}),{addXAxis:dlt,removeXAxis:plt,addYAxis:mlt,removeYAxis:glt,addZAxis:Yft,removeZAxis:Zft,updateYAxisWidth:vlt}=_H.actions,ylt=_H.reducer,_lt=Kt([ya],n=>{if(n)return{top:n.top,bottom:n.bottom,left:n.left,right:n.right}}),xlt=Kt([_lt,Pf,Df],(n,t,e)=>{if(!(!n||t==null||e==null))return{x:n.left,y:n.top,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}}),gR=()=>Qe(xlt),blt=()=>Qe(krt);function iU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function rU(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(e),!0).forEach(function(i){Slt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):iU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Slt(n,t,e){return(t=Mlt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Mlt(n){var t=Elt(n,"string");return typeof t=="symbol"?t:t+""}function Elt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Tlt=n=>{var{point:t,childIndex:e,mainColor:i,activeDot:r,dataKey:a}=n;if(r===!1||t.x==null||t.y==null)return null;var o=rU(rU({index:e,dataKey:a,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},fr(r,!1)),UC(r)),l;return H.isValidElement(r)?l=H.cloneElement(r,o):typeof r=="function"?l=r(o):l=H.createElement(uH,o),H.createElement(ko,{className:"recharts-active-dot"},l)};function wlt(n){var{points:t,mainColor:e,activeDot:i,itemDataKey:r}=n,a=Qe(Og),o=blt();if(t==null||o==null)return null;var l=t.find(h=>o.includes(h.payload));return Yr(l)?null:Tlt({point:l,childIndex:Number(a),mainColor:e,dataKey:r,activeDot:i})}var Alt={},xH=Vo({name:"errorBars",initialState:Alt,reducers:{addErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]||(n[e]=[]),n[e].push(i)},replaceErrorBar:(n,t)=>{var{itemId:e,prev:i,next:r}=t.payload;n[e]&&(n[e]=n[e].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]&&(n[e]=n[e].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:Kft,replaceErrorBar:Qft,removeErrorBar:$ft}=xH.actions,Clt=xH.reducer,Rlt=["children"];function Olt(n,t){if(n==null)return{};var e,i,r=Plt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Plt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var Dlt={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Llt=H.createContext(Dlt);function Nlt(n){var{children:t}=n,e=Olt(n,Rlt);return H.createElement(Llt.Provider,{value:e},t)}function bH(n,t){var e,i,r=Qe(d=>Kh(d,n)),a=Qe(d=>Qh(d,t)),o=(e=r?.allowDataOverflow)!==null&&e!==void 0?e:Ro.allowDataOverflow,l=(i=a?.allowDataOverflow)!==null&&i!==void 0?i:Oo.allowDataOverflow,h=o||l;return{needClip:h,needClipX:o,needClipY:l}}function Ult(n){var{xAxisId:t,yAxisId:e,clipPathId:i}=n,r=gR(),{needClipX:a,needClipY:o,needClip:l}=bH(t,e);if(!l)return null;var{x:h,y:d,width:g,height:v}=r;return H.createElement("clipPath",{id:"clipPath-".concat(i)},H.createElement("rect",{x:a?h:h-g/2,y:o?d:d-v/2,width:a?g:g*2,height:o?v:v*2}))}var SH=n=>{var{chartData:t}=n,e=hr(),i=Ul();return H.useEffect(()=>i?()=>{}:(e(yN(t)),()=>{e(yN(void 0))}),[t,e,i]),null},aU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MH=Vo({name:"brush",initialState:aU,reducers:{setBrushSettings(n,t){return t.payload==null?aU:t.payload}}}),{setBrushSettings:Jft}=MH.actions,zlt=MH.reducer;function Ilt(n,t,e){return(t=Blt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Blt(n){var t=Flt(n,"string");return typeof t=="symbol"?t:t+""}function Flt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class vR{static create(t){return new vR(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:e,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+r}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(e){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var e=this.range(),i=e[0],r=e[e.length-1];return i<=r?t>=i&&t<=r:t>=r&&t<=i}}Ilt(vR,"EPS",1e-4);function Hlt(n){return(n%180+180)%180}var klt=function(t){var{width:e,height:i}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Hlt(r),o=a*Math.PI/180,l=Math.atan(i/e),h=o>l&&o<Math.PI-l?i/Math.sin(o):e/Math.cos(o);return Math.abs(h)},jlt={dots:[],areas:[],lines:[]},EH=Vo({name:"referenceElements",initialState:jlt,reducers:{addDot:(n,t)=>{n.dots.push(t.payload)},removeDot:(n,t)=>{var e=xf(n).dots.findIndex(i=>i===t.payload);e!==-1&&n.dots.splice(e,1)},addArea:(n,t)=>{n.areas.push(t.payload)},removeArea:(n,t)=>{var e=xf(n).areas.findIndex(i=>i===t.payload);e!==-1&&n.areas.splice(e,1)},addLine:(n,t)=>{n.lines.push(t.payload)},removeLine:(n,t)=>{var e=xf(n).lines.findIndex(i=>i===t.payload);e!==-1&&n.lines.splice(e,1)}}}),{addDot:tht,removeDot:eht,addArea:nht,removeArea:iht,addLine:rht,removeLine:aht}=EH.actions,Vlt=EH.reducer,Glt=H.createContext(void 0),qlt=n=>{var{children:t}=n,[e]=H.useState("".concat(Gy("recharts"),"-clip")),i=gR();if(i==null)return null;var{x:r,y:a,width:o,height:l}=i;return H.createElement(Glt.Provider,{value:e},H.createElement("defs",null,H.createElement("clipPath",{id:e},H.createElement("rect",{x:r,y:a,height:l,width:o}))),t)};function mw(n,t){for(var e in n)if({}.hasOwnProperty.call(n,e)&&(!{}.hasOwnProperty.call(t,e)||n[e]!==t[e]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(n,i))return!1;return!0}function TH(n,t,e){if(t<1)return[];if(t===1&&e===void 0)return n;for(var i=[],r=0;r<n.length;r+=t)i.push(n[r]);return i}function Wlt(n,t,e){var i={width:n.width+t.width,height:n.height+t.height};return klt(i,e)}function Xlt(n,t,e){var i=e==="width",{x:r,y:a,width:o,height:l}=n;return t===1?{start:i?r:a,end:i?r+o:a+l}:{start:i?r+o:a+l,end:i?r:a}}function P1(n,t,e,i,r){if(n*t<n*i||n*t>n*r)return!1;var a=e();return n*(t-n*a/2-i)>=0&&n*(t+n*a/2-r)<=0}function Ylt(n,t){return TH(n,t+1)}function Zlt(n,t,e,i,r){for(var a=(i||[]).slice(),{start:o,end:l}=t,h=0,d=1,g=o,v=function(){var M=i?.[h];if(M===void 0)return{v:TH(i,d)};var A=h,T,E=()=>(T===void 0&&(T=e(M,A)),T),O=M.coordinate,P=h===0||P1(n,O,E,g,l);P||(h=0,g=o,d+=1),P&&(g=O+n*(E()/2+r),h+=d)},_;d<=a.length;)if(_=v(),_)return _.v;return[]}function sU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ts(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(e),!0).forEach(function(i){Klt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):sU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Klt(n,t,e){return(t=Qlt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Qlt(n){var t=$lt(n,"string");return typeof t=="symbol"?t:t+""}function $lt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Jlt(n,t,e,i,r){for(var a=(i||[]).slice(),o=a.length,{start:l}=t,{end:h}=t,d=function(_){var b=a[_],M,A=()=>(M===void 0&&(M=e(b,_)),M);if(_===o-1){var T=n*(b.coordinate+n*A()/2-h);a[_]=b=ts(ts({},b),{},{tickCoord:T>0?b.coordinate-T*n:b.coordinate})}else a[_]=b=ts(ts({},b),{},{tickCoord:b.coordinate});var E=P1(n,b.tickCoord,A,l,h);E&&(h=b.tickCoord-n*(A()/2+r),a[_]=ts(ts({},b),{},{isShow:!0}))},g=o-1;g>=0;g--)d(g);return a}function tut(n,t,e,i,r,a){var o=(i||[]).slice(),l=o.length,{start:h,end:d}=t;if(a){var g=i[l-1],v=e(g,l-1),_=n*(g.coordinate+n*v/2-d);o[l-1]=g=ts(ts({},g),{},{tickCoord:_>0?g.coordinate-_*n:g.coordinate});var b=P1(n,g.tickCoord,()=>v,h,d);b&&(d=g.tickCoord-n*(v/2+r),o[l-1]=ts(ts({},g),{},{isShow:!0}))}for(var M=a?l-1:l,A=function(O){var P=o[O],z,F=()=>(z===void 0&&(z=e(P,O)),z);if(O===0){var I=n*(P.coordinate-n*F()/2-h);o[O]=P=ts(ts({},P),{},{tickCoord:I<0?P.coordinate-I*n:P.coordinate})}else o[O]=P=ts(ts({},P),{},{tickCoord:P.coordinate});var q=P1(n,P.tickCoord,F,h,d);q&&(h=P.tickCoord+n*(F()/2+r),o[O]=ts(ts({},P),{},{isShow:!0}))},T=0;T<M;T++)A(T);return o}function yR(n,t,e){var{tick:i,ticks:r,viewBox:a,minTickGap:o,orientation:l,interval:h,tickFormatter:d,unit:g,angle:v}=n;if(!r||!r.length||!i)return[];if(un(h)||Bg.isSsr){var _;return(_=Ylt(r,un(h)?h:0))!==null&&_!==void 0?_:[]}var b=[],M=l==="top"||l==="bottom"?"width":"height",A=g&&M==="width"?Sy(g,{fontSize:t,letterSpacing:e}):{width:0,height:0},T=(P,z)=>{var F=typeof d=="function"?d(P.value,z):P.value;return M==="width"?Wlt(Sy(F,{fontSize:t,letterSpacing:e}),A,v):Sy(F,{fontSize:t,letterSpacing:e})[M]},E=r.length>=2?rs(r[1].coordinate-r[0].coordinate):1,O=Xlt(a,E,M);return h==="equidistantPreserveStart"?Zlt(E,O,T,r,o):(h==="preserveStart"||h==="preserveStartEnd"?b=tut(E,O,T,r,o,h==="preserveStartEnd"):b=Jlt(E,O,T,r,o),b.filter(P=>P.isShow))}var eut=["viewBox"],nut=["viewBox"];function og(){return og=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},og.apply(null,arguments)}function oU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Xr(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oU(Object(e),!0).forEach(function(i){_R(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function lU(n,t){if(n==null)return{};var e,i,r=iut(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function iut(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function _R(n,t,e){return(t=rut(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function rut(n){var t=aut(n,"string");return typeof t=="symbol"?t:t+""}function aut(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class $h extends H.Component{constructor(t){super(t),this.tickRefs=H.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,e){var{viewBox:i}=t,r=lU(t,eut),a=this.props,{viewBox:o}=a,l=lU(a,nut);return!mw(i,o)||!mw(r,l)||!mw(e,this.state)}getTickLineCoord(t){var{x:e,y:i,width:r,height:a,orientation:o,tickSize:l,mirror:h,tickMargin:d}=this.props,g,v,_,b,M,A,T=h?-1:1,E=t.tickSize||l,O=un(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":g=v=t.coordinate,b=i+ +!h*a,_=b-T*E,A=_-T*d,M=O;break;case"left":_=b=t.coordinate,v=e+ +!h*r,g=v-T*E,M=g-T*d,A=O;break;case"right":_=b=t.coordinate,v=e+ +h*r,g=v+T*E,M=g+T*d,A=O;break;default:g=v=t.coordinate,b=i+ +h*a,_=b+T*E,A=_+T*d,M=O;break}return{line:{x1:g,y1:_,x2:v,y2:b},tick:{x:M,y:A}}}getTickTextAnchor(){var{orientation:t,mirror:e}=this.props;switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:e}=this.props;switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}renderAxisLine(){var{x:t,y:e,width:i,height:r,orientation:a,mirror:o,axisLine:l}=this.props,h=Xr(Xr(Xr({},fr(this.props,!1)),fr(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);h=Xr(Xr({},h),{},{x1:t,y1:e+d*r,x2:t+i,y2:e+d*r})}else{var g=+(a==="left"&&!o||a==="right"&&o);h=Xr(Xr({},h),{},{x1:t+g*i,y1:e,x2:t+g*i,y2:e+r})}return H.createElement("line",og({},h,{className:oi("recharts-cartesian-axis-line",Tp(l,"className"))}))}static renderTickItem(t,e,i){var r,a=oi(e.className,"recharts-cartesian-axis-tick-value");if(H.isValidElement(t))r=H.cloneElement(t,Xr(Xr({},e),{},{className:a}));else if(typeof t=="function")r=t(Xr(Xr({},e),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=oi(o,t.className)),r=H.createElement(WS,og({},e,{className:o}),i)}return r}renderTicks(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:r,stroke:a,tick:o,tickFormatter:l,unit:h,padding:d,tickTextProps:g}=this.props,v=yR(Xr(Xr({},this.props),{},{ticks:i}),t,e),_=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),M=qh(this.props),A=fr(o,!1),T=Xr(Xr({},M),{},{fill:"none"},fr(r,!1)),E=v.map((O,P)=>{var{line:z,tick:F}=this.getTickLineCoord(O),I=Xr(Xr(Xr(Xr({textAnchor:_,verticalAnchor:b},M),{},{stroke:"none",fill:a},A),F),{},{index:P,payload:O,visibleTicksCount:v.length,tickFormatter:l,padding:d},g);return H.createElement(ko,og({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},zC(this.props,O,P)),r&&H.createElement("line",og({},T,z,{className:oi("recharts-cartesian-axis-tick-line",Tp(r,"className"))})),o&&$h.renderTickItem(o,I,"".concat(typeof l=="function"?l(O.value,P):O.value).concat(h||"")))});return E.length>0?H.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:t,width:e,height:i,className:r,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return e!=null&&e<=0||i!=null&&i<=0?null:H.createElement(ko,{className:oi("recharts-cartesian-axis",r),ref:l=>{if(l){var h=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var d=h[0];if(d){var g=window.getComputedStyle(d).fontSize,v=window.getComputedStyle(d).letterSpacing;(g!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),H.createElement(gst,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},H.createElement(wst,{label:this.props.label}),this.props.children))}}_R($h,"displayName","CartesianAxis");_R($h,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sut=["x1","y1","x2","y2","key"],out=["offset"],lut=["xAxisId","yAxisId"],uut=["xAxisId","yAxisId"];function uU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function es(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(e),!0).forEach(function(i){cut(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):uU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function cut(n,t,e){return(t=fut(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function fut(n){var t=hut(n,"string");return typeof t=="symbol"?t:t+""}function hut(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function up(){return up=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},up.apply(null,arguments)}function D1(n,t){if(n==null)return{};var e,i,r=dut(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function dut(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var put=n=>{var{fill:t}=n;if(!t||t==="none")return null;var{fillOpacity:e,x:i,y:r,width:a,height:o,ry:l}=n;return H.createElement("rect",{x:i,y:r,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:e,className:"recharts-cartesian-grid-bg"})};function wH(n,t){var e;if(H.isValidElement(n))e=H.cloneElement(n,t);else if(typeof n=="function")e=n(t);else{var{x1:i,y1:r,x2:a,y2:o,key:l}=t,h=D1(t,sut),d=qh(h),{offset:g}=d,v=D1(d,out);e=H.createElement("line",up({},v,{x1:i,y1:r,x2:a,y2:o,fill:"none",key:l}))}return e}function mut(n){var{x:t,width:e,horizontal:i=!0,horizontalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:o}=n,l=D1(n,lut),h=r.map((d,g)=>{var v=es(es({},l),{},{x1:t,y1:d,x2:t+e,y2:d,key:"line-".concat(g),index:g});return wH(i,v)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function gut(n){var{y:t,height:e,vertical:i=!0,verticalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:o}=n,l=D1(n,uut),h=r.map((d,g)=>{var v=es(es({},l),{},{x1:d,y1:t,x2:d,y2:t+e,key:"line-".concat(g),index:g});return wH(i,v)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function vut(n){var{horizontalFill:t,fillOpacity:e,x:i,y:r,width:a,height:o,horizontalPoints:l,horizontal:h=!0}=n;if(!h||!t||!t.length)return null;var d=l.map(v=>Math.round(v+r-r)).sort((v,_)=>v-_);r!==d[0]&&d.unshift(0);var g=d.map((v,_)=>{var b=!d[_+1],M=b?r+o-v:d[_+1]-v;if(M<=0)return null;var A=_%t.length;return H.createElement("rect",{key:"react-".concat(_),y:v,x:i,height:M,width:a,stroke:"none",fill:t[A],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function yut(n){var{vertical:t=!0,verticalFill:e,fillOpacity:i,x:r,y:a,width:o,height:l,verticalPoints:h}=n;if(!t||!e||!e.length)return null;var d=h.map(v=>Math.round(v+r-r)).sort((v,_)=>v-_);r!==d[0]&&d.unshift(0);var g=d.map((v,_)=>{var b=!d[_+1],M=b?r+o-v:d[_+1]-v;if(M<=0)return null;var A=_%e.length;return H.createElement("rect",{key:"react-".concat(_),x:v,y:a,width:M,height:l,stroke:"none",fill:e[A],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var _ut=(n,t)=>{var{xAxis:e,width:i,height:r,offset:a}=n;return w4(yR(es(es(es({},$h.defaultProps),e),{},{ticks:A4(e),viewBox:{x:0,y:0,width:i,height:r}})),a.left,a.left+a.width,t)},xut=(n,t)=>{var{yAxis:e,width:i,height:r,offset:a}=n;return w4(yR(es(es(es({},$h.defaultProps),e),{},{ticks:A4(e),viewBox:{x:0,y:0,width:i,height:r}})),a.top,a.top+a.height,t)},but={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ab(n){var t=JC(),e=t2(),i=D4(),r=es(es({},Go(n,but)),{},{x:un(n.x)?n.x:i.left,y:un(n.y)?n.y:i.top,width:un(n.width)?n.width:i.width,height:un(n.height)?n.height:i.height}),{xAxisId:a,yAxisId:o,x:l,y:h,width:d,height:g,syncWithTicks:v,horizontalValues:_,verticalValues:b}=r,M=Ul(),A=Qe(G=>uN(G,"xAxis",a,M)),T=Qe(G=>uN(G,"yAxis",o,M));if(!un(d)||d<=0||!un(g)||g<=0||!un(l)||l!==+l||!un(h)||h!==+h)return null;var E=r.verticalCoordinatesGenerator||_ut,O=r.horizontalCoordinatesGenerator||xut,{horizontalPoints:P,verticalPoints:z}=r;if((!P||!P.length)&&typeof O=="function"){var F=_&&_.length,I=O({yAxis:T?es(es({},T),{},{ticks:F?_:T.ticks}):void 0,width:t,height:e,offset:i},F?!0:v);by(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(P=I)}if((!z||!z.length)&&typeof E=="function"){var q=b&&b.length,Y=E({xAxis:A?es(es({},A),{},{ticks:q?b:A.ticks}):void 0,width:t,height:e,offset:i},q?!0:v);by(Array.isArray(Y),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Y,"]")),Array.isArray(Y)&&(z=Y)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(put,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),H.createElement(vut,up({},r,{horizontalPoints:P})),H.createElement(yut,up({},r,{verticalPoints:z})),H.createElement(mut,up({},r,{offset:i,horizontalPoints:P,xAxis:A,yAxis:T})),H.createElement(gut,up({},r,{offset:i,verticalPoints:z,xAxis:A,yAxis:T})))}ab.displayName="CartesianGrid";var AH=(n,t,e,i)=>MF(n,"xAxis",t,i),CH=(n,t,e,i)=>SF(n,"xAxis",t,i),RH=(n,t,e,i)=>MF(n,"yAxis",e,i),OH=(n,t,e,i)=>SF(n,"yAxis",e,i),Sut=Kt([Ai,AH,RH,CH,OH],(n,t,e,i,r)=>Wh(n,"xAxis")?sA(t,i,!1):sA(e,r,!1)),Mut=(n,t,e,i,r)=>r;function Eut(n){return n.type==="line"}var Tut=Kt([$5,Mut],(n,t)=>n.filter(Eut).find(e=>e.id===t)),wut=Kt([Ai,AH,RH,CH,OH,Tut,Sut,C2],(n,t,e,i,r,a,o,l)=>{var{chartData:h,dataStartIndex:d,dataEndIndex:g}=l;if(!(a==null||t==null||e==null||i==null||r==null||i.length===0||r.length===0||o==null)){var{dataKey:v,data:_}=a,b;if(_!=null&&_.length>0?b=_:b=h?.slice(d,g+1),b!=null)return Yut({layout:n,xAxis:t,yAxis:e,xAxisTicks:i,yAxisTicks:r,dataKey:v,bandSize:o,displayedData:b})}}),Aut=["id"],Cut=["type","layout","connectNulls","needClip"],Rut=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function cU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Do(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(e),!0).forEach(function(i){Out(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):cU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Out(n,t,e){return(t=Put(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Put(n){var t=Dut(n,"string");return typeof t=="symbol"?t:t+""}function Dut(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function xR(n,t){if(n==null)return{};var e,i,r=Lut(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Lut(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function Rp(){return Rp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Rp.apply(null,arguments)}var Nut=n=>{var{dataKey:t,name:e,stroke:i,legendType:r,hide:a}=n;return[{inactive:a,dataKey:t,type:r,color:i,value:ES(e,t),payload:n}]};function Uut(n){var{dataKey:t,data:e,stroke:i,strokeWidth:r,fill:a,name:o,hide:l,unit:h}=n;return{dataDefinedOnItem:e,positions:void 0,settings:{stroke:i,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:ES(o,t),hide:l,type:n.tooltipType,color:n.stroke,unit:h}}}var PH=(n,t)=>"".concat(t,"px ").concat(n-t,"px");function zut(n,t){for(var e=n.length%2!==0?[...n,0]:n,i=[],r=0;r<t;++r)i=[...i,...e];return i}var Iut=(n,t,e)=>{var i=e.reduce((v,_)=>v+_);if(!i)return PH(t,n);for(var r=Math.floor(n/i),a=n%i,o=t-n,l=[],h=0,d=0;h<e.length;d+=e[h],++h)if(d+e[h]>a){l=[...e.slice(0,h),a-d];break}var g=l.length%2===0?[0,o]:[o];return[...zut(e,r),...l,...g].map(v=>"".concat(v,"px")).join(", ")};function But(n,t){var e;if(H.isValidElement(n))e=H.cloneElement(n,t);else if(typeof n=="function")e=n(t);else{var i=oi("recharts-line-dot",typeof n!="boolean"?n.className:"");e=H.createElement(uH,Rp({},t,{className:i}))}return e}function Fut(n,t){return n==null?!1:t?!0:n.length===1}function Hut(n){var{clipPathId:t,points:e,props:i}=n,{dot:r,dataKey:a,needClip:o}=i;if(!Fut(e,r))return null;var{id:l}=i,h=xR(i,Aut),d=bB(r),g=qh(h),v=fr(r,!0),_=e.map((M,A)=>{var T=Do(Do(Do({key:"dot-".concat(A),r:3},g),v),{},{index:A,cx:M.x,cy:M.y,dataKey:a,value:M.value,payload:M.payload,points:e});return But(r,T)}),b={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return H.createElement(ko,Rp({className:"recharts-line-dots",key:"dots"},b),_)}function kut(n){var{showLabels:t,children:e,points:i}=n,r=H.useMemo(()=>i?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Do(Do({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[i]);return H.createElement(Ist,{value:t?r:null},e)}function fU(n){var{clipPathId:t,pathRef:e,points:i,strokeDasharray:r,props:a}=n,{type:o,layout:l,connectNulls:h,needClip:d}=a,g=xR(a,Cut),v=Do(Do({},fr(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:i,type:o,layout:l,connectNulls:h,strokeDasharray:r??a.strokeDasharray});return H.createElement(H.Fragment,null,i?.length>1&&H.createElement(i2,Rp({},v,{pathRef:e})),H.createElement(Hut,{points:i,clipPathId:t,props:a}))}function jut(n){try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}function Vut(n){var{clipPathId:t,props:e,pathRef:i,previousPointsRef:r,longestAnimatedLengthRef:a}=n,{points:o,strokeDasharray:l,isAnimationActive:h,animationBegin:d,animationDuration:g,animationEasing:v,animateNewValues:_,width:b,height:M,onAnimationEnd:A,onAnimationStart:T}=e,E=r.current,O=OS(e,"recharts-line-"),[P,z]=H.useState(!1),F=!P,I=H.useCallback(()=>{typeof A=="function"&&A(),z(!1)},[A]),q=H.useCallback(()=>{typeof T=="function"&&T(),z(!0)},[T]),Y=jut(i.current),G=a.current;return H.createElement(kut,{points:o,showLabels:F},e.children,H.createElement(RS,{animationId:O,begin:d,duration:g,isActive:h,easing:v,onAnimationEnd:I,onAnimationStart:q,key:O},j=>{var K=ns(G,Y+G,j),st=Math.min(K,Y),lt;if(h)if(l){var dt="".concat(l).split(/[,\s]+/gim).map(it=>parseFloat(it));lt=Iut(st,Y,dt)}else lt=PH(Y,st);else lt=l==null?void 0:String(l);if(E){var vt=E.length/o.length,X=j===1?o:o.map((it,tt)=>{var yt=Math.floor(tt*vt);if(E[yt]){var Q=E[yt];return Do(Do({},it),{},{x:ns(Q.x,it.x,j),y:ns(Q.y,it.y,j)})}return _?Do(Do({},it),{},{x:ns(b*2,it.x,j),y:ns(M/2,it.y,j)}):Do(Do({},it),{},{x:it.x,y:it.y})});return r.current=X,H.createElement(fU,{props:e,points:X,clipPathId:t,pathRef:i,strokeDasharray:lt})}return j>0&&Y>0&&(r.current=o,a.current=st),H.createElement(fU,{props:e,points:o,clipPathId:t,pathRef:i,strokeDasharray:lt})}),H.createElement(lH,{label:e.label}))}function Gut(n){var{clipPathId:t,props:e}=n,i=H.useRef(null),r=H.useRef(0),a=H.useRef(null);return H.createElement(Vut,{props:e,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:r,pathRef:a})}var qut=(n,t)=>({x:n.x,y:n.y,value:n.value,errorVal:Ki(n.payload,t)});class Wut extends H.Component{render(){var t,{hide:e,dot:i,points:r,className:a,xAxisId:o,yAxisId:l,top:h,left:d,width:g,height:v,id:_,needClip:b}=this.props;if(e)return null;var M=oi("recharts-line",a),A=_,{r:T=3,strokeWidth:E=2}=(t=fr(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},O=bB(i),P=T*2+E;return H.createElement(H.Fragment,null,H.createElement(ko,{className:M},b&&H.createElement("defs",null,H.createElement(Ult,{clipPathId:A,xAxisId:o,yAxisId:l}),!O&&H.createElement("clipPath",{id:"clipPath-dots-".concat(A)},H.createElement("rect",{x:d-P/2,y:h-P/2,width:g+P,height:v+P}))),H.createElement(Nlt,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:qut,errorBarOffset:0},H.createElement(Gut,{props:this.props,clipPathId:A}))),H.createElement(wlt,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var DH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Bg.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Xut(n){var t=Go(n,DH),{activeDot:e,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:o,connectNulls:l,dot:h,hide:d,isAnimationActive:g,label:v,legendType:_,xAxisId:b,yAxisId:M,id:A}=t,T=xR(t,Rut),{needClip:E}=bH(b,M),O=gR(),P=e2(),z=Ul(),F=Qe(j=>wut(j,b,M,z,A));if(P!=="horizontal"&&P!=="vertical"||F==null||O==null)return null;var{height:I,width:q,x:Y,y:G}=O;return H.createElement(Wut,Rp({},T,{id:A,connectNulls:l,dot:h,activeDot:e,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:o,isAnimationActive:g,hide:d,label:v,legendType:_,xAxisId:b,yAxisId:M,points:F,layout:P,height:I,width:q,left:Y,top:G,needClip:E}))}function Yut(n){var{layout:t,xAxis:e,yAxis:i,xAxisTicks:r,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:h}=n;return h.map((d,g)=>{var v=Ki(d,o);if(t==="horizontal"){var _=W3({axis:e,ticks:r,bandSize:l,entry:d,index:g}),b=Yr(v)?null:i.scale(v);return{x:_,y:b,value:v,payload:d}}var M=Yr(v)?null:e.scale(v),A=W3({axis:i,ticks:a,bandSize:l,entry:d,index:g});return M==null||A==null?null:{x:M,y:A,value:v,payload:d}}).filter(Boolean)}function tp(n){var t=Go(n,DH),e=Ul();return H.createElement(gH,{id:t.id,type:"line"},i=>H.createElement(H.Fragment,null,H.createElement(Eot,{legendPayload:Nut(t)}),H.createElement(pH,{fn:Uut,args:t}),H.createElement(Iot,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:e}),H.createElement(Xut,Rp({},t,{id:i}))))}tp.displayName="Line";var Zut=["children"],Kut=["dangerouslySetInnerHTML","ticks"],Qut=["id"];function LH(n,t,e){return(t=$ut(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $ut(n){var t=Jut(n,"string");return typeof t=="symbol"?t:t+""}function Jut(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function OA(){return OA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},OA.apply(null,arguments)}function PA(n,t){if(n==null)return{};var e,i,r=tct(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function tct(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function ect(n){var t=hr(),e=H.useMemo(()=>{var{children:i}=n,r=PA(n,Zut);return r},[n]);return H.useEffect(()=>(t(dlt(e)),()=>{t(plt(e))}),[e,t]),n.children}var nct=n=>{var{xAxisId:t,className:e}=n,i=Qe(P4),r=Ul(),a="xAxis",o=Qe(T=>qg(T,a,t,r)),l=Qe(T=>bF(T,a,t,r)),h=Qe(T=>Uit(T,t)),d=Qe(T=>Hit(T,t)),g=Qe(T=>Z5(T,t));if(h==null||d==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:_}=n,b=PA(n,Kut),{id:M}=g,A=PA(g,Qut);return H.createElement($h,OA({},b,A,{scale:o,x:d.x,y:d.y,width:h.width,height:h.height,className:oi("recharts-".concat(a," ").concat(a),e),viewBox:i,ticks:l}))},ict=n=>{var t,e,i,r,a;return H.createElement(ect,{interval:(t=n.interval)!==null&&t!==void 0?t:"preserveEnd",id:n.xAxisId,scale:n.scale,type:n.type,padding:n.padding,allowDataOverflow:n.allowDataOverflow,domain:n.domain,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,includeHidden:(e=n.includeHidden)!==null&&e!==void 0?e:!1,reversed:n.reversed,ticks:n.ticks,height:n.height,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:(i=n.angle)!==null&&i!==void 0?i:0,minTickGap:(r=n.minTickGap)!==null&&r!==void 0?r:5,tick:(a=n.tick)!==null&&a!==void 0?a:!0,tickFormatter:n.tickFormatter},H.createElement(nct,n))};class My extends H.Component{render(){return H.createElement(ict,this.props)}}LH(My,"displayName","XAxis");LH(My,"defaultProps",{allowDataOverflow:Ro.allowDataOverflow,allowDecimals:Ro.allowDecimals,allowDuplicatedCategory:Ro.allowDuplicatedCategory,height:Ro.height,hide:!1,mirror:Ro.mirror,orientation:Ro.orientation,padding:Ro.padding,reversed:Ro.reversed,scale:Ro.scale,tickCount:Ro.tickCount,type:Ro.type,xAxisId:0});var rct=n=>{var{ticks:t,label:e,labelGapWithTick:i=5,tickSize:r=0,tickMargin:a=0}=n,o=0;if(t){t.forEach(g=>{if(g){var v=g.getBoundingClientRect();v.width>o&&(o=v.width)}});var l=e?e.getBoundingClientRect().width:0,h=r+a,d=o+h+l+(e?i:0);return Math.round(d)}return 0},act=["dangerouslySetInnerHTML","ticks"],sct=["id"];function NH(n,t,e){return(t=oct(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oct(n){var t=lct(n,"string");return typeof t=="symbol"?t:t+""}function lct(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function DA(){return DA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},DA.apply(null,arguments)}function hU(n,t){if(n==null)return{};var e,i,r=uct(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function uct(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function cct(n){var t=hr();return H.useEffect(()=>(t(mlt(n)),()=>{t(glt(n))}),[n,t]),null}var fct=n=>{var t,{yAxisId:e,className:i,width:r,label:a}=n,o=H.useRef(null),l=H.useRef(null),h=Qe(P4),d=Ul(),g=hr(),v="yAxis",_=Qe(I=>qg(I,v,e,d)),b=Qe(I=>jit(I,e)),M=Qe(I=>kit(I,e)),A=Qe(I=>bF(I,v,e,d)),T=Qe(I=>K5(I,e));if(H.useLayoutEffect(()=>{var I;if(!(r!=="auto"||!b||cR(a)||H.isValidElement(a)||T==null)){var q=o.current,Y=q==null||(I=q.tickRefs)===null||I===void 0?void 0:I.current,{tickSize:G,tickMargin:j}=q.props,K=rct({ticks:Y,label:l.current,labelGapWithTick:5,tickSize:G,tickMargin:j});Math.round(b.width)!==Math.round(K)&&g(vlt({id:e,width:K}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b?.width,b,g,a,e,r]),b==null||M==null||T==null)return null;var{dangerouslySetInnerHTML:E,ticks:O}=n,P=hU(n,act),{id:z}=T,F=hU(T,sct);return H.createElement($h,DA({},P,F,{ref:o,labelRef:l,scale:_,x:M.x,y:M.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:oi("recharts-".concat(v," ").concat(v),i),viewBox:h,ticks:A}))},hct=n=>{var t,e,i,r,a;return H.createElement(H.Fragment,null,H.createElement(cct,{interval:(t=n.interval)!==null&&t!==void 0?t:"preserveEnd",id:n.yAxisId,scale:n.scale,type:n.type,domain:n.domain,allowDataOverflow:n.allowDataOverflow,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,padding:n.padding,includeHidden:(e=n.includeHidden)!==null&&e!==void 0?e:!1,reversed:n.reversed,ticks:n.ticks,width:n.width,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:(i=n.angle)!==null&&i!==void 0?i:0,minTickGap:(r=n.minTickGap)!==null&&r!==void 0?r:5,tick:(a=n.tick)!==null&&a!==void 0?a:!0,tickFormatter:n.tickFormatter}),H.createElement(fct,n))},dct={allowDataOverflow:Oo.allowDataOverflow,allowDecimals:Oo.allowDecimals,allowDuplicatedCategory:Oo.allowDuplicatedCategory,hide:!1,mirror:Oo.mirror,orientation:Oo.orientation,padding:Oo.padding,reversed:Oo.reversed,scale:Oo.scale,tickCount:Oo.tickCount,type:Oo.type,width:Oo.width,yAxisId:0};class Oh extends H.Component{render(){return H.createElement(hct,this.props)}}NH(Oh,"displayName","YAxis");NH(Oh,"defaultProps",dct);var gw={exports:{}},vw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU;function pct(){if(dU)return vw;dU=1;var n=Op();function t(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return vw.useSyncExternalStoreWithSelector=function(h,d,g,v,_){var b=r(null);if(b.current===null){var M={hasValue:!1,value:null};b.current=M}else M=b.current;b=o(function(){function T(F){if(!E){if(E=!0,O=F,F=v(F),_!==void 0&&M.hasValue){var I=M.value;if(_(I,F))return P=I}return P=F}if(I=P,e(O,F))return I;var q=v(F);return _!==void 0&&_(I,q)?(O=F,I):(O=F,P=q)}var E=!1,O,P,z=g===void 0?null:g;return[function(){return T(d())},z===null?void 0:function(){return T(z())}]},[d,g,v,_]);var A=i(h,b[0],b[1]);return a(function(){M.hasValue=!0,M.value=A},[A]),l(A),A},vw}var pU;function mct(){return pU||(pU=1,gw.exports=pct()),gw.exports}mct();function gct(n){n()}function vct(){let n=null,t=null;return{clear(){n=null,t=null},notify(){gct(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var mU={notify(){},get:()=>[]};function yct(n,t){let e,i=mU,r=0,a=!1;function o(A){g();const T=i.subscribe(A);let E=!1;return()=>{E||(E=!0,T(),v())}}function l(){i.notify()}function h(){M.onStateChange&&M.onStateChange()}function d(){return a}function g(){r++,e||(e=n.subscribe(h),i=vct())}function v(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=mU)}function _(){a||(a=!0,g())}function b(){a&&(a=!1,v())}const M={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:h,isSubscribed:d,trySubscribe:_,tryUnsubscribe:b,getListeners:()=>i};return M}var _ct=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xct=_ct(),bct=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Sct=bct(),Mct=()=>xct||Sct?H.useLayoutEffect:H.useEffect,Ect=Mct(),Tct=Symbol.for("react-redux-context"),wct=typeof globalThis<"u"?globalThis:{};function Act(){if(!H.createContext)return{};const n=wct[Tct]??=new Map;let t=n.get(H.createContext);return t||(t=H.createContext(null),n.set(H.createContext,t)),t}var Cct=Act();function Rct(n){const{children:t,context:e,serverState:i,store:r}=n,a=H.useMemo(()=>{const h=yct(r);return{store:r,subscription:h,getServerState:i?()=>i:void 0}},[r,i]),o=H.useMemo(()=>r.getState(),[r]);Ect(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),o!==r.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,o]);const l=e||Cct;return H.createElement(l.Provider,{value:a},t)}var Oct=Rct,Pct=(n,t)=>t,bR=Kt([Pct,Ai,q5,$r,BF,Nf,Yrt,ya],Jrt),SR=n=>{var t=n.currentTarget.getBoundingClientRect(),e=t.width/n.currentTarget.offsetWidth,i=t.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-t.left)/e),chartY:Math.round((n.clientY-t.top)/i)}},UH=Pl("mouseClick"),zH=_0();zH.startListening({actionCreator:UH,effect:(n,t)=>{var e=n.payload,i=bR(t.getState(),SR(e));i?.activeIndex!=null&&t.dispatch(ert({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var LA=Pl("mouseMove"),IH=_0();IH.startListening({actionCreator:LA,effect:(n,t)=>{var e=n.payload,i=t.getState(),r=eR(i,i.tooltip.settings.shared),a=bR(i,SR(e));r==="axis"&&(a?.activeIndex!=null?t.dispatch(PF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(OF()))}});function Dct(n,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var gU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BH=Vo({name:"rootProps",initialState:gU,reducers:{updateOptions:(n,t)=>{var e;n.accessibilityLayer=t.payload.accessibilityLayer,n.barCategoryGap=t.payload.barCategoryGap,n.barGap=(e=t.payload.barGap)!==null&&e!==void 0?e:gU.barGap,n.barSize=t.payload.barSize,n.maxBarSize=t.payload.maxBarSize,n.stackOffset=t.payload.stackOffset,n.syncId=t.payload.syncId,n.syncMethod=t.payload.syncMethod,n.className=t.payload.className}}}),Lct=BH.reducer,{updateOptions:Nct}=BH.actions,FH=Vo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,t)=>t.payload}}),{updatePolarOptions:Uct}=FH.actions,zct=FH.reducer,HH=Pl("keyDown"),kH=Pl("focus"),MR=_0();MR.startListening({actionCreator:HH,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip,a=n.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(nR(r,Xg(e))),l=Nf(e);if(a==="Enter"){var h=A1(e,"axis","hover",String(r.index));t.dispatch(TA({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:h}));return}var d=Wit(e),g=d==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,_=o+v*g;if(!(l==null||_>=l.length||_<0)){var b=A1(e,"axis","hover",String(_));t.dispatch(TA({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});MR.startListening({actionCreator:kH,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip;if(!r.active&&r.index==null){var a="0",o=A1(e,"axis","hover",String(a));t.dispatch(TA({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ml=Pl("externalEvent"),jH=_0();jH.startListening({actionCreator:Ml,effect:(n,t)=>{if(n.payload.handler!=null){var e=t.getState(),i={activeCoordinate:Brt(e),activeDataKey:zrt(e),activeIndex:Og(e),activeLabel:kF(e),activeTooltipIndex:Og(e),isTooltipActive:Frt(e)};n.payload.handler(i,n.payload.reactEvent)}}});var Ict=Kt([Wg],n=>n.tooltipItemPayloads),Bct=Kt([Ict,O0,(n,t,e)=>t,(n,t,e)=>e],(n,t,e,i)=>{var r=n.find(l=>l.settings.dataKey===i);if(r!=null){var{positions:a}=r;if(a!=null){var o=t(a,e);return o}}}),VH=Pl("touchMove"),GH=_0();GH.startListening({actionCreator:VH,effect:(n,t)=>{var e=n.payload,i=t.getState(),r=eR(i,i.tooltip.settings.shared);if(r==="axis"){var a=bR(i,SR({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,currentTarget:e.currentTarget}));a?.activeIndex!=null&&t.dispatch(PF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(r==="item"){var o,l=e.touches[0],h=document.elementFromPoint(l.clientX,l.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(R4),g=(o=h.getAttribute(O4))!==null&&o!==void 0?o:void 0,v=Bct(t.getState(),d,g);t.dispatch(RF({activeDataKey:g,activeIndex:d,activeCoordinate:v}))}}});var Fct=e4({brush:zlt,cartesianAxis:ylt,chartData:mat,errorBars:Clt,graphicalItems:zot,layout:YQ,legend:U$,options:cat,polarAxis:Yst,polarOptions:zct,referenceElements:Vlt,rootProps:Lct,tooltip:nrt}),Hct=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _Q({reducer:Fct,preloadedState:t,middleware:i=>i({serializableCheck:!1}).concat([zH.middleware,IH.middleware,MR.middleware,jH.middleware,GH.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:Dct},name:"recharts-".concat(e)}})};function qH(n){var{preloadedState:t,children:e,reduxStoreName:i}=n,r=Ul(),a=H.useRef(null);if(r)return e;a.current==null&&(a.current=Hct(t,i));var o=WC;return H.createElement(Oct,{context:o,store:a.current},e)}function WH(n){var{layout:t,width:e,height:i,margin:r}=n,a=hr(),o=Ul();return H.useEffect(()=>{o||(a(qQ(t)),a(WQ({width:e,height:i})),a(GQ(r)))},[a,o,t,e,i,r]),null}function XH(n){var t=hr();return H.useEffect(()=>{t(Nct(n))},[t,n]),null}var kct=["children"];function jct(n,t){if(n==null)return{};var e,i,r=Vct(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Vct(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function L1(){return L1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},L1.apply(null,arguments)}var Gct={width:"100%",height:"100%"},qct=H.forwardRef((n,t)=>{var e=JC(),i=t2(),r=z4();if(!Tg(e)||!Tg(i))return null;var{children:a,otherAttributes:o,title:l,desc:h}=n,d,g;return typeof o.tabIndex=="number"?d=o.tabIndex:d=r?0:void 0,typeof o.role=="string"?g=o.role:g=r?"application":void 0,H.createElement(IC,L1({},o,{title:l,desc:h,role:g,tabIndex:d,width:e,height:i,style:Gct,ref:t}),a)}),Wct=n=>{var{children:t}=n,e=Qe(CS);if(!e)return null;var{width:i,height:r,y:a,x:o}=e;return H.createElement(IC,{width:i,height:r,x:o,y:a},t)},vU=H.forwardRef((n,t)=>{var{children:e}=n,i=jct(n,kct),r=Ul();return r?H.createElement(Wct,null,e):H.createElement(qct,L1({ref:t},i),e)});function Xct(){var n=hr(),[t,e]=H.useState(null),i=Qe(x$);return H.useEffect(()=>{if(t!=null){var r=t.getBoundingClientRect(),a=r.width/t.offsetWidth;Su(a)&&a!==i&&n(XQ(a))}},[t,n,i]),e}function yU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Yct(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(e),!0).forEach(function(i){Zct(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):yU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Zct(n,t,e){return(t=Kct(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Kct(n){var t=Qct(n,"string");return typeof t=="symbol"?t:t+""}function Qct(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var $ct=H.forwardRef((n,t)=>{var{children:e,className:i,height:r,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:h,onMouseEnter:d,onMouseLeave:g,onMouseMove:v,onMouseUp:_,onTouchEnd:b,onTouchMove:M,onTouchStart:A,style:T,width:E}=n,O=hr(),[P,z]=H.useState(null),[F,I]=H.useState(null);Eat();var q=Xct(),Y=H.useCallback(gt=>{q(gt),typeof t=="function"&&t(gt),z(gt),I(gt)},[q,t,z,I]),G=H.useCallback(gt=>{O(UH(gt)),O(Ml({handler:a,reactEvent:gt}))},[O,a]),j=H.useCallback(gt=>{O(LA(gt)),O(Ml({handler:d,reactEvent:gt}))},[O,d]),K=H.useCallback(gt=>{O(OF()),O(Ml({handler:g,reactEvent:gt}))},[O,g]),st=H.useCallback(gt=>{O(LA(gt)),O(Ml({handler:v,reactEvent:gt}))},[O,v]),lt=H.useCallback(()=>{O(kH())},[O]),dt=H.useCallback(gt=>{O(HH(gt.key))},[O]),vt=H.useCallback(gt=>{O(Ml({handler:o,reactEvent:gt}))},[O,o]),X=H.useCallback(gt=>{O(Ml({handler:l,reactEvent:gt}))},[O,l]),it=H.useCallback(gt=>{O(Ml({handler:h,reactEvent:gt}))},[O,h]),tt=H.useCallback(gt=>{O(Ml({handler:_,reactEvent:gt}))},[O,_]),yt=H.useCallback(gt=>{O(Ml({handler:A,reactEvent:gt}))},[O,A]),Q=H.useCallback(gt=>{O(VH(gt)),O(Ml({handler:M,reactEvent:gt}))},[O,M]),ut=H.useCallback(gt=>{O(Ml({handler:b,reactEvent:gt}))},[O,b]);return H.createElement(XF.Provider,{value:P},H.createElement(SB.Provider,{value:F},H.createElement("div",{className:oi("recharts-wrapper",i),style:Yct({position:"relative",cursor:"default",width:E,height:r},T),onClick:G,onContextMenu:vt,onDoubleClick:X,onFocus:lt,onKeyDown:dt,onMouseDown:it,onMouseEnter:j,onMouseLeave:K,onMouseMove:st,onMouseUp:tt,onTouchEnd:ut,onTouchMove:Q,onTouchStart:yt,ref:Y},e)))}),Jct=["children","className","width","height","style","compact","title","desc"];function tft(n,t){if(n==null)return{};var e,i,r=eft(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function eft(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var YH=H.forwardRef((n,t)=>{var{children:e,className:i,width:r,height:a,style:o,compact:l,title:h,desc:d}=n,g=tft(n,Jct),v=qh(g);return l?H.createElement(vU,{otherAttributes:v,title:h,desc:d},e):H.createElement($ct,{className:i,style:o,width:r,height:a,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},H.createElement(vU,{otherAttributes:v,title:h,desc:d,ref:t},H.createElement(qlt,null,e)))}),nft=["width","height"];function NA(){return NA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},NA.apply(null,arguments)}function ift(n,t){if(n==null)return{};var e,i,r=rft(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function rft(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var aft={top:5,right:5,bottom:5,left:5},sft={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:aft,reverseStackOrder:!1,syncMethod:"index"},oft=H.forwardRef(function(t,e){var i,r=Go(t.categoricalChartProps,sft),{width:a,height:o}=r,l=ift(r,nft);if(!Tg(a)||!Tg(o))return null;var{chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,categoricalChartProps:_}=t,b={chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return H.createElement(qH,{preloadedState:{options:b},reduxStoreName:(i=_.id)!==null&&i!==void 0?i:h},H.createElement(SH,{chartData:_.data}),H.createElement(WH,{width:a,height:o,layout:r.layout,margin:r.margin}),H.createElement(XH,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),H.createElement(YH,NA({},l,{width:a,height:o,ref:e})))}),lft=["axis"],yw=H.forwardRef((n,t)=>H.createElement(oft,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lft,tooltipPayloadSearcher:YF,categoricalChartProps:n,ref:t}));function uft(n){var t=hr();return H.useEffect(()=>{t(Uct(n))},[t,n]),null}var cft=["width","height","layout"];function UA(){return UA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},UA.apply(null,arguments)}function fft(n,t){if(n==null)return{};var e,i,r=hft(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function hft(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var dft={top:5,right:5,bottom:5,left:5},pft={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dft,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},mft=H.forwardRef(function(t,e){var i,r=Go(t.categoricalChartProps,pft),{width:a,height:o,layout:l}=r,h=fft(r,cft);if(!Tg(a)||!Tg(o))return null;var{chartName:d,defaultTooltipEventType:g,validateTooltipEventTypes:v,tooltipPayloadSearcher:_}=t,b={chartName:d,defaultTooltipEventType:g,validateTooltipEventTypes:v,tooltipPayloadSearcher:_,eventEmitter:void 0};return H.createElement(qH,{preloadedState:{options:b},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:d},H.createElement(SH,{chartData:r.data}),H.createElement(WH,{width:a,height:o,layout:l,margin:r.margin}),H.createElement(XH,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),H.createElement(uft,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),H.createElement(YH,UA({width:a,height:o},h,{ref:e})))}),gft=["item"],vft={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},yft=H.forwardRef((n,t)=>{var e=Go(n,vft);return H.createElement(mft,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gft,tooltipPayloadSearcher:YF,categoricalChartProps:e,ref:t})});const _U=["#0088FE","#00C49F","#FFBB28","#FF8042"],_ft={rocky:{silicates:60,iron:25,nickel:10,other:5},iron:{iron:70,nickel:25,silicates:3,other:2},icy:{ice:80,silicates:15,organics:3,other:2},carbon:{organics:40,silicates:35,ice:20,other:5}};function xft({trajectoryData:n,impactConsequences:t,asteroidType:e,initialMass:i,isVisible:r}){const[a,o]=H.useState("trajectory");if(!r)return null;const l=g=>g>=1e9?`${(g/1e9).toFixed(1)}B kg`:g>=1e6?`${(g/1e6).toFixed(1)}M kg`:g>=1e3?`${(g/1e3).toFixed(1)}k kg`:`${g.toFixed(0)} kg`,h=g=>g>=1e3?`${(g/1e3).toFixed(1)} Gt TNT`:g>=1?`${g.toFixed(2)} Mt TNT`:`${(g*1e3).toFixed(1)} kt TNT`,d=Object.entries(_ft[e]).map(([g,v])=>({name:g,value:v,percentage:v}));return V.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px",padding:"20px",marginTop:"20px"},children:[V.jsx("h3",{style:{color:"#fff",marginBottom:"20px"},children:"Аналитический дашборд"}),V.jsx("div",{style:{marginBottom:"20px"},children:[{key:"trajectory",label:"Траектория"},{key:"impact",label:"Последствия удара"},{key:"composition",label:"Состав астероида"}].map(g=>V.jsx("button",{onClick:()=>o(g.key),style:{marginRight:"10px",padding:"8px 16px",backgroundColor:a===g.key?"#0070f3":"#333",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:g.label},g.key))}),a==="trajectory"&&V.jsx("div",{children:V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Высота и скорость"}),V.jsx(Kx,{width:"100%",height:200,children:V.jsxs(yw,{data:n,children:[V.jsx(ab,{strokeDasharray:"3 3",stroke:"#444"}),V.jsx(My,{dataKey:"time",stroke:"#ccc"}),V.jsx(Oh,{yAxisId:"left",stroke:"#ccc"}),V.jsx(Oh,{yAxisId:"right",orientation:"right",stroke:"#ccc"}),V.jsx(Zx,{contentStyle:{backgroundColor:"#333",border:"1px solid #555",color:"#fff"}}),V.jsx(cg,{}),V.jsx(tp,{yAxisId:"left",type:"monotone",dataKey:"altitude",stroke:"#8884d8",name:"Высота (м)"}),V.jsx(tp,{yAxisId:"right",type:"monotone",dataKey:"velocity",stroke:"#82ca9d",name:"Скорость (м/с)"})]})})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Давление и тепловой поток"}),V.jsx(Kx,{width:"100%",height:200,children:V.jsxs(yw,{data:n,children:[V.jsx(ab,{strokeDasharray:"3 3",stroke:"#444"}),V.jsx(My,{dataKey:"time",stroke:"#ccc"}),V.jsx(Oh,{yAxisId:"left",stroke:"#ccc"}),V.jsx(Oh,{yAxisId:"right",orientation:"right",stroke:"#ccc"}),V.jsx(Zx,{contentStyle:{backgroundColor:"#333",border:"1px solid #555",color:"#fff"}}),V.jsx(cg,{}),V.jsx(tp,{yAxisId:"left",type:"monotone",dataKey:"dynamicPressure",stroke:"#ffc658",name:"Динамическое давление (Па)"}),V.jsx(tp,{yAxisId:"right",type:"monotone",dataKey:"heatFlux",stroke:"#ff7300",name:"Тепловой поток (Вт/м²)"})]})})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Температура и потеря массы"}),V.jsx(Kx,{width:"100%",height:200,children:V.jsxs(yw,{data:n,children:[V.jsx(ab,{strokeDasharray:"3 3",stroke:"#444"}),V.jsx(My,{dataKey:"time",stroke:"#ccc"}),V.jsx(Oh,{yAxisId:"left",stroke:"#ccc"}),V.jsx(Oh,{yAxisId:"right",orientation:"right",stroke:"#ccc"}),V.jsx(Zx,{contentStyle:{backgroundColor:"#333",border:"1px solid #555",color:"#fff"}}),V.jsx(cg,{}),V.jsx(tp,{yAxisId:"left",type:"monotone",dataKey:"temperature",stroke:"#ff4d4f",name:"Температура (K)"}),V.jsx(tp,{yAxisId:"right",type:"monotone",dataKey:"mass",stroke:"#52c41a",name:"Масса (кг)"})]})})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Статистика полёта"}),V.jsx("div",{style:{color:"#ccc",fontSize:"14px"},children:n.length>0&&V.jsxs("div",{children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Начальная масса:"})," ",l(i)]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Конечная масса:"})," ",l(n[n.length-1]?.mass||0)]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Потеря массы:"})," ",((1-(n[n.length-1]?.mass||0)/i)*100).toFixed(1),"%"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Максимальная температура:"})," ",Math.max(...n.map(g=>g.temperature)).toFixed(0)," K"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Максимальное давление:"})," ",(Math.max(...n.map(g=>g.dynamicPressure))/1e6).toFixed(2)," МПа"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Время полёта:"})," ",(n[n.length-1]?.time||0).toFixed(1)," с"]})]})})]})]})}),a==="impact"&&t&&V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Энергия удара"}),V.jsx("div",{style:{fontSize:"32px",color:"#ff6b35",fontWeight:"bold",textAlign:"center"},children:h(t.energyMt)}),V.jsx("p",{style:{color:"#ccc",textAlign:"center",marginTop:"10px"},children:"Эквивалент ядерного взрыва"})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Размеры кратера"}),V.jsxs("div",{style:{color:"#ccc"},children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Диаметр:"})," ",(t.craterDiameter/1e3).toFixed(2)," км"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Глубина:"})," ",t.craterDepth.toFixed(0)," м"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Объём:"})," ",(Math.PI*Math.pow(t.craterDiameter/2,2)*t.craterDepth/1e9).toFixed(2)," км³"]})]})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Сейсмические эффекты"}),V.jsxs("div",{style:{color:"#ccc"},children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Магнитуда:"})," ",t.seismicMagnitude.toFixed(1)," по Рихтеру"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Интенсивность:"})," ",t.seismicMagnitude>8?"Катастрофическая":t.seismicMagnitude>6?"Разрушительная":t.seismicMagnitude>4?"Умеренная":"Слабая"]})]})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Взрывная волна"}),V.jsxs("div",{style:{color:"#ccc"},children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Радиус поражения:"})," ",(t.blastRadius/1e3).toFixed(1)," км"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Площадь поражения:"})," ",(Math.PI*Math.pow(t.blastRadius/1e3,2)).toFixed(0)," км²"]})]})]})]}),a==="composition"&&V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Состав астероида"}),V.jsx(Kx,{width:"100%",height:250,children:V.jsxs(yft,{children:[V.jsx(yH,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:g=>`${g.name}: ${g.percentage}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((g,v)=>V.jsx(qS,{fill:_U[v%_U.length]},`cell-${v}`))}),V.jsx(Zx,{})]})})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"4px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Характеристики типа"}),V.jsxs("div",{style:{color:"#ccc"},children:[e==="rocky"&&V.jsxs("div",{children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Тип:"})," Каменный астероид (S-класс)"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Плотность:"})," 3000 кг/м³"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Прочность:"})," 100 МПа"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Описание:"})," Преимущественно силикатные минералы с металлическими включениями"]})]}),e==="iron"&&V.jsxs("div",{children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Тип:"})," Железный астероид (M-класс)"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Плотность:"})," 7800 кг/м³"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Прочность:"})," 500 МПа"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Описание:"})," Металлическое ядро с высоким содержанием железа и никеля"]})]}),e==="icy"&&V.jsxs("div",{children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Тип:"})," Ледяной астероид (C-класс)"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Плотность:"})," 1000 кг/м³"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Прочность:"})," 1 МПа"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Описание:"})," Высокое содержание водяного льда с примесями силикатов"]})]}),e==="carbon"&&V.jsxs("div",{children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Тип:"})," Углеродистый астероид (C-класс)"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Плотность:"})," 2200 кг/м³"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Прочность:"})," 50 МПа"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Описание:"})," Богат органическими соединениями и гидратированными минералами"]})]})]})]})]})]})}function bft({data:n,isVisible:t}){const[e,i]=H.useState(!1);if(!t)return null;const r=()=>{const h=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),d=URL.createObjectURL(h),g=document.createElement("a");g.href=d,g.download=`asteroid-impact-${Date.now()}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(d)},a=()=>{let h="Time (s),Altitude (m),Velocity (m/s),Dynamic Pressure (Pa),Heat Flux (W/m²),Temperature (K),Mass (kg)\\n";n.trajectoryData.forEach(_=>{h+=`${_.time},${_.altitude},${_.velocity},${_.dynamicPressure},${_.heatFlux},${_.temperature},${_.mass}\\n`});const d=new Blob([h],{type:"text/csv"}),g=URL.createObjectURL(d),v=document.createElement("a");v.href=g,v.download=`asteroid-trajectory-${Date.now()}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)},o=async()=>{i(!0);try{const h=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Asteroid Impact Analysis Report</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 40px; }
            .header { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
            .section { margin: 20px 0; }
            .param-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
            .param { background: #f8f9fa; padding: 10px; border-radius: 4px; }
            .critical { color: #e74c3c; font-weight: bold; }
            .warning { color: #f39c12; font-weight: bold; }
            .safe { color: #27ae60; font-weight: bold; }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>🌍 Asteroid Impact Analysis Report</h1>
            <p>Generated on: ${new Date(n.timestamp).toLocaleString()}</p>
          </div>

          <div class="section">
            <h2>Scenario Parameters</h2>
            <div class="param-grid">
              <div class="param"><strong>Asteroid Type:</strong> ${n.scenarioParams.asteroidType}</div>
              <div class="param"><strong>Mass:</strong> ${(n.scenarioParams.massKg/1e6).toFixed(1)} million kg</div>
              <div class="param"><strong>Diameter:</strong> ${n.scenarioParams.diameterM} m</div>
              <div class="param"><strong>Entry Speed:</strong> ${(n.scenarioParams.entrySpeedMs/1e3).toFixed(1)} km/s</div>
              <div class="param"><strong>Entry Altitude:</strong> ${(n.scenarioParams.entryAltitudeM/1e3).toFixed(1)} km</div>
              <div class="param"><strong>Entry Angle:</strong> ${n.scenarioParams.angleDeg}°</div>
              <div class="param"><strong>Target Location:</strong> ${n.scenarioParams.targetLatDeg.toFixed(2)}°, ${n.scenarioParams.targetLonDeg.toFixed(2)}°</div>
            </div>
          </div>

          ${n.impactResults?`
          <div class="section">
            <h2>Impact Consequences</h2>
            <div class="param-grid">
              <div class="param ${n.impactResults.energyMt>100?"critical":n.impactResults.energyMt>1?"warning":"safe"}">
                <strong>Impact Energy:</strong> ${n.impactResults.energyMt>=1?n.impactResults.energyMt.toFixed(2)+" Mt TNT":(n.impactResults.energyMt*1e3).toFixed(1)+" kt TNT"}
              </div>
              <div class="param"><strong>Crater Diameter:</strong> ${(n.impactResults.craterDiameter/1e3).toFixed(2)} km</div>
              <div class="param"><strong>Crater Depth:</strong> ${n.impactResults.craterDepth.toFixed(0)} m</div>
              <div class="param ${n.impactResults.seismicMagnitude>7?"critical":n.impactResults.seismicMagnitude>5?"warning":"safe"}">
                <strong>Seismic Magnitude:</strong> ${n.impactResults.seismicMagnitude.toFixed(1)}
              </div>
              <div class="param"><strong>Blast Radius:</strong> ${(n.impactResults.blastRadius/1e3).toFixed(1)} km</div>
            </div>
          </div>
          `:""}

          <div class="section">
            <h2>Trajectory Summary</h2>
            <table>
              <tr>
                <th>Flight Duration</th>
                <th>Max Altitude</th>
                <th>Max Velocity</th>
                <th>Max Dynamic Pressure</th>
                <th>Max Temperature</th>
                <th>Final Mass</th>
              </tr>
              <tr>
                <td>${n.trajectoryData.length>0?n.trajectoryData[n.trajectoryData.length-1].time.toFixed(1):0} s</td>
                <td>${n.trajectoryData.length>0?(Math.max(...n.trajectoryData.map(_=>_.altitude))/1e3).toFixed(1):0} km</td>
                <td>${n.trajectoryData.length>0?(Math.max(...n.trajectoryData.map(_=>_.velocity))/1e3).toFixed(1):0} km/s</td>
                <td>${n.trajectoryData.length>0?(Math.max(...n.trajectoryData.map(_=>_.dynamicPressure))/1e6).toFixed(2):0} MPa</td>
                <td>${n.trajectoryData.length>0?Math.max(...n.trajectoryData.map(_=>_.temperature)).toFixed(0):0} K</td>
                <td>${n.trajectoryData.length>0?(n.trajectoryData[n.trajectoryData.length-1].mass/1e6).toFixed(1):0} million kg</td>
              </tr>
            </table>
          </div>

          <div class="section">
            <h2>Scientific References</h2>
            <ul>
              <li>Collins, G. S., et al. (2005). Earth Impact Effects Program</li>
              <li>Melosh, H. J. (1989). Impact Cratering: A Geologic Process</li>
              <li>Chapman, C. R., & Morrison, D. (1994). Impacts on the Earth by asteroids and comets</li>
              <li>Sutton, K., & Graves, R. A. (1971). A General Stagnation-Point Convective Heating Equation</li>
            </ul>
          </div>

          <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; font-size: 12px; color: #666;">
            Report generated by Meteor Madness - Asteroid Impact Simulator<br>
            NASA Space Apps Challenge 2025 Project
          </footer>
        </body>
        </html>
      `,d=new Blob([h],{type:"text/html"}),g=URL.createObjectURL(d),v=document.createElement("a");v.href=g,v.download=`asteroid-impact-report-${Date.now()}.html`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)}catch(h){console.error("Error generating report:",h)}finally{i(!1)}},l=n.trajectoryData.length>0;return V.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px",padding:"20px",marginTop:"20px"},children:[V.jsx("h3",{style:{color:"#fff",marginBottom:"20px"},children:"📊 Экспорт данных"}),!l&&V.jsx("p",{style:{color:"#ccc",fontStyle:"italic"},children:"Запустите симуляцию для получения данных для экспорта"}),l&&V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[V.jsxs("button",{onClick:r,style:{padding:"12px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:["📄 Скачать JSON",V.jsx("div",{style:{fontSize:"11px",opacity:.8,marginTop:"4px"},children:"Полные данные симуляции"})]}),V.jsxs("button",{onClick:a,style:{padding:"12px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:["📊 Скачать CSV",V.jsx("div",{style:{fontSize:"11px",opacity:.8,marginTop:"4px"},children:"Данные траектории"})]}),V.jsxs("button",{onClick:o,disabled:e,style:{padding:"12px 20px",backgroundColor:e?"#666":"#FF9800",color:"white",border:"none",borderRadius:"6px",cursor:e?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:[e?"⏳ Генерация...":"📋 Скачать отчёт",V.jsx("div",{style:{fontSize:"11px",opacity:.8,marginTop:"4px"},children:"HTML отчёт с анализом"})]})]}),l&&V.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#2a2a2a",borderRadius:"6px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Доступные данные:"}),V.jsxs("div",{style:{color:"#ccc",fontSize:"14px"},children:[V.jsxs("p",{children:["• Параметры сценария: ",Object.keys(n.scenarioParams).length," параметров"]}),V.jsxs("p",{children:["• Точки траектории: ",n.trajectoryData.length," записей"]}),V.jsxs("p",{children:["• Результаты удара: ",n.impactResults?"Доступны":"Не рассчитаны"]}),V.jsxs("p",{children:["• Временной диапазон: ",n.trajectoryData.length>0?`0 - ${n.trajectoryData[n.trajectoryData.length-1].time.toFixed(1)} сек`:"Нет данных"]})]})]})]})}const mu=[{name:"Челябинский метеорит",year:2013,location:"Челябинск, Россия",description:"15 февраля 2013 года небольшой астероид взорвался в атмосфере над Челябинском, создав одно из самых ярких болидных явлений в современной истории.",scientificDetails:"Астероид диаметром ~18 м и массой ~11,000 тонн вошёл в атмосферу под углом ~18° со скоростью ~19 км/с. Взрыв произошёл на высоте ~23 км с энергией ~500 килотонн TNT.",consequences:["Повреждение ~7,200 зданий","Травмы у ~1,500 человек (в основном от осколков стекла)","Ударная волна дважды обогнула Землю","Найдено >50 фрагментов общей массой ~654 кг"],energy:"~500 килотонн TNT",diameter:"~18 метров",icon:"🌟"},{name:"Тунгусский метеорит",year:1908,location:"Подкаменная Тунгуска, Сибирь",description:"30 июня 1908 года произошёл мощный взрыв в атмосфере над рекой Подкаменная Тунгуска, повалив деревья на площади более 2000 км².",scientificDetails:"Предположительно комета или астероид диаметром ~60 м взорвался на высоте ~5-10 км с энергией ~15 мегатонн TNT. Кратер не образовался из-за воздушного взрыва.",consequences:["Повалено ~80 миллионов деревьев на площади ~2,150 км²","Световые явления наблюдались до Западной Европы","Сейсмические волны зарегистрированы по всему миру","Никто не пострадал из-за малонаселённости региона"],energy:"~15 мегатонн TNT",diameter:"~60 метров",icon:"🌲"},{name:"Чиксулубский астероид",year:-66e6,location:"Полуостров Юкатан, Мексика",description:"66 миллионов лет назад астероид диаметром ~10 км столкнулся с Землёй, образовав кратер Чиксулуб и вызвав массовое вымирание, включая динозавров.",scientificDetails:"Астероид массой ~1.3×10¹⁵ кг ударил со скоростью ~25 км/с под углом ~60°, высвободив энергию ~100 миллионов мегатонн TNT и образовав кратер диаметром ~180 км.",consequences:["Массовое вымирание 75% видов на Земле","Глобальные лесные пожары","Цунами высотой >100 м","Ядерная зима продолжительностью несколько лет","Конец эпохи динозавров"],energy:"~100 миллионов мегатонн TNT",diameter:"~10 километров",icon:"🦕"}];function Sft({isVisible:n}){const[t,e]=H.useState(0);return n?V.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px",padding:"20px",marginTop:"20px"},children:[V.jsx("h3",{style:{color:"#fff",marginBottom:"20px"},children:"📚 Исторические события"}),V.jsx("div",{style:{marginBottom:"20px"},children:mu.map((i,r)=>V.jsxs("button",{onClick:()=>e(r),style:{marginRight:"10px",marginBottom:"10px",padding:"8px 16px",backgroundColor:t===r?"#0070f3":"#333",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:[i.icon," ",i.name," (",i.year>0?i.year:"66 млн лет назад",")"]},r))}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"20px",borderRadius:"8px"},children:[V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"20px"},children:[V.jsxs("div",{children:[V.jsxs("h4",{style:{color:"#fff",marginBottom:"15px"},children:[mu[t].icon," ",mu[t].name]}),V.jsxs("div",{style:{color:"#ccc",fontSize:"14px",marginBottom:"15px"},children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Год:"})," ",mu[t].year>0?mu[t].year:"66 миллионов лет назад"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Место:"})," ",mu[t].location]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Диаметр:"})," ",mu[t].diameter]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Энергия:"})," ",mu[t].energy]})]}),V.jsxs("div",{style:{backgroundColor:"#3a3a3a",padding:"15px",borderRadius:"6px",borderLeft:"4px solid #0070f3"},children:[V.jsx("h5",{style:{color:"#fff",marginBottom:"10px"},children:"Научные данные"}),V.jsx("p",{style:{color:"#ccc",fontSize:"13px",lineHeight:"1.4"},children:mu[t].scientificDetails})]})]}),V.jsxs("div",{children:[V.jsxs("div",{style:{marginBottom:"20px"},children:[V.jsx("h5",{style:{color:"#fff",marginBottom:"10px"},children:"Описание события"}),V.jsx("p",{style:{color:"#ccc",fontSize:"14px",lineHeight:"1.5"},children:mu[t].description})]}),V.jsxs("div",{children:[V.jsx("h5",{style:{color:"#fff",marginBottom:"10px"},children:"Последствия"}),V.jsx("ul",{style:{color:"#ccc",fontSize:"14px",lineHeight:"1.5",paddingLeft:"20px"},children:mu[t].consequences.map((i,r)=>V.jsx("li",{style:{marginBottom:"5px"},children:i},r))})]})]})]}),V.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#1e1e1e",borderRadius:"6px",borderLeft:"4px solid #f39c12"},children:[V.jsx("h5",{style:{color:"#fff",marginBottom:"10px"},children:"🔬 Научное значение"}),V.jsxs("p",{style:{color:"#ccc",fontSize:"13px",lineHeight:"1.4"},children:[t===0&&"Челябинский метеорит стал первым крупным болидным событием в эпоху социальных сетей и мобильных камер, предоставив учёным беспрецедентное количество видеоматериалов для анализа траектории и фрагментации астероида в атмосфере.",t===1&&"Тунгусский феномен остается одним из крупнейших импактных событий в современной истории и важным примером воздушного взрыва астероида, демонстрирующего разрушительную силу даже относительно небольших космических тел.",t===2&&"Чиксулубский импакт является ключевым доказательством катастрофической теории массовых вымираний и показывает, как космические события могут кардинально изменить биосферу Земли, открыв путь для эволюции млекопитающих."]})]})]})]}):null}function ZH(n,t,e=0){return Ep(n,t,e)}function KH(n){return Vy(n)}function Mft(n,t){const e=ZH(n,t),i=KH(e),r=pS({lat:n,lng:t},i);return{isValid:r<5,error:r,message:`Ошибка конвертации: ${r.toFixed(2)} метров`}}function Eft({targetLat:n,targetLng:t,actualImpactECEF:e,isVisible:i}){const[r,a]=H.useState(null);return H.useEffect(()=>{if(!i)return;const o=ZH(n,t,0),l=Mft(n,t);let h=null,d=null;if(e){h=KH(e);const g=Math.abs(n-h.lat),v=Math.abs(t-h.lng),_=pS({lat:n,lng:t},h);d={lat:g,lng:v,distance:_}}a({target:{lat:n,lng:t},targetECEF:o,targetValidation:l,actual:h,coordinateError:d})},[n,t,e,i]),!i||!r?null:V.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px",padding:"20px",marginTop:"20px"},children:[V.jsx("h3",{style:{color:"#fff",marginBottom:"20px"},children:"🐛 Отладка координат"}),V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"6px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"🎯 Целевые координаты"}),V.jsxs("div",{style:{color:"#ccc",fontSize:"13px",fontFamily:"monospace"},children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Широта:"})," ",r.target.lat.toFixed(6),"°"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Долгота:"})," ",r.target.lng.toFixed(6),"°"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"ECEF X:"})," ",r.targetECEF.x.toFixed(0)," м"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"ECEF Y:"})," ",r.targetECEF.y.toFixed(0)," м"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"ECEF Z:"})," ",r.targetECEF.z.toFixed(0)," м"]}),V.jsxs("p",{style:{color:r.targetValidation.isValid?"#4CAF50":"#FF9800"},children:[V.jsx("strong",{children:"Точность:"})," ",r.targetValidation.error.toFixed(1)," м"]})]})]}),V.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"6px"},children:[V.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"💥 Фактический удар"}),r.actual?V.jsxs("div",{style:{color:"#ccc",fontSize:"13px",fontFamily:"monospace"},children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Широта:"})," ",r.actual.lat.toFixed(6),"°"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Долгота:"})," ",r.actual.lng.toFixed(6),"°"]}),r.coordinateError&&V.jsxs(V.Fragment,{children:[V.jsx("p",{style:{color:"#FF6B35",marginTop:"10px"},children:V.jsx("strong",{children:"Ошибка координат:"})}),V.jsxs("p",{children:[V.jsx("strong",{children:"Δ Широта:"})," ",r.coordinateError.lat.toFixed(6),"°"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Δ Долгота:"})," ",r.coordinateError.lng.toFixed(6),"°"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Расстояние:"})," ",(r.coordinateError.distance/1e3).toFixed(1)," км"]})]})]}):V.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"Симуляция не завершена"})]})]}),r.coordinateError&&r.coordinateError.distance>1e3&&V.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#3a1a1a",borderRadius:"6px",borderLeft:"4px solid #FF6B35"},children:[V.jsx("h5",{style:{color:"#FF6B35",marginBottom:"10px"},children:"⚠️ Обнаружена большая ошибка координат!"}),V.jsxs("p",{style:{color:"#ccc",fontSize:"13px"},children:["Расхождение более ",(r.coordinateError.distance/1e3).toFixed(1)," км указывает на проблему в конвертации координат между 3D сценой и географическими координатами. Проверьте функции llhToECEF() и ecefToLatLng()."]})]}),V.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#2a2a2a",borderRadius:"6px"},children:[V.jsx("h5",{style:{color:"#fff",marginBottom:"10px"},children:"📊 Анализ точности"}),V.jsxs("div",{style:{color:"#ccc",fontSize:"13px"},children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Качество координат:"})," ",r.coordinateError?r.coordinateError.distance<1e3?"🟢 Отличное (<1 км)":r.coordinateError.distance<1e4?"🟡 Приемлемое (<10 км)":"🔴 Требует исправления (>10 км)":"Ожидание данных"]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Рекомендация:"})," ",r.coordinateError?r.coordinateError.distance<1e3?"Система работает корректно":"Проверьте алгоритмы конвертации координат":"Запустите симуляцию для анализа"]})]})]})]})}function Tft(n){const t=JSON.stringify(n),e=typeof window<"u"?btoa(unescape(encodeURIComponent(t))):"",i=new URL(window.location.href);return i.searchParams.set("s",e),i.toString()}function wft(n){try{const e=new URLSearchParams(n).get("s");if(!e)return null;const i=decodeURIComponent(escape(atob(e))),r=JSON.parse(i);return r&&r.v===1&&r.p?r:null}catch{return null}}function Aft({onShared:n,className:t}){const{params:e,accurateTargeting:i,forceExactHit:r,simplifyEffects:a,useAdvancedEarth:o,showClouds:l,showAtmosphere:h,pushLog:d}=m0(),g=H.useCallback(async()=>{const _=Tft({v:1,p:e,o:{accurateTargeting:i,forceExactHit:r,simplifyEffects:a,useAdvancedEarth:o,showClouds:l,showAtmosphere:h}});try{await navigator.clipboard?.writeText(_),d({time:0,message:"🔗 Ссылка на сценарий скопирована в буфер обмена"}),n?.(_)}catch{window.prompt("Скопируйте ссылку сценария:",_),d({time:0,message:"🔗 Ссылка на сценарий готова (скопируйте вручную)"})}},[e,i,r,a,o,l,h,n,d]);return V.jsx("button",{onClick:g,className:t,title:"Скопировать ссылку с текущими параметрами",children:"Поделиться сценарием"})}function Cft({open:n,onClose:t}){return H.useEffect(()=>{function e(i){i.key==="Escape"&&t()}return n&&window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,t]),n?V.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.55)",zIndex:1e3},onClick:t,children:V.jsxs("div",{role:"dialog","aria-modal":"true",onClick:e=>e.stopPropagation(),style:{maxWidth:860,margin:"60px auto",background:"#0d1117",color:"#e6edf3",borderRadius:8,border:"1px solid #30363d",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",padding:20,fontSize:14,lineHeight:1.5},children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[V.jsx("h2",{style:{margin:0},children:"Методология и проверка точности"}),V.jsx("button",{onClick:t,style:{background:"transparent",color:"#e6edf3",border:"1px solid #30363d",borderRadius:6,padding:"4px 8px"},children:"Закрыть"})]}),V.jsxs("p",{children:["Эта демонстрация использует точную геодезию на ",V.jsx("strong",{children:"WGS84"})," эллипсоиде для конвертации координат между географическими (широта/долгота/высота) и ECEF. Для измерения расстояний по поверхности применяем инверсную задачу ",V.jsx("strong",{children:"Винценти"})," (Vincenty), обеспечивающую метрическую точность."]}),V.jsxs("ul",{children:[V.jsxs("li",{children:["LLA → ECEF: аналитическое решение с радиусом кривизны ",V.jsx("em",{children:"N"}),"."]}),V.jsx("li",{children:"ECEF → LLA: итеративная схема с быстрым сходом (обычно ≤ 5 итераций)."}),V.jsx("li",{children:"Дистанции: формулы Vincenty на эллипсоиде (устойчивая обработка полюсов/антиподов)."})]}),V.jsx("h3",{children:"Физическая модель входа"}),V.jsxs("ul",{children:[V.jsx("li",{children:"Гравитация: центральное поле Земли (μ = G·M_earth)."}),V.jsx("li",{children:"Атмосфера: экспоненциальная плотность (ρ₀, H) с оценкой теплового потока."}),V.jsx("li",{children:"Лобовое сопротивление и динамическое давление q = ½ ρ V², фрагментация при превышении прочности материала."}),V.jsx("li",{children:"Энергия удара и оценка кратера по упрощённой эмпирике, сейсмика и ударная волна — через приближённые модели затухания."})]}),V.jsx("h3",{children:"Точность и верификация"}),V.jsxs("ul",{children:[V.jsx("li",{children:"Тесты на обратимость: LLA → ECEF → LLA с ошибкой менее 5 м по поверхности."}),V.jsx("li",{children:"Контрольные расстояния: Лондон–Париж ≈ 343 км (Vincenty)."}),V.jsx("li",{children:"Граничные случаи: устойчивость вблизи полюсов и антиподов."})]}),V.jsx("p",{children:"Режимы «Точное попадание» и «Принудительная точность» уменьшают дрейф из-за аэродинамики: первый — предварительной компенсацией траектории, второй — фиксацией точки удара для демонстрационных целей."}),V.jsx("p",{style:{opacity:.8},children:"Замечание: некоторые оценочные зависимости (кратер/сейсмика/ударная волна) упрощены и предназначены для сравнительной аналитики, а не для инженерного проектирования."})]})}):null}function ui({content:n,children:t,placement:e="top",delayMs:i=250}){const r=H.useId(),[a,o]=H.useState(!1),[l,h]=H.useState(!1),d=H.useRef(null),g=H.useRef(null);H.useEffect(()=>()=>{d.current&&window.clearTimeout(d.current)},[]);const v=()=>{d.current&&window.clearTimeout(d.current),d.current=window.setTimeout(()=>{h(!0),o(!0)},i)},_=()=>{d.current&&window.clearTimeout(d.current),o(!1)},b=(()=>{const M={position:"absolute",zIndex:50};switch(e){case"bottom":return{...M,top:"100%",left:"50%",transform:"translate(-50%, 8px)"};case"left":return{...M,right:"100%",top:"50%",transform:"translate(-8px, -50%)"};case"right":return{...M,left:"100%",top:"50%",transform:"translate(8px, -50%)"};case"top":default:return{...M,bottom:"100%",left:"50%",transform:"translate(-50%, -8px)"}}})();return V.jsxs("span",{ref:g,style:{position:"relative",display:"inline-flex",alignItems:"center"},onMouseEnter:v,onMouseLeave:_,onFocus:v,onBlur:_,children:[V.jsx("span",{"aria-describedby":r,children:t}),l&&V.jsx("span",{id:r,role:"tooltip",style:{...b,pointerEvents:"none",background:"rgba(20,24,31,0.95)",color:"#e6edf3",border:"1px solid #30363d",borderRadius:6,padding:"8px 10px",minWidth:180,maxWidth:360,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",opacity:a?1:0,transition:"opacity 120ms ease, transform 120ms ease"},children:V.jsx("div",{style:{fontSize:12,lineHeight:1.4},children:n})})]})}function Rft({position:n}){const t=H.useRef(null),[e,i]=H.useState(0);Ho((o,l)=>i(h=>h+l));const r=Math.min(1,e*3),a=Math.max(0,1-e*.8);return a<=0?null:V.jsxs("mesh",{ref:t,position:n,scale:r,onUpdate:o=>{o.layers.enable(1)},children:[V.jsx("sphereGeometry",{args:[.05,16,16]}),V.jsx("meshStandardMaterial",{emissive:"#ff6600",emissiveIntensity:4,transparent:!0,opacity:a,color:"#ffaa00"})]})}const ny=zo;function xU({stepDeg:n=30,radius:t=1.001,color:e="#2a8"}){const i=H.useMemo(()=>{const a=[];for(let o=-180;o<=180;o+=n){const l=[];for(let d=-89;d<=89;d+=2){const g=d*Math.PI/180,v=o*Math.PI/180,_=Math.cos(g)*Math.cos(v)*t,b=Math.sin(g)*t,M=-Math.cos(g)*Math.sin(v)*t;l.push(_,b,M)}const h=new xn;h.setAttribute("position",new ze(new Float32Array(l),3)),a.push(h)}for(let o=-60;o<=60;o+=n){const l=o*Math.PI/180,h=[];for(let g=-180;g<=180;g+=2){const v=g*Math.PI/180,_=Math.cos(l)*Math.cos(v)*t,b=Math.sin(l)*t,M=-Math.cos(l)*Math.sin(v)*t;h.push(_,b,M)}const d=new xn;d.setAttribute("position",new ze(new Float32Array(h),3)),a.push(d)}return a},[n,t]),r=H.useMemo(()=>new ls({color:e}),[e]);return V.jsx("group",{children:i.map((a,o)=>V.jsx("primitive",{object:new Tf(a,r)},o))})}function bU({targetLat:n,targetLng:t,impactECEF:e,earthRef:i}){const r=H.useMemo(()=>Ep(n,t,0),[n,t]),a=_=>new at(_.x/zo,_.z/zo,-_.y/zo),o=_=>i.current?i.current.worldToLocal(_.clone()):_,l=H.useMemo(()=>o(a(r)),[r,i.current]),h=H.useMemo(()=>e?o(a(e)):null,[e,i.current]),d=new Rl({color:"#ff4455"}),g=new Rl({color:"#44ddff"}),v=new Ng(.01,12,12);return V.jsxs("group",{children:[V.jsxs("mesh",{position:o(new at(1,0,0)),children:[V.jsx("sphereGeometry",{args:[.008,10,10]}),V.jsx("meshBasicMaterial",{color:"#55ff88"})]}),V.jsx("mesh",{position:l,material:d,geometry:v}),h&&V.jsx("mesh",{position:h,material:g,geometry:v})]})}function Oft(){const{body:n,setBody:t,params:e,simState:i,setSimState:r,t:a,setTime:o,pushLog:l,setImpactPoint:h,impactPoint:d,initialSpeedMs:g,peakDynamicPressurePa:v,setPeakDynamicPressure:_,peakHeatFluxWm2:b,setPeakHeatFlux:M,setImpactEnergy:A,simTimeScale:T,impactTargetSeconds:E,simplifyEffects:O,enableBloom:P,bloomIntensity:z,useAdvancedEarth:F,showClouds:I,showAtmosphere:q,addTrajectoryPoint:Y,setLastImpactECEF:G,setLastCrater:j,forceExactHit:K,selectiveBloom:st,cinematicMode:lt,uvOffsetDeg:dt,showGeoGrid:vt,showGeoMarkers:X}=m0(),it=H.useRef(!1),tt=H.useRef(0),yt=H.useRef(null),Q=H.useRef([]),ut=H.useRef(null),[gt,Lt]=H.useState(null),Dt=H.useRef({crater:.08,shock:.35,explosionPower:.8}),[Zt,_t]=H.useState([]),Qt=H.useRef(0),ae=pe=>new at(pe.x/ny,pe.z/ny,-pe.y/ny);H.useEffect(()=>{i==="running"&&(Q.current=[],Lt(null),it.current=!1)},[i]);const Xt=H.useRef(new at(1,.3,.8).normalize());Ho(()=>{const jt=gY(new Date),ot=jt.x,Ht=jt.z,Gt=-jt.y;Xt.current.set(ot,Ht,Gt).normalize()}),Ho((pe,jt)=>{if(!n||i!=="running")return;const ot=T??.15,Ht=.02;let Gt=Math.min(jt*ot,.08);if(!it.current&&E){const qt=n.positionM,te=n.velocityMs,Le=Math.sqrt(qt.x*qt.x+qt.y*qt.y+qt.z*qt.z),He=Math.max(0,Le-zo),$={x:qt.x/Le,y:qt.y/Le,z:qt.z/Le},Z=Math.max(1,-(te.x*$.x+te.y*$.y+te.z*$.z)),Mt=He/Z,$t=E-a-Mt;Gt=Math.max(0,Gt*(1+.02*$t)),Gt=Math.min(.12,Math.max(0,Gt))}if(Zt.length){const qt=Zt.map(te=>({...te,pos:te.pos.clone().add(te.vel.clone().multiplyScalar(Gt)),life:te.life-Gt})).filter(te=>te.life>0);qt.length,Zt.length,_t(qt)}tt.current+=Gt;let Yt=0;for(;tt.current>=Ht&&Yt<5;){const qt=JI(n,{dt:Ht,attitudeFactor:1});yt.current=qt;const te=n.asteroidType||"rocky",He=$I[te].strength;if(!n.fragmented&&qt.dynamicPressurePa>He){l({time:a,message:`Фрагментация ${te} тела при q≈${(qt.dynamicPressurePa/1e6).toFixed(1)} МПа`}),t({...qt.body,fragmented:!0,fragmentCount:qt.body.fragmentCount||1,areaMultiplier:qt.body.areaMultiplier||1,asteroidType:te});const $=qt.body.fragmentCount||2,Z=ae(qt.body.positionM),Mt=Array.from({length:Math.min($,8)},()=>{const Nt=++Qt.current,$t=new at().randomDirection(),It=.1+Math.random()*.4;return{id:Nt,pos:Z.clone(),vel:$t.multiplyScalar(It),life:2.5}});_t(Nt=>[...Nt,...Mt])}else t(qt.body);if(Q.current.length%3===0){const $=ae(qt.body.positionM);Q.current.push($),Q.current.length>30&&Q.current.shift()}tt.current-=Ht,Yt++}if(!yt.current)return;const At=yt.current;if(o(a+Gt),Math.floor(a*10)%3===0){const qt=At.body.positionM,te=At.body.velocityMs,Le=Math.sqrt(qt.x*qt.x+qt.y*qt.y+qt.z*qt.z),He=Math.max(0,Le-zo),$=Math.sqrt(te.x*te.x+te.y*te.y+te.z*te.z);Y({time:a,altitude:He,velocity:$,dynamicPressure:At.dynamicPressurePa,heatFlux:At.heatFluxWm2,temperature:At.temperatureK||300,mass:At.body.massKg})}if((!v||At.dynamicPressurePa>v)&&_(At.dynamicPressurePa),(!b||At.heatFluxWm2>b)&&M(At.heatFluxWm2),zh(At.body.positionM)<=zo&&!it.current){it.current=!0,A(At.energyJ);const qt=tB(At.energyJ),te=rB(qt,"sediment"),Le=nB(qt,100),He=iB(qt,50),$=SY(At.energyJ),Z=At.body.positionM;let{lat:Mt,lng:Nt}=Vy(Z),$t=Z;K&&(Mt=e.targetLatDeg,Nt=e.targetLonDeg,$t=Ep(e.targetLatDeg,e.targetLonDeg,0),l({time:a,message:"🎯 Применена принудительная точность - удар перенесен в цель"}));const It=MY(Mt,Nt);G($t),l({time:a,message:`💥 Столкновение! Энергия ~ ${qt.toFixed(2)} Мт ТНТ`}),l({time:a,message:`📍 ECEF координаты удара: (${Z.x.toFixed(0)}, ${Z.y.toFixed(0)}, ${Z.z.toFixed(0)})`}),l({time:a,message:`🌍 Координаты удара: ${Mt.toFixed(6)}°, ${Nt.toFixed(6)}°`}),l({time:a,message:`🗺️ Место удара (оценка офлайн): ${It}`}),(async()=>{try{const ct=await RY(Mt,Nt);l({time:a,message:`📌 Точное место удара: ${ct.label} (источник: ${ct.source})`})}catch{}})();const Me=Ep(e.targetLatDeg,e.targetLonDeg,0),ve=Math.sqrt(Math.pow($t.x-Me.x,2)+Math.pow($t.y-Me.y,2)+Math.pow($t.z-Me.z,2));if(l({time:a,message:`📏 Расстояние от цели: ${(ve/1e3).toFixed(2)} км`}),l({time:a,message:`Оценочный диаметр кратера: ${te.diameter.toFixed(0)} м`}),l({time:a,message:`Глубина кратера: ${te.depth.toFixed(0)} м`}),l({time:a,message:`Сейсмическая магнитуда: ${Le.magnitude.toFixed(1)}`}),l({time:a,message:`Избыточное давление (50км): ${(He.overpressure/1e3).toFixed(1)} кПа`}),l({time:a,message:`Дельта-V Земли: ${$.toExponential(3)} м/с (пренебрежимо)`}),g!==void 0){const ct=Math.max(0,g-At.speedMs);l({time:a,message:`Потеря скорости при входе: ${ct.toFixed(0)} м/с`})}v&&l({time:a,message:`Пиковое динамическое давление: ${(v/1e3).toFixed(0)} кПа`});const Pe=$*86400;l({time:a,message:`Смещение Земли за 1 сутки из-за dV: ${Pe.toExponential(3)} м (оценка)`});const oe=K?$t:At.body.positionM,De=ae(oe).toArray();if(h(De),j({diameterM:te.diameter,depthM:te.depth,rimHeightM:te.rimHeight}),ut.current){const ct=new at(...De),Et=ut.current.worldToLocal(ct.clone());Lt(Et)}else Lt(new at(...De));r("impact"),Dt.current.crater=Math.min(.25,te.diameter/2/ny),Dt.current.shock=Math.min(.5,Math.max(.2,Math.sqrt(qt)*.01)),Dt.current.explosionPower=Math.min(2,Math.max(.6,Math.cbrt(qt)*.1)),setTimeout(()=>r("complete"),100)}});const le=H.useMemo(()=>n?ae(n.positionM).toArray():[0,0,2],[n]);return V.jsxs(V.Fragment,{children:[V.jsx("ambientLight",{intensity:.6}),V.jsx("directionalLight",{position:[5,5,5],intensity:.5}),V.jsx(FX,{radius:50,depth:20,count:1500,factor:2,saturation:0,fade:!0,speed:0}),V.jsxs(H.Suspense,{fallback:null,children:[F?V.jsxs(tY,{ref:ut,scale:[1,1,1],sunDirRef:Xt,uvOffsetDeg:dt,children:[I&&V.jsx(nY,{}),q&&V.jsx(eY,{sunDirRef:Xt}),vt&&V.jsx(xU,{}),X&&V.jsx(bU,{targetLat:e.targetLatDeg,targetLng:e.targetLonDeg,impactECEF:K?void 0:yt.current?.body?.positionM,earthRef:ut}),gt&&V.jsxs(V.Fragment,{children:[V.jsx(Dx,{position:gt.toArray(),duration:1.4,maxRadius:Dt.current.shock,color:"#88ccff"}),V.jsx(Dx,{position:gt.toArray(),duration:1,maxRadius:Dt.current.shock*.75,color:"#ffaa66"}),V.jsx(SD,{position:gt.toArray(),finalRadius:Dt.current.crater,growTime:2,opacity:.55}),!O&&V.jsx(MD,{position:gt.toArray(),duration:2.5,maxSize:.25})]})]}):V.jsxs(YX,{ref:ut,scale:[1,1,1],uvOffsetDeg:dt,children:[vt&&V.jsx(xU,{}),X&&V.jsx(bU,{targetLat:e.targetLatDeg,targetLng:e.targetLonDeg,impactECEF:K?void 0:yt.current?.body?.positionM,earthRef:ut}),gt&&V.jsxs(V.Fragment,{children:[V.jsx(Dx,{position:gt.toArray(),duration:1.4,maxRadius:Dt.current.shock,color:"#88ccff"}),V.jsx(Dx,{position:gt.toArray(),duration:1,maxRadius:Dt.current.shock*.75,color:"#ffaa66"}),V.jsx(SD,{position:gt.toArray(),finalRadius:Dt.current.crater,growTime:2,opacity:.55}),!O&&V.jsx(MD,{position:gt.toArray(),duration:2.5,maxSize:.25})]})]}),n&&V.jsx(sY,{position:le,diameterM:e.diameterM,meterScale:ny}),Zt.map(pe=>{const jt=Math.max(0,pe.life),ot=.003+.006*jt,Ht=new Ee("#ffaa66").lerp(new Ee("#444"),1-jt);return V.jsxs("mesh",{position:pe.pos.toArray(),children:[V.jsx("sphereGeometry",{args:[ot,6,6]}),V.jsx("meshBasicMaterial",{color:Ht,transparent:!0,opacity:.8*jt})]},pe.id)}),d&&V.jsxs(V.Fragment,{children:[V.jsx(Rft,{position:d}),V.jsx(lY,{position:d,power:Dt.current.explosionPower,count:O?50:Math.round(60*Dt.current.explosionPower+40),duration:1.6})]}),Q.current.length>1&&V.jsx(uY,{positions:Q.current,maxLength:20,color:"#ffaa00"})]}),V.jsx(zX,{enablePan:!0,enableZoom:!0,enableRotate:!0}),P&&V.jsx(WX,{intensity:z??.35,threshold:.9,radius:.15,selective:!!st,cinematic:!!lt,exposure:lt?1.1:1})]})}function Pft(){const{neos:n,neoPage:t,setNEOs:e,appendNEOs:i,setNEOPage:r,selectedNEOId:a,selectNEO:o,params:l,updateParams:h,setBody:d,setSimState:g,resetLogs:v,pushLog:_,setInitialSpeed:b,setSimTimeScale:M,impactTargetSeconds:A,setImpactTargetSeconds:T,simplifyEffects:E,setSimplifyEffects:O,setImpactPoint:P,enableBloom:z,setEnableBloom:F,bloomIntensity:I,setBloomIntensity:q,useAdvancedEarth:Y,setUseAdvancedEarth:G,showClouds:j,setShowClouds:K,showAtmosphere:st,setShowAtmosphere:lt,clearTrajectoryData:dt,trajectoryData:vt,lastImpactECEF:X,cinematicMode:it,setCinematicMode:tt,selectiveBloom:yt,setSelectiveBloom:Q,showGeoGrid:ut,setShowGeoGrid:gt,showGeoMarkers:Lt,setShowGeoMarkers:Dt}=m0(),[Zt,_t]=H.useState(!1),[Qt,ae]=H.useState(!1),[Xt,le]=H.useState(!1),[pe,jt]=H.useState(!1),[ot,Ht]=H.useState(!1),[Gt,Yt]=H.useState(!1),[At,me]=H.useState(null),qt=($,Z)=>{const Nt=.5*$**3*2500*Z**2/4184e12;return $>=1e3?{label:"🔴 ГЛОБАЛЬНАЯ КАТАСТРОФА (>1 км)",color:"#8b0000"}:$>=140?{label:"🟠 РЕГИОНАЛЬНАЯ КАТАСТРОФА (>140 м)",color:"#ff4500"}:$>=50?{label:"🟡 ЗНАЧИТЕЛЬНАЯ УГРОЗА (>50 м)",color:"#ffa500"}:Nt>=1?{label:"🟡 ПОТЕНЦИАЛЬНО ОПАСНЫЙ (>1 Мт)",color:"#ffd700"}:$>=10?{label:"🟢 УМЕРЕННАЯ УГРОЗА (>10 м)",color:"#32cd32"}:{label:"🔵 МИНИМАЛЬНАЯ УГРОЗА (<10 м)",color:"#4169e1"}};H.useEffect(()=>{ED(0).then(e).catch(Z=>console.error(Z));const $=wft(window.location.search);$&&(h($.p),$.o&&(typeof $.o.simplifyEffects=="boolean"&&O($.o.simplifyEffects),typeof $.o.useAdvancedEarth=="boolean"&&G($.o.useAdvancedEarth),typeof $.o.showClouds=="boolean"&&K($.o.showClouds),typeof $.o.showAtmosphere=="boolean"&&lt($.o.showAtmosphere)),_({time:0,message:"📥 Загружен сценарий из ссылки"}))},[e]);const te=async()=>{const $=t+1,Z=await ED($);i(Z),r($)},Le=()=>{v(),P(void 0),dt(),_({time:0,message:`🎯 Начальные координаты цели: ${l.targetLatDeg.toFixed(6)}°, ${l.targetLonDeg.toFixed(6)}°`});let $,Z;{_({time:0,message:"🔧 Используется точное прицеливание..."});const Et=EY(l);$=Et.correctedPosition,Z=Et.correctedVelocity,_({time:0,message:`📈 Ожидаемое отклонение без коррекции: ${Et.expectedDeviation.toFixed(1)} км`});const fe=Vy(Et.correctedPosition);_({time:0,message:`🎯 Скорректированный старт: ${fe.lat.toFixed(6)}°, ${fe.lng.toFixed(6)}°`})}_({time:0,message:`📍 ECEF координаты старта: (${$.x.toFixed(0)}, ${$.y.toFixed(0)}, ${$.z.toFixed(0)})`});const Mt=Vy($),Nt=Math.abs(Mt.lat-l.targetLatDeg),$t=Math.abs(Mt.lng-l.targetLonDeg);_({time:0,message:`✅ Проверка: lat=${Mt.lat.toFixed(6)}°, lng=${Mt.lng.toFixed(6)}°`}),_({time:0,message:`📏 Ошибка преобразования: lat=${Nt.toFixed(8)}°, lng=${$t.toFixed(8)}°`}),d(void 0),d({massKg:l.massKg,diameterM:l.diameterM,positionM:$,velocityMs:Z,asteroidType:l.asteroidType}),b(Math.hypot(Z.x,Z.y,Z.z));const It=eB({massKg:l.massKg,diameterM:l.diameterM,positionM:$,velocityMs:Z,asteroidType:l.asteroidType});if(It.impactPoint){_({time:0,message:`Предсказанное время до удара: ${It.timeToImpact.toFixed(1)}с`}),_({time:0,message:`Максимальное динамическое давление: ${(It.maxDynamicPressure/1e6).toFixed(1)} МПа`});const Et=.5*l.massKg*Math.pow(Math.hypot(Z.x,Z.y,Z.z),2),fe=tB(Et),pt=rB(fe);let ie=1,he=10;for(let _e=1;_e<=100;_e+=1)if(iB(fe,_e).overpressure<1e3){ie=_e*1e3;break}for(let _e=1;_e<=1e3;_e+=10)if(nB(fe,_e).intensity<3){he=_e*1e3;break}me({lat:l.targetLatDeg,lng:l.targetLonDeg,craterRadius:pt.diameter/2,blastRadius:ie,seismicRadius:he})}else _({time:0,message:"Астероид не достигнет поверхности"}),me(null);const Me=jw(l.targetLatDeg,l.targetLonDeg),ve=Math.max(1,Math.abs(Z.x*Me.u.x+Z.y*Me.u.y+Z.z*Me.u.z)),Oe=Math.sqrt($.x*$.x+$.y*$.y+$.z*$.z),Pe=Math.max(0,Oe-zo),oe=Math.max(1,Pe/ve);let ct=.15*(oe/(A??5));ct=Math.min(Math.max(ct,.05),.6),M(ct),_({time:0,message:`Калибровка времени: визуальный масштаб ≈ ${ct.toFixed(2)} (оценка t_impact ≈ ${oe.toFixed(1)}с)`}),g("running"),_({time:0,message:"Симуляция запущена"})},He=()=>{_({time:0,message:"Параметры сохранены локально"})};return V.jsxs("div",{className:"controls",children:[V.jsxs("div",{className:"row",children:[V.jsxs("label",{children:["Астероид из NASA (NEO):",V.jsxs("select",{value:a??"",onChange:$=>o($.target.value),children:[V.jsx("option",{value:"",children:"-- Select --"}),n.map($=>V.jsxs("option",{value:$.id,children:[$.name," (~",Math.round($.estimated_diameter_m)," m)"]},$.id))]})]}),V.jsx(ui,{content:"Подгрузить следующую страницу околоземных объектов из NASA API.",children:V.jsx("button",{className:"btn btn-info",onClick:te,children:"Загрузить ещё"})})]}),V.jsxs("div",{className:"grid",children:[V.jsxs("label",{children:["Масса (кг)",V.jsx(ui,{content:"Масса астероида влияет на кинетическую энергию и глубину проникновения. Указывается в килограммах.",children:V.jsx("input",{type:"number",value:Math.round(l.massKg),onChange:$=>h({massKg:Number($.target.value)})})})]}),V.jsxs("label",{children:["Диаметр (м)",V.jsx(ui,{content:"Эффективный диаметр тела. Используется для расчёта площади сечения и энергии.",children:V.jsx("input",{type:"number",value:l.diameterM,onChange:$=>h({diameterM:Number($.target.value)})})})]}),V.jsxs("label",{children:["Тип астероида",V.jsx(ui,{content:"Материал определяет плотность и прочность на фрагментацию. Железные тела прочнее и тяжелее.",children:V.jsxs("select",{value:l.asteroidType,onChange:$=>h({asteroidType:$.target.value}),children:[V.jsx("option",{value:"rocky",children:"🪨 Каменный (S-класс)"}),V.jsx("option",{value:"iron",children:"⚙️ Железный (M-класс)"}),V.jsx("option",{value:"icy",children:"🧊 Ледяной (C-класс)"}),V.jsx("option",{value:"carbon",children:"🏴 Углеродистый (C-класс)"})]})})]}),V.jsx("div",{style:{padding:"8px",borderRadius:"4px",backgroundColor:qt(l.diameterM,l.entrySpeedMs).color,color:"white",fontSize:"12px",fontWeight:"bold"},children:qt(l.diameterM,l.entrySpeedMs).label}),V.jsxs("label",{children:["Скорость входа (м/с)",V.jsx(ui,{content:"Начальная скоростЬ при входе в атмосферу. Большая скорость увеличивает энергию удара и тепловыделение.",children:V.jsx("input",{type:"number",value:l.entrySpeedMs,onChange:$=>h({entrySpeedMs:Number($.target.value)})})})]}),V.jsxs("label",{children:["Высота входа (м)",V.jsx(ui,{content:"Высота над уровнем моря, где начинается симуляция входа. Влияет на время до удара.",children:V.jsx("input",{type:"number",value:l.entryAltitudeM,onChange:$=>h({entryAltitudeM:Number($.target.value)})})})]}),V.jsxs("label",{children:["Целевая широта (°)",V.jsx(ui,{content:"Широта точки прицеливания на поверхности Земли (WGS84).",children:V.jsx("input",{type:"number",value:l.targetLatDeg,onChange:$=>h({targetLatDeg:Number($.target.value)})})})]}),V.jsxs("label",{children:["Целевая долгота (°)",V.jsx(ui,{content:"Долгота точки прицеливания на поверхности Земли (WGS84).",children:V.jsx("input",{type:"number",value:l.targetLonDeg,onChange:$=>h({targetLonDeg:Number($.target.value)})})})]}),V.jsxs("label",{children:["Угол входа (°)",V.jsx(ui,{content:"Угол между горизонталью и направлением движения. Больший угол — круче траектория.",children:V.jsx("input",{type:"number",value:l.angleDeg,onChange:$=>h({angleDeg:Number($.target.value)})})})]}),V.jsxs("label",{children:["Время до удара (с)",V.jsx(ui,{content:"Желаемое время реального мира до удара для визуализации. Автоматически подстраивает скорость покадрово.",children:V.jsx("input",{type:"number",value:A??5,onChange:$=>T(Number($.target.value)||5)})})]})]}),V.jsxs("div",{className:"row",children:[V.jsx(ui,{content:"Сохранить текущие параметры в памяти сеанса (без сервера).",children:V.jsx("button",{className:"btn btn-secondary",onClick:He,children:"Сохранить изменения"})}),V.jsx(ui,{content:"Запустить симуляцию со всеми текущими параметрами и визуализацией.",children:V.jsx("button",{className:"btn btn-accent",onClick:Le,children:"Запустить симуляцию"})}),V.jsx(ui,{content:"Сбросить и выбрать параметры заново (перезагрузка страницы).",children:V.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Заново выбрать параметры"})}),V.jsx(ui,{content:"Скопировать ссылку с текущим сценарием. Откройте её на другом устройстве — параметры загрузятся автоматически.",children:V.jsx("span",{children:V.jsx(Aft,{className:"btn btn-success",onShared:$=>console.debug("Shared URL:",$)})})}),V.jsx(ui,{content:"Описание использованных моделей: геодезия WGS84, расстояния Vincenty, аэродинамика, фрагментация и проверки точности.",children:V.jsx("button",{className:"btn btn-secondary",onClick:()=>Yt(!0),children:"Методология"})}),V.jsx(ui,{content:"Открыть интерактивную карту воздействия (кратер, ударная волна, сейсм.)",children:V.jsx("button",{className:"btn btn-primary",onClick:()=>_t(!Zt),children:Zt?"Скрыть карту":"Показать карту воздействия"})}),V.jsx(ui,{content:"Графики профиля полёта: высота, скорость, q, тепловой поток и т.п.",children:V.jsx("button",{className:"btn btn-secondary",onClick:()=>ae(!Qt),children:Qt?"Скрыть дашборд":"Показать аналитику"})}),V.jsx(ui,{content:"Экспорт отчёта по сценарию: параметры, результаты и графики (PDF/JSON).",children:V.jsx("button",{className:"btn btn-success",onClick:()=>le(!Xt),children:Xt?"Скрыть экспорт":"Экспорт данных"})}),V.jsx(ui,{content:"Исторические события ударов: справка и сравнения с вашим сценарием.",children:V.jsx("button",{className:"btn btn-warning",onClick:()=>jt(!pe),children:pe?"Скрыть историю":"Исторические события"})}),V.jsx(ui,{content:"Подробная проверка координат: преобразования LLA↔ECEF, расстояния и сходимость.",children:V.jsx("button",{className:"btn btn-danger",onClick:()=>Ht(!ot),children:ot?"Скрыть отладчик":"Отладчик координат"})})]}),V.jsxs("div",{className:"row",children:[V.jsxs("label",{children:["Упростить эффекты",V.jsx(ui,{content:"Отключает тяжёлые визуальные эффекты (частицы/свечение) для экономии ресурсов.",children:V.jsx("input",{type:"checkbox",checked:!!E,onChange:$=>O($.target.checked)})})]}),V.jsxs("label",{style:{marginLeft:12},children:["Продвинутая Земля",V.jsx(ui,{content:"Включает детализированную модель Земли (шейдер, облака, атмосфера). Требовательнее к GPU.",children:V.jsx("input",{type:"checkbox",checked:!!Y,onChange:$=>G($.target.checked)})})]}),V.jsxs("label",{style:{marginLeft:12},children:["Облака",V.jsx(ui,{content:"Добавляет слой облаков поверх Земли. Доступно в режиме 'Продвинутая Земля'.",children:V.jsx("input",{type:"checkbox",checked:!!j,onChange:$=>K($.target.checked),disabled:!Y})})]}),V.jsxs("label",{style:{marginLeft:12},children:["Атмосфера",V.jsx(ui,{content:"Светорассеяние и сияние атмосферы. Доступно в режиме 'Продвинутая Земля'.",children:V.jsx("input",{type:"checkbox",checked:!!st,onChange:$=>lt($.target.checked),disabled:!Y})})]}),V.jsxs("label",{style:{marginLeft:12},children:["🎬 Cinematic",V.jsx(ui,{content:"ACES tone mapping, мягкий виньет и настроенный bloom для презентаций.",children:V.jsx("input",{type:"checkbox",checked:!!it,onChange:$=>tt($.target.checked)})})]}),V.jsxs("label",{style:{marginLeft:12},children:["✨ Selective Bloom",V.jsx(ui,{content:"Свечение применяется только к ярким эффектам (астероид/взрыв/шоковая волна).",children:V.jsx("input",{type:"checkbox",checked:!!yt,onChange:$=>Q($.target.checked)})})]}),V.jsxs("label",{style:{marginLeft:12},children:["Геосетка",V.jsx(ui,{content:"Отображает сетку широт и долгот для проверки выравнивания текстур и координат.",children:V.jsx("input",{type:"checkbox",checked:!!ut,onChange:$=>gt($.target.checked)})})]}),V.jsxs("label",{style:{marginLeft:12},children:["Геомаркеры",V.jsx(ui,{content:"Пины: цель, моментальный удар, и Гринвич для визуальной верификации.",children:V.jsx("input",{type:"checkbox",checked:!!Lt,onChange:$=>Dt($.target.checked)})})]}),V.jsxs("label",{style:{marginLeft:12},children:["Bloom",V.jsx(ui,{content:"Эффект свечения ярких областей (постобработка). Может снижать производительность.",children:V.jsx("input",{type:"checkbox",checked:!!z,onChange:$=>F($.target.checked)})})]}),V.jsxs("label",{style:{marginLeft:12},children:["Яркость Bloom",V.jsx(ui,{content:"Интенсивность эффекта свечения. Используйте осторожно, чтобы избежать засветки.",children:V.jsx("input",{type:"range",min:0,max:1,step:.05,value:I??.35,onChange:$=>q(Number($.target.value))})})]})]}),Zt&&V.jsxs("div",{style:{marginTop:20},children:[V.jsx("h3",{children:"Интерактивная карта воздействия"}),V.jsx("div",{style:{height:"400px",border:"1px solid #ccc",borderRadius:"4px"},children:V.jsx(QY,{location:[l.targetLatDeg,l.targetLonDeg],onLocationChange:($,Z)=>{h({targetLatDeg:$,targetLonDeg:Z}),_({time:0,message:`Новая цель: ${$.toFixed(4)}°, ${Z.toFixed(4)}°`})},impactData:At})})]}),V.jsx(xft,{trajectoryData:vt,impactConsequences:At?{energyMt:0,craterDiameter:At.craterRadius*2,craterDepth:At.craterRadius*.13,seismicMagnitude:0,blastRadius:At.blastRadius}:null,asteroidType:l.asteroidType,initialMass:l.massKg,isVisible:Qt}),V.jsx(bft,{data:{scenarioParams:l,trajectoryData:vt,impactResults:At?{energyMt:0,craterDiameter:At.craterRadius*2,craterDepth:At.craterRadius*.13,seismicMagnitude:0,blastRadius:At.blastRadius}:void 0,timestamp:new Date().toISOString()},isVisible:Xt}),V.jsx(Sft,{isVisible:pe}),V.jsx(Cft,{open:Gt,onClose:()=>Yt(!1)}),ot&&l.targetLatDeg!==void 0&&l.targetLonDeg!==void 0&&V.jsx(Eft,{targetLat:l.targetLatDeg,targetLng:l.targetLonDeg,actualImpactECEF:X,isVisible:ot})]})}function Dft(){const{logs:n}=m0();return V.jsxs("div",{className:"logs",children:[V.jsx("h3",{children:"Логи симуляции"}),V.jsx("div",{className:"loglist",children:n.map((t,e)=>V.jsxs("div",{className:"log",children:[V.jsxs("span",{className:"time",children:["t=",t.time.toFixed(1),"s"]})," ",t.message]},e))})]})}function Lft(){return V.jsxs("div",{className:"app",children:[V.jsxs("header",{children:[V.jsx("h1",{children:"METEOR MADNESS — ASTEROID IMPACT SIMULATOR"}),V.jsxs("div",{className:"status",children:[V.jsx("span",{className:"chip live",children:"SYSTEM ONLINE"}),V.jsx("span",{className:"chip",children:"WGS84"}),V.jsx("span",{className:"chip",children:"R3F"})]})]}),V.jsx("div",{className:"panel",children:V.jsx(Pft,{})}),V.jsx("div",{className:"panel viewport",children:V.jsx(oY,{children:V.jsx(SX,{shadows:!1,dpr:[1,1.5],gl:{antialias:!1,powerPreference:"low-power",alpha:!1,stencil:!1,depth:!0,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1},camera:{position:[0,2.2,3.2],fov:50},onCreated:({scene:n,gl:t})=>{n.background=new Ee("#05070a"),t.outputColorSpace=za;const e=t.domElement;e.addEventListener("webglcontextlost",i=>{console.warn("WebGL context lost - preventing default behavior"),i.preventDefault()}),e.addEventListener("webglcontextrestored",()=>{console.log("WebGL context restored"),t.resetState()})},children:V.jsx(Oft,{})})})}),V.jsx("div",{className:"panel",children:V.jsx(Dft,{})})]})}Wk.createRoot(document.getElementById("root")).render(V.jsx(H.StrictMode,{children:V.jsx(Lft,{})}));
